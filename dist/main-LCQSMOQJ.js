import{A as wc,B as Gv,C as Hv,D as qh,E as Ec,F as Ic,G as Wv,H as qv,I as Tc,J as Kv,K as Qv,L as Ki,M as Kh,N as Qh,O as Cc,P as Qn,R as yn,S as Sc,T as xc,U as Ac,V as Rc,W as Yi,X as Zi,a as Dv,b as Mv,c as Ov,d as ks,e as zh,f as vc,g as pa,h as Ns,i as Gh,j as Pv,k as kv,l as Hh,m as Nv,n as Fv,o as Vv,p as Lv,q as Uv,r as Wh,s as Fs,t as vn,u as yc,v as bc,w as Bv,x as jv,y as $v,z as zv}from"./chunk-AG4YRAAV.js";import{$ as Ve,$a as Nh,$b as fc,A as an,Aa as Hi,Ab as Mr,B as cv,Ba as da,Bb as G,Bc as Qi,C as oa,Ca as cn,Cb as le,Cc as _i,D as uv,Db as gi,E as Ar,Ea as Le,Eb as lt,Ec as un,F as Mn,Fa as qe,Fb as cc,Fc as Or,G as at,Ga as vv,Gb as Os,Gc as Kn,H as dv,Hb as Ke,Hc as Yv,Ib as Wt,Ic as Zv,J as Ms,Jb as be,K as aa,Ka as kh,Kb as we,La as oc,Lb as qn,M as Dh,Mb as N,N as ht,Nb as xt,O as hv,Ob as Zt,P as la,Pb as Qe,Q as Mh,Qb as Ye,R as ca,Rb as Ze,S as zi,Sb as Lt,T as Oh,Tb as ue,U as fv,Ub as fa,V as pv,Vb as uc,Wb as dc,X as mv,Xa as Wi,Xb as Lh,Yb as hc,Z as Gn,Za as V,Zb as Sv,_ as Tt,_a as P,_b as xv,a as q,ab as ac,ac as Av,b as Me,ba as Je,bb as yv,bc as pc,ca as gv,cc as Uh,d as ji,da as We,db as bv,dc as At,e as v,ea as Gi,eb as lc,f as $i,fa as he,fb as wv,fc as Ut,g as rv,ga as Ct,gb as ge,gc as Bh,h as Ds,ha as _v,hb as ha,i as Th,ia as ie,ic as jh,j as Ch,ja as Ph,jb as Wn,k as xe,ka as Oe,kb as Dr,l as It,la as j,lb as Ev,lc as _n,m as Sh,ma as ln,mb as Iv,mc,n as sv,nb as Tv,o as ov,oa as ae,ob as me,oc as Ps,p as Dn,pa as ce,pb as Xe,pc as qi,q as xh,qa as St,qb as J,qc as gc,r as Ah,ra as ye,rb as Fh,rc as _c,s as Rh,sa as Hn,sb as Ue,sc as $h,t as on,tb as Vh,tc as Rv,u as ee,ua,ub as Cv,uc as ft,v as sa,va as Rr,vb as et,w as av,wa as gn,wb as x,x as lv,xa as re,xb as R,y as de,ya as se,yb as De,z as rc,za as sc,zb as tt}from"./chunk-FOIKED23.js";var oe="primary",Ra=Symbol("RouteTitle"),ef=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function js(t){return new ef(t)}function KT(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],l=t[s];if(o.startsWith(":"))r[o.substring(1)]=l;else if(o!==l.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function QT(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Yn(t[n],e[n]))return!1;return!0}function Yn(t,e){let n=t?tf(t):void 0,i=e?tf(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!iy(t[r],e[r]))return!1;return!0}function tf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function iy(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function ry(t){return t.length>0?t[t.length-1]:null}function tr(t){return av(t)?t:fc(t)?on(Promise.resolve(t)):ee(t)}var YT={exact:oy,subset:ay},sy={exact:ZT,subset:JT,ignored:()=>!0};function Jv(t,e,n){return YT[n.paths](t.root,e.root,n.matrixParams)&&sy[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function ZT(t,e){return Yn(t,e)}function oy(t,e,n){if(!kr(t.segments,e.segments)||!Oc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!oy(t.children[i],e.children[i],n))return!1;return!0}function JT(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>iy(t[n],e[n]))}function ay(t,e,n){return ly(t,e,e.segments,n)}function ly(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!kr(r,n)||e.hasChildren()||!Oc(r,n,i))}else if(t.segments.length===n.length){if(!kr(t.segments,n)||!Oc(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!ay(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!kr(t.segments,r)||!Oc(t.segments,r,i)||!t.children[oe]?!1:ly(t.children[oe],e,s,i)}}function Oc(t,e,n){return e.every((i,r)=>sy[n](t[r].parameters,i.parameters))}var Ji=class{constructor(e=new Te([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=js(this.queryParams),this._queryParamMap}toString(){return tC.serialize(this)}},Te=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pc(this)}},Pr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=js(this.parameters),this._parameterMap}toString(){return uy(this)}};function XT(t,e){return kr(t,e)&&t.every((n,i)=>Yn(n.parameters,e[i].parameters))}function kr(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function eC(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===oe&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==oe&&(n=n.concat(e(r,i)))}),n}var Af=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:()=>new Nc,providedIn:"root"});let t=e;return t})(),Nc=class{parse(e){let n=new rf(e);return new Ji(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ma(e.root,!0)}`,i=rC(e.queryParams),r=typeof e.fragment=="string"?`#${nC(e.fragment)}`:"";return`${n}${i}${r}`}},tC=new Nc;function Pc(t){return t.segments.map(e=>uy(e)).join("/")}function ma(t,e){if(!t.hasChildren())return Pc(t);if(e){let n=t.children[oe]?ma(t.children[oe],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==oe&&i.push(`${r}:${ma(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=eC(t,(i,r)=>r===oe?[ma(t.children[oe],!1)]:[`${r}:${ma(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[oe]!=null?`${Pc(t)}/${n[0]}`:`${Pc(t)}/(${n.join("//")})`}}function cy(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dc(t){return cy(t).replace(/%3B/gi,";")}function nC(t){return encodeURI(t)}function nf(t){return cy(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kc(t){return decodeURIComponent(t)}function Xv(t){return kc(t.replace(/\+/g,"%20"))}function uy(t){return`${nf(t.path)}${iC(t.parameters)}`}function iC(t){return Object.entries(t).map(([e,n])=>`;${nf(e)}=${nf(n)}`).join("")}function rC(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Dc(n)}=${Dc(r)}`).join("&"):`${Dc(n)}=${Dc(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var sC=/^[^\/()?;#]+/;function Yh(t){let e=t.match(sC);return e?e[0]:""}var oC=/^[^\/()?;=#]+/;function aC(t){let e=t.match(oC);return e?e[0]:""}var lC=/^[^=?&#]+/;function cC(t){let e=t.match(lC);return e?e[0]:""}var uC=/^[^&#]+/;function dC(t){let e=t.match(uC);return e?e[0]:""}var rf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[oe]=new Te(e,n)),i}parseSegment(){let e=Yh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new We(4009,!1);return this.capture(e),new Pr(kc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=aC(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Yh(this.remaining);r&&(i=r,this.capture(i))}e[kc(n)]=kc(i)}parseQueryParam(e){let n=cC(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=dC(this.remaining);o&&(i=o,this.capture(i))}let r=Xv(n),s=Xv(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Yh(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new We(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=oe);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[oe]:new Te([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new We(4011,!1)}};function dy(t){return t.segments.length>0?new Te([],{[oe]:t}):t}function hy(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=hy(r);if(i===oe&&s.segments.length===0&&s.hasChildren())for(let[o,l]of Object.entries(s.children))e[o]=l;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new Te(t.segments,e);return hC(n)}function hC(t){if(t.numberOfChildren===1&&t.children[oe]){let e=t.children[oe];return new Te(t.segments.concat(e.segments),e.children)}return t}function $s(t){return t instanceof Ji}function fC(t,e,n=null,i=null){let r=fy(t);return py(r,e,n,i)}function fy(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let l=new Te(s.url,o);return s===t&&(e=l),l}let i=n(t.root),r=dy(i);return e??r}function py(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Zh(r,r,r,n,i);let s=pC(e);if(s.toRoot())return Zh(r,r,new Te([],{}),n,i);let o=mC(s,r,t),l=o.processChildren?va(o.segmentGroup,o.index,s.commands):gy(o.segmentGroup,o.index,s.commands);return Zh(r,o.segmentGroup,l,n,i)}function Fc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function wa(t){return typeof t=="object"&&t!=null&&t.outlets}function Zh(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`});let o;t===e?o=n:o=my(t,e,n);let l=dy(hy(o));return new Ji(l,s,r)}function my(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=my(s,e,n)}),new Te(t.segments,i)}var Vc=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Fc(i[0]))throw new We(4003,!1);let r=i.find(wa);if(r&&r!==ry(i))throw new We(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pC(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Vc(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let l={};return Object.entries(s.outlets).forEach(([c,u])=>{l[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((l,c)=>{c==0&&l==="."||(c==0&&l===""?n=!0:l===".."?e++:l!=""&&r.push(l))}),r):[...r,s]},[]);return new Vc(n,e,i)}var Us=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function mC(t,e,n){if(t.isAbsolute)return new Us(e,!0,0);if(!n)return new Us(e,!1,NaN);if(n.parent===null)return new Us(n,!0,0);let i=Fc(t.commands[0])?0:1,r=n.segments.length-1+i;return gC(n,r,t.numberOfDoubleDots)}function gC(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new We(4005,!1);r=i.segments.length}return new Us(i,!1,r-s)}function _C(t){return wa(t[0])?t[0].outlets:{[oe]:t}}function gy(t,e,n){if(t??=new Te([],{}),t.segments.length===0&&t.hasChildren())return va(t,e,n);let i=vC(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new Te(t.segments.slice(0,i.pathIndex),{});return s.children[oe]=new Te(t.segments.slice(i.pathIndex),t.children),va(s,0,r)}else return i.match&&r.length===0?new Te(t.segments,{}):i.match&&!t.hasChildren()?sf(t,e,n):i.match?va(t,0,r):sf(t,e,n)}function va(t,e,n){if(n.length===0)return new Te(t.segments,{});{let i=_C(n),r={};if(Object.keys(i).some(s=>s!==oe)&&t.children[oe]&&t.numberOfChildren===1&&t.children[oe].segments.length===0){let s=va(t.children[oe],e,n);return new Te(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=gy(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new Te(t.segments,r)}}function vC(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],l=n[i];if(wa(l))break;let c=`${l}`,u=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!ty(c,u,o))return s;i+=2}else{if(!ty(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function sf(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(wa(s)){let c=yC(s.outlets);return new Te(i,c)}if(r===0&&Fc(n[0])){let c=t.segments[e];i.push(new Pr(c.path,ey(n[0]))),r++;continue}let o=wa(s)?s.outlets[oe]:`${s}`,l=r<n.length-1?n[r+1]:null;o&&l&&Fc(l)?(i.push(new Pr(o,ey(l))),r+=2):(i.push(new Pr(o,{})),r++)}return new Te(i,{})}function yC(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=sf(new Te([],{}),0,i))}),e}function ey(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function ty(t,e,n){return t==n.path&&Yn(e,n.parameters)}var ya="imperative",Rt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Rt||{}),bn=class{constructor(e,n){this.id=e,this.url=n}},Ea=class extends bn{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Rt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Nr=class extends bn{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Rt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},hn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(hn||{}),of=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(of||{}),Xi=class extends bn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Rt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fr=class extends bn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Rt.NavigationSkipped}},Ia=class extends bn{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Rt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Lc=class extends bn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Rt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},af=class extends bn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Rt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lf=class extends bn{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Rt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cf=class extends bn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Rt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uf=class extends bn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Rt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},df=class{constructor(e){this.route=e,this.type=Rt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hf=class{constructor(e){this.route=e,this.type=Rt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ff=class{constructor(e){this.snapshot=e,this.type=Rt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pf=class{constructor(e){this.snapshot=e,this.type=Rt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mf=class{constructor(e){this.snapshot=e,this.type=Rt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gf=class{constructor(e){this.snapshot=e,this.type=Rt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ta=class{},Ca=class{constructor(e){this.url=e}};var _f=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Gc,this.attachRef=null}},Gc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new _f,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=vf(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=vf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=yf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return yf(e,this._root).map(n=>n.value)}};function vf(t,e){if(t===e.value)return e;for(let n of e.children){let i=vf(t,n);if(i)return i}return null}function yf(t,e){if(t===e.value)return[e];for(let n of e.children){let i=yf(t,n);if(i.length)return i.unshift(e),i}return[]}var dn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ls(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Bc=class extends Uc{constructor(e,n){super(e),this.snapshot=n,Df(this,e)}toString(){return this.snapshot.toString()}};function _y(t){let e=bC(t),n=new It([new Pr("",{})]),i=new It({}),r=new It({}),s=new It({}),o=new It(""),l=new er(n,i,s,o,r,oe,t,e.root);return l.snapshot=e.root,new Bc(new dn(l,[]),e)}function bC(t){let e={},n={},i={},r="",s=new Sa([],e,i,r,n,oe,t,null,{});return new jc("",new dn(s,[]))}var er=class{constructor(e,n,i,r,s,o,l,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=l,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(de(u=>u[Ra]))??ee(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>js(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>js(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rf(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:q(q({},e.params),t.params),data:q(q({},e.data),t.data),resolve:q(q(q(q({},t.data),e.data),r?.data),t._resolvedData)}:i={params:q({},t.params),data:q({},t.data),resolve:q(q({},t.data),t._resolvedData??{})},r&&yy(r)&&(i.resolve[Ra]=r.title),i}var Sa=class{get title(){return this.data?.[Ra]}constructor(e,n,i,r,s,o,l,c,u){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=l,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=js(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=js(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},jc=class extends Uc{constructor(e,n){super(n),this.url=e,Df(this,n)}toString(){return vy(this._root)}};function Df(t,e){e.value._routerState=t,e.children.forEach(n=>Df(t,n))}function vy(t){let e=t.children.length>0?` { ${t.children.map(vy).join(", ")} } `:"";return`${t.value}${e}`}function Jh(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Yn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Yn(e.params,n.params)||t.paramsSubject.next(n.params),QT(e.url,n.url)||t.urlSubject.next(n.url),Yn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function bf(t,e){let n=Yn(t.params,e.params)&&XT(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||bf(t.parent,e.parent))}function yy(t){return typeof t.title=="string"||t.title===null}var Mf=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.parentContexts=j(Gc),this.location=j(ha),this.changeDetector=j(At),this.environmentInjector=j(ua),this.inputBinder=j(Of,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new We(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new We(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new We(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new We(4013,!1);this._activatedRoute=i;let s=this.location,l=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new wf(i,c,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[gn]});let t=e;return t})(),wf=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===er?this.route:e===Gc?this.childContexts:this.parent.get(e,n)}},Of=new ie("");function wC(t,e,n){let i=xa(t,e._root,n?n._root:void 0);return new Bc(i,e)}function xa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=EC(t,e,n);return new dn(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(l=>xa(t,l)),o}}let i=IC(e.value),r=e.children.map(s=>xa(t,s));return new dn(i,r)}}function EC(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return xa(t,i,r);return xa(t,i)})}function IC(t){return new er(new It(t.url),new It(t.params),new It(t.queryParams),new It(t.fragment),new It(t.data),t.outlet,t.component,t)}var by="ngNavigationCancelingError";function wy(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=$s(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Ey(!1,hn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function Ey(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[by]=!0,n.cancellationCode=e,n}function TC(t){return Iy(t)&&$s(t.url)}function Iy(t){return!!t&&t[by]}var CC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ce({type:e,selectors:[["ng-component"]],standalone:!0,features:[ue],decls:1,vars:0,template:function(r,s){r&1&&De(0,"router-outlet")},dependencies:[Mf],encapsulation:2});let t=e;return t})();function SC(t,e){return t.providers&&!t._injector&&(t._injector=Iv(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Pf(t){let e=t.children&&t.children.map(Pf),n=e?Me(q({},t),{children:e}):q({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=CC),n}function Zn(t){return t.outlet||oe}function xC(t,e){let n=t.filter(i=>Zn(i)===e);return n.push(...t.filter(i=>Zn(i)!==e)),n}function Da(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var AC=(t,e,n,i)=>de(r=>(new Ef(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),Ef=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Jh(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Ls(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Ls(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:l})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Ls(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Ls(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new gf(s.value.snapshot))}),e.children.length&&this.forwardEvent(new pf(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(Jh(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(l.contexts),o.attachRef=l.componentRef,o.route=l.route.value,o.outlet&&o.outlet.attach(l.componentRef,l.route.value),Jh(l.route.value),this.activateChildRoutes(e,null,o.children)}else{let l=Da(r.snapshot);o.attachRef=null,o.route=r,o.injector=l,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},$c=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Bs=class{constructor(e,n){this.component=e,this.route=n}};function RC(t,e,n){let i=t._root,r=e?e._root:null;return ga(i,r,n,[i.value])}function DC(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Gs(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!_v(t)?t:e.get(t):i}function ga(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ls(e);return t.children.forEach(o=>{MC(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,l])=>ba(l,n.getContext(o),r)),r}function MC(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,l=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=OC(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new $c(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ga(t,e,l?l.children:null,i,r):ga(t,e,n,i,r),c&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new Bs(l.outlet.component,o))}else o&&ba(e,l,r),r.canActivateChecks.push(new $c(i)),s.component?ga(t,null,l?l.children:null,i,r):ga(t,null,n,i,r);return r}function OC(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!kr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!kr(t.url,e.url)||!Yn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bf(t,e)||!Yn(t.queryParams,e.queryParams);case"paramsChange":default:return!bf(t,e)}}function ba(t,e,n){let i=Ls(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?ba(o,e.children.getContext(s),n):ba(o,null,n):ba(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Bs(e.outlet.component,r)):n.canDeactivateChecks.push(new Bs(null,r)):n.canDeactivateChecks.push(new Bs(null,r))}function Ma(t){return typeof t=="function"}function PC(t){return typeof t=="boolean"}function kC(t){return t&&Ma(t.canLoad)}function NC(t){return t&&Ma(t.canActivate)}function FC(t){return t&&Ma(t.canActivateChild)}function VC(t){return t&&Ma(t.canDeactivate)}function LC(t){return t&&Ma(t.canMatch)}function Ty(t){return t instanceof lv||t?.name==="EmptyError"}var Mc=Symbol("INITIAL_VALUE");function zs(){return Tt(t=>rc(t.map(e=>e.pipe(ht(1),Gn(Mc)))).pipe(de(e=>{for(let n of e)if(n!==!0){if(n===Mc)return Mc;if(n===!1||n instanceof Ji)return n}return!0}),at(e=>e!==Mc),ht(1)))}function UC(t,e){return an(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?ee(Me(q({},n),{guardsResult:!0})):BC(o,i,r,t).pipe(an(l=>l&&PC(l)?jC(i,s,t,e):ee(l)),de(l=>Me(q({},n),{guardsResult:l})))})}function BC(t,e,n,i){return on(t).pipe(an(r=>WC(r.component,r.route,n,e,i)),zi(r=>r!==!0,!0))}function jC(t,e,n,i){return on(e).pipe(aa(r=>cv(zC(r.route.parent,i),$C(r.route,i),HC(t,r.path,n),GC(t,r.route,n))),zi(r=>r!==!0,!0))}function $C(t,e){return t!==null&&e&&e(new mf(t)),ee(!0)}function zC(t,e){return t!==null&&e&&e(new ff(t)),ee(!0)}function GC(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return ee(!0);let r=i.map(s=>oa(()=>{let o=Da(e)??n,l=Gs(s,o),c=NC(l)?l.canActivate(e,t):Rr(o,()=>l(e,t));return tr(c).pipe(zi())}));return ee(r).pipe(zs())}function HC(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>DC(o)).filter(o=>o!==null).map(o=>oa(()=>{let l=o.guards.map(c=>{let u=Da(o.node)??n,f=Gs(c,u),m=FC(f)?f.canActivateChild(i,t):Rr(u,()=>f(i,t));return tr(m).pipe(zi())});return ee(l).pipe(zs())}));return ee(s).pipe(zs())}function WC(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ee(!0);let o=s.map(l=>{let c=Da(e)??r,u=Gs(l,c),f=VC(u)?u.canDeactivate(t,e,n,i):Rr(c,()=>u(t,e,n,i));return tr(f).pipe(zi())});return ee(o).pipe(zs())}function qC(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return ee(!0);let s=r.map(o=>{let l=Gs(o,t),c=kC(l)?l.canLoad(e,n):Rr(t,()=>l(e,n));return tr(c)});return ee(s).pipe(zs(),Cy(i))}function Cy(t){return rv(Je(e=>{if($s(e))throw wy(t,e)}),de(e=>e===!0))}function KC(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return ee(!0);let s=r.map(o=>{let l=Gs(o,t),c=LC(l)?l.canMatch(e,n):Rr(t,()=>l(e,n));return tr(c)});return ee(s).pipe(zs(),Cy(i))}var Aa=class{constructor(e){this.segmentGroup=e||null}},zc=class extends Error{constructor(e){super(),this.urlTree=e}};function Vs(t){return sa(new Aa(t))}function QC(t){return sa(new We(4e3,!1))}function YC(t){return sa(Ey(!1,hn.GuardRejected))}var If=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ee(i);if(r.numberOfChildren>1||!r.children[oe])return QC(e.redirectTo);r=r.children[oe]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new zc(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new Ji(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let l=s.substring(1);i[r]=n[l]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([l,c])=>{o[l]=this.createSegmentGroup(e,c,i,r)}),new Te(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new We(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},Tf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZC(t,e,n,i,r){let s=kf(t,e,n);return s.matched?(i=SC(e,i),KC(i,e,n,r).pipe(de(o=>o===!0?s:q({},Tf)))):ee(s)}function kf(t,e,n){if(e.path==="**")return JC(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?q({},Tf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||KT)(n,t,e);if(!r)return q({},Tf);let s={};Object.entries(r.posParams??{}).forEach(([l,c])=>{s[l]=c.path});let o=r.consumed.length>0?q(q({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function JC(t){return{matched:!0,parameters:t.length>0?ry(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ny(t,e,n,i){return n.length>0&&tS(t,n,i)?{segmentGroup:new Te(e,eS(i,new Te(n,t.children))),slicedSegments:[]}:n.length===0&&nS(t,n,i)?{segmentGroup:new Te(t.segments,XC(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Te(t.segments,t.children),slicedSegments:n}}function XC(t,e,n,i){let r={};for(let s of n)if(Hc(t,e,s)&&!i[Zn(s)]){let o=new Te([],{});r[Zn(s)]=o}return q(q({},i),r)}function eS(t,e){let n={};n[oe]=e;for(let i of t)if(i.path===""&&Zn(i)!==oe){let r=new Te([],{});n[Zn(i)]=r}return n}function tS(t,e,n){return n.some(i=>Hc(t,e,i)&&Zn(i)!==oe)}function nS(t,e,n){return n.some(i=>Hc(t,e,i))}function Hc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function iS(t,e,n,i){return Zn(t)!==i&&(i===oe||!Hc(e,n,t))?!1:kf(e,t,n).matched}function rS(t,e,n){return e.length===0&&!t.children[n]}var Cf=class{};function sS(t,e,n,i,r,s,o="emptyOnly"){return new Sf(t,e,n,i,r,o,s).recognize()}var oS=31,Sf=class{constructor(e,n,i,r,s,o,l){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=l,this.applyRedirects=new If(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new We(4002,`'${e.segmentGroup}'`)}recognize(){let e=ny(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(n=>{let i=new Sa([],Object.freeze({}),Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,{},oe,this.rootComponentType,null,{}),r=new dn(i,n),s=new jc("",r),o=fC(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,oe).pipe(Ms(i=>{if(i instanceof zc)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Aa?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=Rf(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(de(s=>s instanceof dn?[s]:[]))}processChildren(e,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return on(r).pipe(aa(s=>{let o=i.children[s],l=xC(n,s);return this.processSegmentGroup(e,l,o,s)}),pv((s,o)=>(s.push(...o),s)),Dh(null),fv(),an(s=>{if(s===null)return Vs(i);let o=Sy(s);return aS(o),ee(o)}))}processSegment(e,n,i,r,s,o){return on(n).pipe(aa(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,i,r,s,o).pipe(Ms(c=>{if(c instanceof Aa)return ee(null);throw c}))),zi(l=>!!l),Ms(l=>{if(Ty(l))return rS(i,r,s)?ee(new Cf):Vs(i);throw l}))}processSegmentAgainstRoute(e,n,i,r,s,o,l){return iS(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):Vs(r):Vs(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){let{matched:l,consumedSegments:c,positionalParamSegments:u,remainingSegments:f}=kf(n,r,s);if(!l)return Vs(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>oS&&(this.allowRedirects=!1));let m=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,m).pipe(an(g=>this.processSegment(e,i,n,g.concat(f),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){let o=ZC(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe(Tt(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Tt(({routes:c})=>{let u=i._loadedInjector??e,{consumedSegments:f,remainingSegments:m,parameters:g}=l,w=new Sa(f,g,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,cS(i),Zn(i),i.component??i._loadedComponent??null,i,uS(i)),{segmentGroup:M,slicedSegments:O}=ny(n,f,m,c);if(O.length===0&&M.hasChildren())return this.processChildren(u,c,M).pipe(de(F=>F===null?null:new dn(w,F)));if(c.length===0&&O.length===0)return ee(new dn(w,[]));let A=Zn(i)===s;return this.processSegment(u,c,M,O,A?oe:s,!0).pipe(de(F=>new dn(w,F instanceof dn?[F]:[])))}))):Vs(n)))}getChildConfig(e,n,i){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):qC(e,n,i,this.urlSerializer).pipe(an(r=>r?this.configLoader.loadChildren(e,n).pipe(Je(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):YC(n))):ee({routes:[],injector:e})}};function aS(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}function lS(t){let e=t.value.routeConfig;return e&&e.path===""}function Sy(t){let e=[],n=new Set;for(let i of t){if(!lS(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=Sy(i.children);e.push(new dn(i.value,r))}return e.filter(i=>!n.has(i))}function cS(t){return t.data||{}}function uS(t){return t.resolve||{}}function dS(t,e,n,i,r,s){return an(o=>sS(t,e,n,i,o.extractedUrl,r,s).pipe(de(({state:l,tree:c})=>Me(q({},o),{targetSnapshot:l,urlAfterRedirects:c}))))}function hS(t,e){return an(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return ee(n);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of xy(c))o.add(u);let l=0;return on(o).pipe(aa(c=>s.has(c)?fS(c,i,t,e):(c.data=Rf(c,c.parent,t).resolve,ee(void 0))),Je(()=>l++),Oh(1),an(c=>l===o.size?ee(n):Dn))})}function xy(t){let e=t.children.map(n=>xy(n)).flat();return[t,...e]}function fS(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!yy(r)&&(s[Ra]=r.title),pS(s,t,e,i).pipe(de(o=>(t._resolvedData=o,t.data=Rf(t,t.parent,n).resolve,null)))}function pS(t,e,n,i){let r=tf(t);if(r.length===0)return ee({});let s={};return on(r).pipe(an(o=>mS(t[o],e,n,i).pipe(zi(),Je(l=>{s[o]=l}))),Oh(1),hv(s),Ms(o=>Ty(o)?Dn:sa(o)))}function mS(t,e,n,i){let r=Da(e)??i,s=Gs(t,r),o=s.resolve?s.resolve(e,n):Rr(r,()=>s(e,n));return tr(o)}function Xh(t){return Tt(e=>{let n=t(e);return n?on(n).pipe(de(()=>e)):ee(e)})}var Ay=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(i){return i.data[Ra]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:()=>j(gS),providedIn:"root"});let t=e;return t})(),gS=(()=>{let e=class e extends Ay{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(Oe(Ov))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nf=new ie("",{providedIn:"root",factory:()=>({})}),Ff=new ie(""),_S=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(Uh)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return ee(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=tr(i.loadComponent()).pipe(de(Ry),Je(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),ca(()=>{this.componentLoaders.delete(i)})),s=new Ch(r,()=>new xe).pipe(Th());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=vS(r,this.compiler,i,this.onLoadEndListener).pipe(ca(()=>{this.childrenLoaders.delete(r)})),l=new Ch(o,()=>new xe).pipe(Th());return this.childrenLoaders.set(r,l),l}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vS(t,e,n,i){return tr(t.loadChildren()).pipe(de(Ry),an(r=>r instanceof Ev||Array.isArray(r)?ee(r):on(e.compileModuleAsync(r))),de(r=>{i&&i(t);let s,o,l=!1;return Array.isArray(r)?(o=r,l=!0):(s=r.create(n).injector,o=s.get(Ff,[],{optional:!0,self:!0}).flat()),{routes:o.map(Pf),injector:s}}))}function yS(t){return t&&typeof t=="object"&&"default"in t}function Ry(t){return yS(t)?t.default:t}var Vf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:()=>j(bS),providedIn:"root"});let t=e;return t})(),bS=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wS=new ie("");var ES=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xe,this.transitionAbortSubject=new xe,this.configLoader=j(_S),this.environmentInjector=j(ua),this.urlSerializer=j(Af),this.rootContexts=j(Gc),this.location=j(mc),this.inputBindingEnabled=j(Of,{optional:!0})!==null,this.titleStrategy=j(Ay),this.options=j(Nf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j(Vf),this.createViewTransition=j(wS,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null;let i=s=>this.events.next(new df(s)),r=s=>this.events.next(new hf(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Me(q(q({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new It({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ya,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(at(o=>o.id!==0),de(o=>Me(q({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Tt(o=>{let l=!1,c=!1;return ee(o).pipe(Tt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",hn.SupersededByNewNavigation),Dn;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Me(q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),m=u.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!f&&m!=="reload"){let g="";return this.events.next(new Fr(u.id,this.urlSerializer.serialize(u.rawUrl),g,of.IgnoredSameUrlNavigation)),u.resolve(null),Dn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ee(u).pipe(Tt(g=>{let w=this.transitions?.getValue();return this.events.next(new Ea(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),w!==this.transitions?.getValue()?Dn:Promise.resolve(g)}),dS(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Je(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=Me(q({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let w=new Lc(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:w,source:M,restoredState:O,extras:A}=u,F=new Ea(g,this.urlSerializer.serialize(w),M,O);this.events.next(F);let $=_y(this.rootComponentType).snapshot;return this.currentTransition=o=Me(q({},u),{targetSnapshot:$,urlAfterRedirects:w,extras:Me(q({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,ee(o)}else{let g="";return this.events.next(new Fr(u.id,this.urlSerializer.serialize(u.extractedUrl),g,of.IgnoredByUrlHandlingStrategy)),u.resolve(null),Dn}}),Je(u=>{let f=new af(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),de(u=>(this.currentTransition=o=Me(q({},u),{guards:RC(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),UC(this.environmentInjector,u=>this.events.next(u)),Je(u=>{if(o.guardsResult=u.guardsResult,$s(u.guardsResult))throw wy(this.urlSerializer,u.guardsResult);let f=new lf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),at(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",hn.GuardRejected),!1)),Xh(u=>{if(u.guards.canActivateChecks.length)return ee(u).pipe(Je(f=>{let m=new cf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),Tt(f=>{let m=!1;return ee(f).pipe(hS(this.paramsInheritanceStrategy,this.environmentInjector),Je({next:()=>m=!0,complete:()=>{m||this.cancelNavigationTransition(f,"",hn.NoDataFromResolver)}}))}),Je(f=>{let m=new uf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}))}),Xh(u=>{let f=m=>{let g=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(m.routeConfig).pipe(Je(w=>{m.component=w}),de(()=>{})));for(let w of m.children)g.push(...f(w));return g};return rc(f(u.targetSnapshot.root)).pipe(Dh(null),ht(1))}),Xh(()=>this.afterPreactivation()),Tt(()=>{let{currentSnapshot:u,targetSnapshot:f}=o,m=this.createViewTransition?.(this.environmentInjector,u.root,f.root);return m?on(m).pipe(de(()=>o)):ee(o)}),de(u=>{let f=wC(i.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=Me(q({},u),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),Je(()=>{this.events.next(new Ta)}),AC(this.rootContexts,i.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ht(1),Je({next:u=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Nr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{l=!0}}),Ve(this.transitionAbortSubject.pipe(Je(u=>{throw u}))),ca(()=>{!l&&!c&&this.cancelNavigationTransition(o,"",hn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ms(u=>{if(c=!0,Iy(u))this.events.next(new Xi(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),TC(u)?this.events.next(new Ca(u.url)):o.resolve(!1);else{this.events.next(new Ia(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(u))}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Dn}))}))}cancelNavigationTransition(i,r,s){let o=new Xi(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IS(t){return t!==ya}var TS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:()=>j(CS),providedIn:"root"});let t=e;return t})(),xf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},CS=(()=>{let e=class e extends xf{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Hi(e)))(s||e)}})(),e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Dy=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:()=>j(SS),providedIn:"root"});let t=e;return t})(),SS=(()=>{let e=class e extends Dy{constructor(){super(...arguments),this.location=j(mc),this.urlSerializer=j(Af),this.options=j(Nf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j(Vf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ji,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_y(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Ea)this.stateMemento=this.createStateMemento();else if(i instanceof Fr)this.rawUrlTree=r.initialUrl;else if(i instanceof Lc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof Ta?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Xi&&(i.code===hn.GuardRejected||i.code===hn.NoDataFromResolver)?this.restoreHistory(r):i instanceof Ia?this.restoreHistory(r,!0):i instanceof Nr&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,l=q(q({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",l)}else{let o=q(q({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Hi(e)))(s||e)}})(),e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_a=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(_a||{});function xS(t,e){t.events.pipe(at(n=>n instanceof Nr||n instanceof Xi||n instanceof Ia||n instanceof Fr),de(n=>n instanceof Nr||n instanceof Fr?_a.COMPLETE:(n instanceof Xi?n.code===hn.Redirect||n.code===hn.SupersededByNewNavigation:!1)?_a.REDIRECTING:_a.FAILED),at(n=>n!==_a.REDIRECTING),ht(1)).subscribe(()=>{e()})}function AS(t){throw t}var RS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Pe=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=j(xv),this.stateManager=j(Dy),this.options=j(Nf,{optional:!0})||{},this.pendingTasks=j(Tv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(ES),this.urlSerializer=j(Af),this.location=j(mc),this.urlHandlingStrategy=j(Vf),this._events=new xe,this.errorHandler=this.options.errorHandler||AS,this.navigated=!1,this.routeReuseStrategy=j(TS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(Ff,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(Of,{optional:!0}),this.eventsSubscription=new $i,this.isNgZoneEnabled=j(ge)instanceof ge&&ge.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Xi&&r.code!==hn.Redirect&&r.code!==hn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Nr)this.navigated=!0;else if(r instanceof Ca){let l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||IS(s.source)};this.scheduleNavigation(l,ya,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}OS(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ya,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},l=s?.navigationId?s:null;if(s){let u=q({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Pf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:l,queryParamsHandling:c,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:l,m=null;switch(c){case"merge":m=q(q({},this.currentUrlTree.queryParams),o);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}m!==null&&(m=this.removeEmptyProps(m));let g;try{let w=s?s.snapshot:this.routerState.snapshot.root;g=fy(w)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),g=this.currentUrlTree.root}return py(g,i,m,f??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=$s(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ya,null,r)}navigate(i,r={skipLocationChange:!1}){return MS(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=q({},RS):r===!1?s=q({},DS):s=r,$s(i))return Jv(this.currentUrlTree,i,s);let o=this.parseUrl(i);return Jv(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,l){if(this.disposed)return Promise.resolve(!1);let c,u,f;l?(c=l.resolve,u=l.reject,f=l.promise):f=new Promise((g,w)=>{c=g,u=w});let m=this.pendingTasks.add();return xS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:c,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(g=>Promise.reject(g))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function MS(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new We(4008,!1)}function OS(t){return!(t instanceof Ta)&&!(t instanceof Ca)}var PS=new ie("");function My(t,...e){return Hn([{provide:Ff,multi:!0,useValue:t},[],{provide:er,useFactory:kS,deps:[Pe]},{provide:Av,multi:!0,useFactory:NS},e.map(n=>n.\u0275providers)])}function kS(t){return t.routerState.root}function NS(){let t=j(cn);return e=>{let n=t.get(pc);if(e!==n.components[0])return;let i=t.get(Pe),r=t.get(FS);t.get(VS)===1&&i.initialNavigation(),t.get(LS,null,Ph.Optional)?.setUpPreloading(),t.get(PS,null,Ph.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var FS=new ie("",{factory:()=>new xe}),VS=new ie("",{providedIn:"root",factory:()=>1});var LS=new ie("");var Uy=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(P(lc),P(Le))},e.\u0275dir=ye({type:e});let t=e;return t})(),US=(()=>{let e=class e extends Uy{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Hi(e)))(s||e)}})(),e.\u0275dir=ye({type:e,features:[Wn]});let t=e;return t})(),By=new ie("");var BS={provide:By,useExisting:Gi(()=>Jt),multi:!0};function jS(){let t=jh()?jh().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var $S=new ie(""),Jt=(()=>{let e=class e extends Uy{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!jS())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(P(lc),P(Le),P($S,8))},e.\u0275dir=ye({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&G("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[Lt([BS]),Wn]});let t=e;return t})();function nr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function jy(t){return t!=null&&typeof t.length=="number"}var tu=new ie(""),Bf=new ie(""),zS=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ws=class{static min(e){return GS(e)}static max(e){return HS(e)}static required(e){return $y(e)}static requiredTrue(e){return WS(e)}static email(e){return qS(e)}static minLength(e){return KS(e)}static maxLength(e){return QS(e)}static pattern(e){return YS(e)}static nullValidator(e){return qc(e)}static compose(e){return Ky(e)}static composeAsync(e){return Qy(e)}};function GS(t){return e=>{if(nr(e.value)||nr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function HS(t){return e=>{if(nr(e.value)||nr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function $y(t){return nr(t.value)?{required:!0}:null}function WS(t){return t.value===!0?null:{required:!0}}function qS(t){return nr(t.value)||zS.test(t.value)?null:{email:!0}}function KS(t){return e=>nr(e.value)||!jy(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function QS(t){return e=>jy(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function YS(t){if(!t)return qc;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(nr(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function qc(t){return null}function zy(t){return t!=null}function Gy(t){return fc(t)?on(t):t}function Hy(t){let e={};return t.forEach(n=>{e=n!=null?q(q({},e),n):e}),Object.keys(e).length===0?null:e}function Wy(t,e){return e.map(n=>n(t))}function ZS(t){return!t.validate}function qy(t){return t.map(e=>ZS(e)?e:n=>e.validate(n))}function Ky(t){if(!t)return null;let e=t.filter(zy);return e.length==0?null:function(n){return Hy(Wy(n,e))}}function jf(t){return t!=null?Ky(qy(t)):null}function Qy(t){if(!t)return null;let e=t.filter(zy);return e.length==0?null:function(n){let i=Wy(n,e).map(Gy);return uv(i).pipe(de(Hy))}}function $f(t){return t!=null?Qy(qy(t)):null}function Oy(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Yy(t){return t._rawValidators}function Zy(t){return t._rawAsyncValidators}function Lf(t){return t?Array.isArray(t)?t:[t]:[]}function Kc(t,e){return Array.isArray(t)?t.includes(e):t===e}function Py(t,e){let n=Lf(e);return Lf(t).forEach(r=>{Kc(n,r)||n.push(r)}),n}function ky(t,e){return Lf(e).filter(n=>!Kc(t,n))}var Qc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$f(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Vr=class extends Qc{get formDirective(){return null}get path(){return null}},vi=class extends Qc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Uf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},JS={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},$V=Me(q({},JS),{"[class.ng-submitted]":"isSubmitted"}),wn=(()=>{let e=class e extends Uf{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(P(vi,2))},e.\u0275dir=ye({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Ue("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Wn]});let t=e;return t})();var Oa="VALID",Wc="INVALID",Hs="PENDING",Pa="DISABLED";function Jy(t){return(nu(t)?t.validators:t)||null}function XS(t){return Array.isArray(t)?jf(t):t||null}function Xy(t,e){return(nu(e)?e.asyncValidators:t)||null}function ex(t){return Array.isArray(t)?$f(t):t||null}function nu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function tx(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new We(1e3,"");if(!i[n])throw new We(1001,"")}function nx(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new We(1002,"")})}var Yc=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Oa}get invalid(){return this.status===Wc}get pending(){return this.status==Hs}get disabled(){return this.status===Pa}get enabled(){return this.status!==Pa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Py(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Py(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ky(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ky(e,this._rawAsyncValidators))}hasValidator(e){return Kc(this._rawValidators,e)}hasAsyncValidator(e){return Kc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Hs,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Pa,this.errors=null,this._forEachChild(i=>{i.disable(Me(q({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Me(q({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Oa,this._forEachChild(i=>{i.enable(Me(q({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Me(q({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Oa||this.status===Hs)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pa:Oa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Hs,this._hasOwnPendingAsyncValidator=!0;let n=Gy(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?Pa:this.errors?Wc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hs)?Hs:this._anyControlsHaveStatus(Wc)?Wc:Oa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=XS(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=ex(this._rawAsyncValidators)}},Zc=class extends Yc{constructor(e,n,i){super(Jy(n),Xy(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){nx(this,!0,e),Object.keys(e).forEach(i=>{tx(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var iu=new ie("CallSetDisabledState",{providedIn:"root",factory:()=>zf}),zf="always";function ix(t,e){return[...e.path,t]}function Jc(t,e,n=zf){Gf(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),sx(t,e),ax(t,e),ox(t,e),rx(t,e)}function Ny(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),eu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Xc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function rx(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Gf(t,e){let n=Yy(t);e.validator!==null?t.setValidators(Oy(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=Zy(t);e.asyncValidator!==null?t.setAsyncValidators(Oy(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Xc(e._rawValidators,r),Xc(e._rawAsyncValidators,r)}function eu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=Yy(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=Zy(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}let i=()=>{};return Xc(e._rawValidators,i),Xc(e._rawAsyncValidators,i),n}function sx(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&eb(t,e)})}function ox(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&eb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function eb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ax(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function tb(t,e){t==null,Gf(t,e)}function lx(t,e){return eu(t,e)}function cx(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function ux(t){return Object.getPrototypeOf(t.constructor)===US}function nb(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function dx(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===Jt?n=s:ux(s)?i=s:r=s}),r||i||n||null}function hx(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var fx={provide:Vr,useExisting:Gi(()=>Na)},ka=Promise.resolve(),Na=(()=>{let e=class e extends Vr{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new qe,this.form=new Zc({},jf(i),$f(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){ka.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),Jc(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){ka.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){ka.then(()=>{let r=this._findContainer(i.path),s=new Zc({});tb(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){ka.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){ka.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,nb(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(P(tu,10),P(Bf,10),P(iu,8))},e.\u0275dir=ye({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&G("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{options:[ae.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Lt([fx]),Wn]});let t=e;return t})();function Fy(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Vy(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ib=class extends Yc{constructor(e=null,n,i){super(Jy(n),Xy(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Vy(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Fy(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Fy(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Vy(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var px=t=>t instanceof ib;var mx={provide:vi,useExisting:Gi(()=>fn)},Ly=Promise.resolve(),fn=(()=>{let e=class e extends vi{constructor(i,r,s,o,l,c){super(),this._changeDetectorRef=l,this.callSetDisabledState=c,this.control=new ib,this._registered=!1,this.name="",this.update=new qe,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=dx(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),cx(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Jc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){Ly.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&Ut(r);Ly.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?ix(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(P(Vr,9),P(tu,10),P(Bf,10),P(By,10),P(At,8),P(iu,8))},e.\u0275dir=ye({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ae.None,"disabled","isDisabled"],model:[ae.None,"ngModel","model"],options:[ae.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Lt([mx]),Wn,gn]});let t=e;return t})();var gx={provide:Vr,useExisting:Gi(()=>Fa)},Fa=(()=>{let e=class e extends Vr{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new qe,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(eu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return Jc(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){Ny(i.control||null,i,!1),hx(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,nb(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(Ny(r||null,i),px(s)&&(Jc(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);tb(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&lx(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Gf(this.form,this),this._oldForm&&eu(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(P(tu,10),P(Bf,10),P(iu,8))},e.\u0275dir=ye({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&G("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{form:[ae.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Lt([gx]),Wn,gn]});let t=e;return t})();var _x=(()=>{let e=class e{constructor(){this._validator=qc}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):qc,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,features:[gn]});let t=e;return t})();var vx={provide:tu,useExisting:Gi(()=>Lr),multi:!0};var Lr=(()=>{let e=class e extends _x{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ut,this.createValidator=i=>$y}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Hi(e)))(s||e)}})(),e.\u0275dir=ye({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,s){r&2&&Xe("required",s._enabled?"":null)},inputs:{required:"required"},features:[Lt([vx]),Wn]});let t=e;return t})();var yx=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=St({type:e}),e.\u0275inj=Ct({});let t=e;return t})();var Xt=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:iu,useValue:i.callSetDisabledState??zf}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=St({type:e}),e.\u0275inj=Ct({imports:[yx]});let t=e;return t})();var Hf=class{constructor(e){this._box=e,this._destroyed=new xe,this._resizeSubject=new xe,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Ds(n=>{let i=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(at(n=>n.some(i=>i.target===e)),mv({bufferSize:1,refCount:!0}),Ve(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},rb=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=j(ge),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,i]of this._observers)i.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(i,r){let s=r?.box||"content-box";return this._observers.has(s)||this._observers.set(s,new Hf(s)),this._observers.get(s).observe(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bx=["notch"],wx=["matFormFieldNotchedOutline",""],Ex=["*"],Ix=["textField"],Tx=["iconPrefixContainer"],Cx=["textPrefixContainer"],Sx=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],xx=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Ax(t,e){t&1&&De(0,"span",17)}function Rx(t,e){if(t&1&&(x(0,"label",16),lt(1,1),me(2,Ax,1,0,"span",17),R()),t&2){let n=le(2);J("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),Xe("for",n._control.disableAutomaticLabeling?null:n._control.id),V(2),et(2,!n.hideRequiredMarker&&n._control.required?2:-1)}}function Dx(t,e){if(t&1&&me(0,Rx,3,5,"label",16),t&2){let n=le();et(0,n._hasFloatingLabel()?0:-1)}}function Mx(t,e){t&1&&De(0,"div",5)}function Ox(t,e){}function Px(t,e){if(t&1&&me(0,Ox,0,0,"ng-template",11),t&2){le(2);let n=qn(1);J("ngTemplateOutlet",n)}}function kx(t,e){if(t&1&&(x(0,"div",7),me(1,Px,1,1,null,11),R()),t&2){let n=le();J("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),V(),et(1,n._forceDisplayInfixLabel()?-1:1)}}function Nx(t,e){t&1&&(x(0,"div",8,2),lt(2,2),R())}function Fx(t,e){t&1&&(x(0,"div",9,3),lt(2,3),R())}function Vx(t,e){}function Lx(t,e){if(t&1&&me(0,Vx,0,0,"ng-template",11),t&2){le();let n=qn(1);J("ngTemplateOutlet",n)}}function Ux(t,e){t&1&&(x(0,"div",12),lt(1,4),R())}function Bx(t,e){t&1&&(x(0,"div",13),lt(1,5),R())}function jx(t,e){t&1&&De(0,"div",14)}function $x(t,e){if(t&1&&(x(0,"div",18),lt(1,6),R()),t&2){let n=le();J("@transitionMessages",n._subscriptAnimationState)}}function zx(t,e){if(t&1&&(x(0,"mat-hint",20),N(1),R()),t&2){let n=le(2);J("id",n._hintLabelId),V(),xt(n.hintLabel)}}function Gx(t,e){if(t&1&&(x(0,"div",19),me(1,zx,2,2,"mat-hint",20),lt(2,7),De(3,"div",21),lt(4,8),R()),t&2){let n=le();J("@transitionMessages",n._subscriptAnimationState),V(),et(1,n.hintLabel?1:-1)}}var qs=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,selectors:[["mat-label"]],standalone:!0});let t=e;return t})();var Hx=new ie("MatError");var Wx=0,sb=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${Wx++}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,s){r&2&&(Mr("id",s.id),Xe("align",null),Ue("mat-mdc-form-field-hint-end",s.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let t=e;return t})(),qx=new ie("MatPrefix");var Kx=new ie("MatSuffix");var mb=new ie("FloatingLabelParent"),ob=(()=>{let e=class e{get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(i){this._elementRef=i,this._floating=!1,this._monitorResize=!1,this._resizeObserver=j(rb),this._ngZone=j(ge),this._parent=j(mb),this._resizeSubscription=new $i}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return Qx(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(r){return new(r||e)(P(Le))},e.\u0275dir=ye({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,s){r&2&&Ue("mdc-floating-label--float-above",s.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let t=e;return t})();function Qx(t){let e=t;if(e.offsetParent!==null)return e.scrollWidth;let n=e.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);let i=n.scrollWidth;return n.remove(),i}var ab="mdc-line-ripple--active",ru="mdc-line-ripple--deactivating",lb=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._handleTransitionEnd=s=>{let o=this._elementRef.nativeElement.classList,l=o.contains(ru);s.propertyName==="opacity"&&l&&o.remove(ab,ru)},r.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let i=this._elementRef.nativeElement.classList;i.remove(ru),i.add(ab)}deactivate(){this._elementRef.nativeElement.classList.add(ru)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(r){return new(r||e)(P(Le),P(ge))},e.\u0275dir=ye({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let t=e;return t})(),cb=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._ngZone=r,this.open=!1}ngAfterViewInit(){let i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){!this.open||!i?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(r){return new(r||e)(P(Le),P(ge))},e.\u0275cmp=ce({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,s){if(r&1&&Wt(bx,5),r&2){let o;be(o=we())&&(s._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,s){r&2&&Ue("mdc-notched-outline--notched",s.open)},inputs:{open:[ae.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[ue],attrs:wx,ngContentSelectors:Ex,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(r,s){r&1&&(gi(),De(0,"div",1),x(1,"div",2,0),lt(3),R(),De(4,"div",3))},encapsulation:2,changeDetection:0});let t=e;return t})(),Yx={transitionMessages:Qi("transitionMessages",[Or("enter",un({opacity:1,transform:"translateY(0%)"})),Kn("void => enter",[un({opacity:0,transform:"translateY(-5px)"}),_i("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Va=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e});let t=e;return t})();var La=new ie("MatFormField"),Zx=new ie("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ub=0,db="fill",Jx="auto",hb="fixed",Xx="translateY(-50%)",su=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=Ns(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||Jx}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){let r=this._appearance,s=i||this._defaults?.appearance||db;this._appearance=s,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||hb}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||hb}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,r,s,o,l,c,u,f){this._elementRef=i,this._changeDetectorRef=r,this._ngZone=s,this._dir=o,this._platform=l,this._defaults=c,this._animationMode=u,this._hideRequiredMarker=!1,this.color="primary",this._appearance=db,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${ub++}`,this._hintLabelId=`mat-mdc-hint-${ub++}`,this._subscriptAnimationState="",this._destroyed=new xe,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=!!c?.hideRequiredMarker,c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let i=this._control;i.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${i.controlType}`),i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),i.ngControl&&i.ngControl.valueChanges&&i.ngControl.valueChanges.pipe(Ve(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Mn(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ve(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ve(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(i){let r=this._control?this._control.ngControl:null;return r&&r[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&i.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,s=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;r?i.push(r.id):this._hintLabel&&i.push(this._hintLabelId),s&&i.push(s.id)}else this._errorChildren&&i.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;let i=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){i.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdateOnStable=!0;return}let r=this._iconPrefixContainer?.nativeElement,s=this._textPrefixContainer?.nativeElement,o=r?.getBoundingClientRect().width??0,l=s?.getBoundingClientRect().width??0,c=this._dir.value==="rtl"?"-1":"1",u=`${o+l}px`,m=`calc(${c} * (${u} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;i.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${Xx} translateX(${m})
    )`}_isAttachedToDom(){let i=this._elementRef.nativeElement;if(i.getRootNode){let r=i.getRootNode();return r&&r!==i}return document.documentElement.contains(i)}};e.\u0275fac=function(r){return new(r||e)(P(Le),P(At),P(ge),P(Fs),P(ks),P(Zx,8),P(oc,8),P(_n))},e.\u0275cmp=ce({type:e,selectors:[["mat-form-field"]],contentQueries:function(r,s,o){if(r&1&&(Ke(o,qs,5),Ke(o,qs,7),Ke(o,Va,5),Ke(o,qx,5),Ke(o,Kx,5),Ke(o,Hx,5),Ke(o,sb,5)),r&2){let l;be(l=we())&&(s._labelChildNonStatic=l.first),be(l=we())&&(s._labelChildStatic=l.first),be(l=we())&&(s._formFieldControl=l.first),be(l=we())&&(s._prefixChildren=l),be(l=we())&&(s._suffixChildren=l),be(l=we())&&(s._errorChildren=l),be(l=we())&&(s._hintChildren=l)}},viewQuery:function(r,s){if(r&1&&(Wt(Ix,5),Wt(Tx,5),Wt(Cx,5),Wt(ob,5),Wt(cb,5),Wt(lb,5)),r&2){let o;be(o=we())&&(s._textField=o.first),be(o=we())&&(s._iconPrefixContainer=o.first),be(o=we())&&(s._textPrefixContainer=o.first),be(o=we())&&(s._floatingLabel=o.first),be(o=we())&&(s._notchedOutline=o.first),be(o=we())&&(s._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,s){r&2&&Ue("mat-mdc-form-field-label-always-float",s._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",s._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",s._hasIconSuffix)("mat-form-field-invalid",s._control.errorState)("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-form-field-no-animations",s._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",s.appearance=="fill")("mat-form-field-appearance-outline",s.appearance=="outline")("mat-form-field-hide-placeholder",s._hasFloatingLabel()&&!s._shouldLabelFloat())("mat-focused",s._control.focused)("mat-primary",s.color!=="accent"&&s.color!=="warn")("mat-accent",s.color==="accent")("mat-warn",s.color==="warn")("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Lt([{provide:La,useExisting:e},{provide:mb,useExisting:e}]),ue],ngContentSelectors:xx,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,s){if(r&1){let o=tt();gi(Sx),me(0,Dx,1,1,"ng-template",null,0,Lh),x(2,"div",4,1),G("click",function(c){return re(o),se(s._control.onContainerClick(c))}),me(4,Mx,1,0,"div",5),x(5,"div",6),me(6,kx,2,2,"div",7)(7,Nx,3,0,"div",8)(8,Fx,3,0,"div",9),x(9,"div",10),me(10,Lx,1,1,null,11),lt(11),R(),me(12,Ux,2,0,"div",12)(13,Bx,2,0,"div",13),R(),me(14,jx,1,0,"div",14),R(),x(15,"div",15),me(16,$x,2,1)(17,Gx,5,2),R()}if(r&2){let o;V(2),Ue("mdc-text-field--filled",!s._hasOutline())("mdc-text-field--outlined",s._hasOutline())("mdc-text-field--no-label",!s._hasFloatingLabel())("mdc-text-field--disabled",s._control.disabled)("mdc-text-field--invalid",s._control.errorState),V(2),et(4,!s._hasOutline()&&!s._control.disabled?4:-1),V(2),et(6,s._hasOutline()?6:-1),V(),et(7,s._hasIconPrefix?7:-1),V(),et(8,s._hasTextPrefix?8:-1),V(2),et(10,!s._hasOutline()||s._forceDisplayInfixLabel()?10:-1),V(2),et(12,s._hasTextSuffix?12:-1),V(),et(13,s._hasIconSuffix?13:-1),V(),et(14,s._hasOutline()?-1:14),V(),Ue("mat-mdc-form-field-subscript-dynamic-size",s.subscriptSizing==="dynamic"),V(),et(16,(o=s._getDisplayedMessages())==="error"?16:o==="hint"?17:-1)}},dependencies:[ob,cb,$h,lb,sb],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Yx.transitionMessages]},changeDetection:0});let t=e;return t})(),yi=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=St({type:e}),e.\u0275inj=Ct({imports:[vn,ft,Pv,vn]});let t=e;return t})();var _b=vc({passive:!0}),vb=(()=>{let e=class e{constructor(i,r){this._platform=i,this._ngZone=r,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return Dn;let r=Gh(i),s=this._monitoredElements.get(r);if(s)return s.subject;let o=new xe,l="cdk-text-field-autofilled",c=u=>{u.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(l)?(r.classList.add(l),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!0}))):u.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(l)&&(r.classList.remove(l),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",c,_b),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",c,_b)}}),o}stopMonitoring(i){let r=Gh(i),s=this._monitoredElements.get(r);s&&(s.unlisten(),s.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((i,r)=>this.stopMonitoring(r))}};e.\u0275fac=function(r){return new(r||e)(Oe(ks),Oe(ge))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yb=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=St({type:e}),e.\u0275inj=Ct({});let t=e;return t})();var tA=new ie("MAT_INPUT_VALUE_ACCESSOR"),nA=["button","checkbox","file","hidden","image","radio","range","reset","submit"],iA=0,wb=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){this._disabled=Ns(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ws.required)??!1}set required(i){this._required=Ns(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&zh().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=Ns(i)}get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}constructor(i,r,s,o,l,c,u,f,m,g){this._elementRef=i,this._platform=r,this.ngControl=s,this._autofillMonitor=f,this._formField=g,this._uid=`mat-input-${iA++}`,this.focused=!1,this.stateChanges=new xe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(O=>zh().has(O)),this._iOSKeyupListener=O=>{let A=O.target;!A.value&&A.selectionStart===0&&A.selectionEnd===0&&(A.setSelectionRange(1,1),A.setSelectionRange(0,0))};let w=this._elementRef.nativeElement,M=w.nodeName.toLowerCase();this._inputValueAccessor=u||w,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&m.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new yc(c,s,l,o,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=M==="select",this._isTextarea=M==="textarea",this._isInFormField=!!g,this._isNativeSelect&&(this.controlType=w.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){let i=this._getPlaceholder();if(i!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){nA.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let i=this._elementRef.nativeElement,r=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}};e.\u0275fac=function(r){return new(r||e)(P(Le),P(ks),P(vi,10),P(Na,8),P(Fa,8),P(bc),P(tA,10),P(vb),P(ge),P(La,8))},e.\u0275dir=ye({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,s){r&1&&G("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),r&2&&(Mr("id",s.id)("disabled",s.disabled)("required",s.required),Xe("name",s.name||null)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required)("id",s.id),Ue("mat-input-server",s._isServer)("mat-mdc-form-field-textarea-control",s._isInFormField&&s._isTextarea)("mat-mdc-form-field-input-control",s._isInFormField)("mdc-text-field__input",s._isInFormField)("mat-mdc-native-select-inline",s._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[ae.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[Lt([{provide:Va,useExisting:e}]),gn]});let t=e;return t})(),ou=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=St({type:e}),e.\u0275inj=Ct({imports:[vn,yi,yi,yb,vn]});let t=e;return t})();var Ib=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},sA=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],l=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Tb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,l=o?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,f=s>>2,m=(s&3)<<4|l>>4,g=(l&15)<<2|u>>6,w=u&63;c||(w=64,o||(g=64)),i.push(n[f],n[m],n[g],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ib(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;let u=r<t.length?n[t.charAt(r)]:64;++r;let m=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||u==null||m==null)throw new qf;let g=s<<2|l>>4;if(i.push(g),u!==64){let w=l<<4&240|u>>2;if(i.push(w),m!==64){let M=u<<6&192|m;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},qf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},oA=function(t){let e=Ib(t);return Tb.encodeByteArray(e,!0)},Ua=function(t){return oA(t).replace(/\./g,"")},Qf=function(t){try{return Tb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var lA=()=>aA().__FIREBASE_DEFAULTS__,cA=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Qf(t[1]);return e&&JSON.parse(e)},lu=()=>{try{return lA()||cA()||uA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Yf=t=>{var e,n;return(n=(e=lu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cu=t=>{let e=Yf(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Zf=()=>{var t;return(t=lu())===null||t===void 0?void 0:t.config},Jf=t=>{var e;return(e=lu())===null||e===void 0?void 0:e[`_${t}`]};var au=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function uu(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ua(JSON.stringify(n)),Ua(JSON.stringify(o)),""].join(".")}function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function dA(){var t;let e=(t=lu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Sb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ab(){let t=pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Rb(){return!dA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xf(){try{return typeof indexedDB=="object"}catch{return!1}}function Db(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var hA="FirebaseError",qt=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=hA,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bi.prototype.create)}},bi=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?fA(s,i):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new qt(r,l,i)}};function fA(t,e){return t.replace(pA,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var pA=/\{\$([^}]+)}/g;function Mb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ur(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(Eb(s)&&Eb(o)){if(!Ur(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function Eb(t){return t!==null&&typeof t=="object"}function Ba(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ks(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Qs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Ob(t,e){let n=new Kf(t,e);return n.subscribe.bind(n)}var Kf=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");mA(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Wf),r.error===void 0&&(r.error=Wf),r.complete===void 0&&(r.complete=Wf);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function mA(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wf(){}var N2=4*60*60*1e3;function Ie(t){return t&&t._delegate?t._delegate:t}var en=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Br="[DEFAULT]";var ep=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new au;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_A(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Br){return this.instances.has(e)}getOptions(e=Br){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let l=this.normalizeInstanceIdentifier(s);i===l&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:gA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Br){return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gA(t){return t===Br?void 0:t}function _A(t){return t.instantiationMode==="EAGER"}var du=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ep(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var vA=[],fe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(fe||{}),yA={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},bA=fe.INFO,wA={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},EA=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=wA[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},rr=class{constructor(e){this.name=e,this._logLevel=bA,this._logHandler=EA,this._userLogHandler=null,vA.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var IA=(t,e)=>e.some(n=>t instanceof n),Pb,kb;function TA(){return Pb||(Pb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CA(){return kb||(kb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Nb=new WeakMap,np=new WeakMap,Fb=new WeakMap,tp=new WeakMap,rp=new WeakMap;function SA(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Jn(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Nb.set(n,t)}).catch(()=>{}),rp.set(e,t),e}function xA(t){if(np.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});np.set(t,e)}var ip={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return np.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Fb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Vb(t){ip=t(ip)}function AA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(hu(this),e,...n);return Fb.set(i,e.sort?e.sort():[e]),Jn(i)}:CA().includes(t)?function(...e){return t.apply(hu(this),e),Jn(Nb.get(this))}:function(...e){return Jn(t.apply(hu(this),e))}}function RA(t){return typeof t=="function"?AA(t):(t instanceof IDBTransaction&&xA(t),IA(t,TA())?new Proxy(t,ip):t)}function Jn(t){if(t instanceof IDBRequest)return SA(t);if(tp.has(t))return tp.get(t);let e=RA(t);return e!==t&&(tp.set(t,e),rp.set(e,t)),e}var hu=t=>rp.get(t);function Ub(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),l=Jn(o);return i&&o.addEventListener("upgradeneeded",c=>{i(Jn(o.result),c.oldVersion,c.newVersion,Jn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}var DA=["get","getKey","getAll","getAllKeys","count"],MA=["put","add","delete","clear"],sp=new Map;function Lb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sp.get(e))return sp.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=MA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||DA.includes(n)))return;let s=function(o,...l){return v(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[n](...l),r&&c.done]))[0]})};return sp.set(e,s),s}Vb(t=>Me(q({},t),{get:(e,n,i)=>Lb(e,n)||t.get(e,n,i),has:(e,n)=>!!Lb(e,n)||t.has(e,n)}));var ap=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OA(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function OA(t){let e=t.getComponent();return e?.type==="VERSION"}var lp="@firebase/app",Bb="0.10.10";var wi=new rr("@firebase/app"),PA="@firebase/app-compat",kA="@firebase/analytics-compat",NA="@firebase/analytics",FA="@firebase/app-check-compat",VA="@firebase/app-check",LA="@firebase/auth",UA="@firebase/auth-compat",BA="@firebase/database",jA="@firebase/database-compat",$A="@firebase/functions",zA="@firebase/functions-compat",GA="@firebase/installations",HA="@firebase/installations-compat",WA="@firebase/messaging",qA="@firebase/messaging-compat",KA="@firebase/performance",QA="@firebase/performance-compat",YA="@firebase/remote-config",ZA="@firebase/remote-config-compat",JA="@firebase/storage",XA="@firebase/storage-compat",eR="@firebase/firestore",tR="@firebase/vertexai-preview",nR="@firebase/firestore-compat",iR="firebase",rR="10.13.1";var cp="[DEFAULT]",sR={[lp]:"fire-core",[PA]:"fire-core-compat",[NA]:"fire-analytics",[kA]:"fire-analytics-compat",[VA]:"fire-app-check",[FA]:"fire-app-check-compat",[LA]:"fire-auth",[UA]:"fire-auth-compat",[BA]:"fire-rtdb",[jA]:"fire-rtdb-compat",[$A]:"fire-fn",[zA]:"fire-fn-compat",[GA]:"fire-iid",[HA]:"fire-iid-compat",[WA]:"fire-fcm",[qA]:"fire-fcm-compat",[KA]:"fire-perf",[QA]:"fire-perf-compat",[YA]:"fire-rc",[ZA]:"fire-rc-compat",[JA]:"fire-gcs",[XA]:"fire-gcs-compat",[eR]:"fire-fst",[nR]:"fire-fst-compat",[tR]:"fire-vertex","fire-js":"fire-js",[iR]:"fire-js-all"};var ja=new Map,oR=new Map,up=new Map;function jb(t,e){try{t.container.addComponent(e)}catch(n){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xn(t){let e=t.name;if(up.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;up.set(e,t);for(let n of ja.values())jb(n,t);for(let n of oR.values())jb(n,t);return!0}function jr(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function En(t){return t.settings!==void 0}var aR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new bi("app","Firebase",aR);var dp=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new en("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}};var ei=rR;function pp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:cp,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw sr.create("bad-app-name",{appName:String(r)});if(n||(n=Zf()),!n)throw sr.create("no-options");let s=ja.get(r);if(s){if(Ur(n,s.options)&&Ur(i,s.config))return s;throw sr.create("duplicate-app",{appName:r})}let o=new du(r);for(let c of up.values())o.addComponent(c);let l=new dp(n,i,o);return ja.set(r,l),l}function or(t=cp){let e=ja.get(t);if(!e&&t===cp&&Zf())return pp();if(!e)throw sr.create("no-app",{appName:t});return e}function fu(){return Array.from(ja.values())}function ze(t,e,n){var i;let r=(i=sR[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(l.join(" "));return}Xn(new en(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var lR="firebase-heartbeat-database",cR=1,$a="firebase-heartbeat-store",op=null;function Hb(){return op||(op=Ub(lR,cR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($a)}catch(n){console.warn(n)}}}}).catch(t=>{throw sr.create("idb-open",{originalErrorMessage:t.message})})),op}function uR(t){return v(this,null,function*(){try{let n=(yield Hb()).transaction($a),i=yield n.objectStore($a).get(Wb(t));return yield n.done,i}catch(e){if(e instanceof qt)wi.warn(e.message);else{let n=sr.create("idb-get",{originalErrorMessage:e?.message});wi.warn(n.message)}}})}function $b(t,e){return v(this,null,function*(){try{let i=(yield Hb()).transaction($a,"readwrite");yield i.objectStore($a).put(e,Wb(t)),yield i.done}catch(n){if(n instanceof qt)wi.warn(n.message);else{let i=sr.create("idb-set",{originalErrorMessage:n?.message});wi.warn(i.message)}}})}function Wb(t){return`${t.name}!${t.options.appId}`}var dR=1024,hR=30*24*60*60*1e3,hp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new fp(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let l=new Date(o.date).valueOf();return Date.now()-l<=hR}),this._storage.overwrite(this._heartbeatsCache))}catch(i){wi.warn(i)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=zb(),{heartbeatsToSend:i,unsentEntries:r}=fR(this._heartbeatsCache.heartbeats),s=Ua(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return wi.warn(n),""}})}};function zb(){return new Date().toISOString().substring(0,10)}function fR(t,e=dR){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Gb(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Gb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var fp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Xf()?Db().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield uR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return $b(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return $b(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function Gb(t){return Ua(JSON.stringify({version:2,heartbeats:t})).length}function pR(t){Xn(new en("platform-logger",e=>new ap(e),"PRIVATE")),Xn(new en("heartbeat",e=>new hp(e),"PRIVATE")),ze(lp,Bb,t),ze(lp,Bb,"esm2017"),ze("fire-js","")}pR("");function cw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var uw=cw,dw=new bi("auth","Firebase",cw());var yu=new rr("@firebase/auth");function mR(t,...e){yu.logLevel<=fe.WARN&&yu.warn(`Auth (${ei}): ${t}`,...e)}function mu(t,...e){yu.logLevel<=fe.ERROR&&yu.error(`Auth (${ei}): ${t}`,...e)}function ii(t,...e){throw Fp(t,...e)}function $r(t,...e){return Fp(t,...e)}function hw(t,e,n){let i=Object.assign(Object.assign({},uw()),{[e]:n});return new bi("auth","Firebase",i).create(e,{appName:t.name})}function ti(t){return hw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fp(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return dw.create(t,...e)}function Z(t,e,...n){if(!t)throw Fp(e,...n)}function Ei(t){let e="INTERNAL ASSERTION FAILED: "+t;throw mu(e),new Error(e)}function lr(t,e){t||Ei(e)}function vp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gR(){return qb()==="http:"||qb()==="https:"}function qb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function _R(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gR()||Sb()||"connection"in navigator)?navigator.onLine:!0}function vR(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var zr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=Cb()||xb()}get(){return _R()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Vp(t,e){lr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var bu=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var yR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var bR=new zr(3e4,6e4);function Ti(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Pn(s,o,l,c){return v(this,arguments,function*(t,e,n,i,r={}){return fw(t,r,()=>v(this,null,function*(){let u={},f={};i&&(e==="GET"?f=i:u={body:JSON.stringify(i)});let m=Ba(Object.assign({key:t.config.apiKey},f)).slice(1),g=yield t._getAdditionalHeaders();return g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode),bu.fetch()(pw(t,t.config.apiHost,n,m),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},u))}))})}function fw(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},yR),e);try{let r=new yp(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw pu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw pu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw pu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw pu(t,"user-disabled",o);let f=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw hw(t,f,u);ii(t,f)}}catch(r){if(r instanceof qt)throw r;ii(t,"network-request-failed",{message:String(r)})}})}function Qa(s,o,l,c){return v(this,arguments,function*(t,e,n,i,r={}){let u=yield Pn(t,e,n,i,r);return"mfaPendingCredential"in u&&ii(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function pw(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?Vp(t.config,r):`${t.config.apiScheme}://${r}`}function wR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var yp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i($r(this.auth,"network-request-failed")),bR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function pu(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=$r(t,e,i);return r.customData._tokenResponse=n,r}function Kb(t){return t!==void 0&&t.enterprise!==void 0}var bp=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function ER(t,e){return v(this,null,function*(){return Pn(t,"GET","/v2/recaptchaConfig",Ti(t,e))})}function IR(t,e){return v(this,null,function*(){return Pn(t,"POST","/v1/accounts:delete",e)})}function mw(t,e){return v(this,null,function*(){return Pn(t,"POST","/v1/accounts:lookup",e)})}function za(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Lp(t,e=!1){return v(this,null,function*(){let n=Ie(t),i=yield n.getIdToken(e),r=Up(i);Z(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:za(mp(r.auth_time)),issuedAtTime:za(mp(r.iat)),expirationTime:za(mp(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function mp(t){return Number(t)*1e3}function Up(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return mu("JWT malformed, contained fewer than 3 sections"),null;try{let r=Qf(n);return r?JSON.parse(r):(mu("Failed to decode base64 JWT payload"),null)}catch(r){return mu("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Qb(t){let e=Up(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Gr(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof qt&&TR(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function TR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var wp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ha=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=za(this.lastLoginAt),this.creationTime=za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function wu(t){return v(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield Gr(t,mw(n,{idToken:i}));Z(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?gw(s.providerUserInfo):[],l=CR(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!l?.length,f=c?u:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Ha(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)})}function Bp(t){return v(this,null,function*(){let e=Ie(t);yield wu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function CR(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function gw(t){return t.map(e=>{var{providerId:n}=e,i=xh(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function SR(t,e){return v(this,null,function*(){let n=yield fw(t,{},()=>v(this,null,function*(){let i=Ba({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=pw(t,r,"/v1/token",`key=${s}`),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",bu.fetch()(o,{method:"POST",headers:l,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function xR(t,e){return v(this,null,function*(){return Pn(t,"POST","/v2/accounts:revokeToken",Ti(t,e))})}var Ga=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");let n=Qb(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield SR(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(Z(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(Z(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ei("not implemented")}};function ar(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ys=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=xh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ha(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield Gr(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Lp(this,e)}reload(){return Bp(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield wu(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(En(this.auth.app))return Promise.reject(ti(this.auth));let e=yield this.getIdToken();return yield Gr(this,IR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,l,c,u,f;let m=(i=n.displayName)!==null&&i!==void 0?i:void 0,g=(r=n.email)!==null&&r!==void 0?r:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,M=(o=n.photoURL)!==null&&o!==void 0?o:void 0,O=(l=n.tenantId)!==null&&l!==void 0?l:void 0,A=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,F=(u=n.createdAt)!==null&&u!==void 0?u:void 0,$=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:z,emailVerified:B,isAnonymous:Y,providerData:W,stsTokenManager:I}=n;Z(z&&I,e,"internal-error");let _=Ga.fromJSON(this.name,I);Z(typeof z=="string",e,"internal-error"),ar(m,e.name),ar(g,e.name),Z(typeof B=="boolean",e,"internal-error"),Z(typeof Y=="boolean",e,"internal-error"),ar(w,e.name),ar(M,e.name),ar(O,e.name),ar(A,e.name),ar(F,e.name),ar($,e.name);let y=new t({uid:z,auth:e,email:g,emailVerified:B,displayName:m,isAnonymous:Y,photoURL:M,phoneNumber:w,tenantId:O,stsTokenManager:_,createdAt:F,lastLoginAt:$});return W&&Array.isArray(W)&&(y.providerData=W.map(E=>Object.assign({},E))),A&&(y._redirectEventId=A),y}static _fromIdTokenResponse(e,n,i=!1){return v(this,null,function*(){let r=new Ga;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield wu(s),s})}static _fromGetAccountInfoResponse(e,n,i){return v(this,null,function*(){let r=n.users[0];Z(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?gw(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,l=new Ga;l.updateFromIdToken(i);let c=new t({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Ha(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var Yb=new Map;function Ii(t){lr(t instanceof Function,"Expected a class definition");let e=Yb.get(t);return e?(lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Yb.set(t,e),e)}var AR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,i){return v(this,null,function*(){this.storage[n]=i})}_get(n){return v(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),Ep=AR;function gu(t,e,n){return`firebase:${t}:${e}:${n}`}var Eu=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=gu(this.userKey,r.apiKey,s),this.fullPersistenceKey=gu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ys._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return v(this,null,function*(){if(!n.length)return new t(Ii(Ep),e,i);let r=(yield Promise.all(n.map(u=>v(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||Ii(Ep),o=gu(i,e.config.apiKey,e.name),l=null;for(let u of n)try{let f=yield u._get(o);if(f){let m=Ys._fromJSON(e,f);u!==s&&(l=m),s=u;break}}catch{}let c=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,i):(s=c[0],l&&(yield s._set(o,l.toJSON())),yield Promise.all(n.map(u=>v(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,i))})}};function Zb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_w(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ew(e))return"Blackberry";if(Iw(e))return"Webos";if(vw(e))return"Safari";if((e.includes("chrome/")||yw(e))&&!e.includes("edge/"))return"Chrome";if(ww(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function _w(t=pt()){return/firefox\//i.test(t)}function vw(t=pt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yw(t=pt()){return/crios\//i.test(t)}function bw(t=pt()){return/iemobile/i.test(t)}function ww(t=pt()){return/android/i.test(t)}function Ew(t=pt()){return/blackberry/i.test(t)}function Iw(t=pt()){return/webos/i.test(t)}function jp(t=pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function RR(t=pt()){var e;return jp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DR(){return Ab()&&document.documentMode===10}function Tw(t=pt()){return jp(t)||ww(t)||Iw(t)||Ew(t)||/windows phone/i.test(t)||bw(t)}function Cw(t,e=[]){let n;switch(t){case"Browser":n=Zb(pt());break;case"Worker":n=`${Zb(pt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ei}/${i}`}var Ip=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,l)=>{try{let c=e(s);o(c)}catch(c){l(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function MR(n){return v(this,arguments,function*(t,e={}){return Pn(t,"GET","/v2/passwordPolicy",Ti(t,e))})}var OR=6,Tp=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:OR,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,l;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Cp=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Iu(this),this.idTokenSubscription=new Iu(this),this.beforeStateQueue=new Ip(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Eu.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield mw(this,{idToken:e}),i=yield Ys._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(En(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield wu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=vR()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(En(this.app))return Promise.reject(ti(this));let n=e?Ie(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return En(this.app)?Promise.reject(ti(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return En(this.app)?Promise.reject(ti(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Ii(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield MR(this),n=new Tp(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bi("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield xR(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ii(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=yield Eu.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return v(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&mR(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function cr(t){return Ie(t)}var Iu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ob(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Mu={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PR(t){Mu=t}function Sw(t){return Mu.loadJS(t)}function kR(){return Mu.recaptchaEnterpriseScript}function NR(){return Mu.gapiScript}function xw(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var FR="recaptcha-enterprise",VR="NO_RECAPTCHA",Sp=class{constructor(e){this.type=FR,this.auth=cr(e)}verify(e="verify",n=!1){return v(this,null,function*(){function i(s){return v(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,l)=>v(this,null,function*(){ER(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{let u=new bp(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})}))})}function r(s,o,l){let c=window.grecaptcha;Kb(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(VR)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(l=>{if(!n&&Kb(window.grecaptcha))r(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=kR();c.length!==0&&(c+=l),Sw(c).then(()=>{r(l,s,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})})}};function Jb(t,e,n,i=!1){return v(this,null,function*(){let r=new Sp(t),s;try{s=yield r.verify(n)}catch{s=yield r.verify(n,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Tu(t,e,n,i){return v(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield Jb(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(s=>v(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield Jb(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)}))})}function $p(t,e){let n=jr(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),s=n.getOptions();if(Ur(s,e??{}))return r;ii(r,"already-initialized")}return n.initialize({options:e})}function LR(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function zp(t,e,n){let i=cr(t);Z(i._canInitEmulator,i,"emulator-config-failed"),Z(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,s=Aw(e),{host:o,port:l}=UR(e),c=l===null?"":`:${l}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||BR()}function Aw(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UR(t){let e=Aw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:Xb(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:Xb(o)}}}function Xb(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function BR(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Wa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,n){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}};function jR(t,e){return v(this,null,function*(){return Pn(t,"POST","/v1/accounts:update",e)})}function $R(t,e){return v(this,null,function*(){return Pn(t,"POST","/v1/accounts:signUp",e)})}function zR(t,e){return v(this,null,function*(){return Qa(t,"POST","/v1/accounts:signInWithPassword",Ti(t,e))})}function Rw(t,e){return v(this,null,function*(){return Pn(t,"POST","/v1/accounts:sendOobCode",Ti(t,e))})}function GR(t,e){return v(this,null,function*(){return Rw(t,e)})}function HR(t,e){return v(this,null,function*(){return Rw(t,e)})}function WR(t,e){return v(this,null,function*(){return Qa(t,"POST","/v1/accounts:signInWithEmailLink",Ti(t,e))})}function qR(t,e){return v(this,null,function*(){return Qa(t,"POST","/v1/accounts:signInWithEmailLink",Ti(t,e))})}var qa=class t extends Wa{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tu(e,n,"signInWithPassword",zR);case"emailLink":return WR(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}})}_linkToIdToken(e,n){return v(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tu(e,i,"signUpPassword",$R);case"emailLink":return qR(e,{idToken:n,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function gp(t,e){return v(this,null,function*(){return Qa(t,"POST","/v1/accounts:signInWithIdp",Ti(t,e))})}function KR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QR(t){let e=Ks(Qs(t)).link,n=e?Ks(Qs(e)).deep_link_id:null,i=Ks(Qs(t)).deep_link_id;return(i?Ks(Qs(i)).link:null)||i||n||e||t}var Cu=class t{constructor(e){var n,i,r,s,o,l;let c=Ks(Qs(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(i=c.oobCode)!==null&&i!==void 0?i:null,m=KR((r=c.mode)!==null&&r!==void 0?r:null);Z(u&&f&&m,"argument-error"),this.apiKey=u,this.operation=m,this.code=f,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){let n=QR(e);try{return new t(n)}catch{return null}}};var Dw=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return qa._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=Cu.parseLink(i);return Z(r,"argument-error"),qa._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Su=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var xp=class extends Su{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function YR(t,e){return v(this,null,function*(){return Qa(t,"POST","/v1/accounts:signUp",Ti(t,e))})}var Zs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return v(this,null,function*(){let s=yield Ys._fromIdTokenResponse(e,i,r),o=ew(i);return new t({user:s,providerId:o,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return v(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=ew(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function ew(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Ap=class t extends qt{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function Mw(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ap._fromErrorAndOperation(t,s,e,i):s})}function ZR(t,e,n=!1){return v(this,null,function*(){let i=yield Gr(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Zs._forOperation(t,"link",i)})}function JR(t,e,n=!1){return v(this,null,function*(){let{auth:i}=t;if(En(i.app))return Promise.reject(ti(i));let r="reauthenticate";try{let s=yield Gr(t,Mw(i,r,e,t),n);Z(s.idToken,i,"internal-error");let o=Up(s.idToken);Z(o,i,"internal-error");let{sub:l}=o;return Z(t.uid===l,i,"user-mismatch"),Zs._forOperation(t,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&ii(i,"user-mismatch"),s}})}function Ow(t,e,n=!1){return v(this,null,function*(){if(En(t.app))return Promise.reject(ti(t));let i="signIn",r=yield Mw(t,i,e),s=yield Zs._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})}function Gp(t,e){return v(this,null,function*(){return Ow(cr(t),e)})}function Pw(t,e,n){var i;Z(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),Z(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Z(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Z(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function kw(t){return v(this,null,function*(){let e=cr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Ou(t,e,n){return v(this,null,function*(){let i=cr(t),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Pw(i,r,n),yield Tu(i,r,"getOobCode",HR)})}function Pu(t,e,n){return v(this,null,function*(){if(En(t.app))return Promise.reject(ti(t));let i=cr(t),o=yield Tu(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YR).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&kw(t),c}),l=yield Zs._fromIdTokenResponse(i,"signIn",o);return yield i._updateCurrentUser(l.user),l})}function ku(t,e,n){return En(t.app)?Promise.reject(ti(t)):Gp(Ie(t),Dw.credential(e,n)).catch(i=>v(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&kw(t),i}))}function Ya(t,e){return v(this,null,function*(){let n=Ie(t),r={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&Pw(n.auth,r,e);let{email:s}=yield GR(n.auth,r);s!==t.email&&(yield t.reload())})}function XR(t,e){return v(this,null,function*(){return Pn(t,"POST","/v1/accounts:update",e)})}function Za(i,r){return v(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let s=Ie(t),l={idToken:yield s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=yield Gr(s,XR(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;let u=s.providerData.find(({providerId:f})=>f==="password");u&&(u.displayName=s.displayName,u.photoURL=s.photoURL),yield s._updateTokensIfNecessary(c)})}function Nu(t,e){let n=Ie(t);return En(n.auth.app)?Promise.reject(ti(n.auth)):Nw(n,e,null)}function Fu(t,e){return Nw(Ie(t),null,e)}function Nw(t,e,n){return v(this,null,function*(){let{auth:i}=t,s={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);let o=yield Gr(t,jR(i,s));yield t._updateTokensIfNecessary(o,!0)})}function Vu(t,e){return Ie(t).setPersistence(e)}function Hp(t,e,n,i){return Ie(t).onIdTokenChanged(e,n,i)}function Wp(t,e,n){return Ie(t).beforeAuthStateChanged(e,n)}function Ja(t,e,n,i){return Ie(t).onAuthStateChanged(e,n,i)}function Lu(t){return Ie(t).signOut()}var xu="__sak";var Au=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xu,"1"),this.storage.removeItem(xu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var eD=1e3,tD=10,nD=(()=>{class t extends Au{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tw(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((l,c,u)=>{this.notifyListeners(l,u)});return}let r=n.key;i?this.detachListener():this.stopPolling();let s=()=>{let l=this.storage.getItem(r);!i&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);DR()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,tD):s()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},eD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return v(this,null,function*(){yield ji(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return v(this,null,function*(){let i=yield ji(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return v(this,null,function*(){yield ji(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Uu=nD;var iD=(()=>{class t extends Au{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),qp=iD;function rD(t){return Promise.all(t.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var sD=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let i=n,{eventId:r,eventType:s,data:o}=i.data,l=this.handlersMap[s];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(l).map(f=>v(this,null,function*(){return f(i.origin,o)})),u=yield rD(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Fw(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var Rp=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return v(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{let u=Fw("",20);r.port1.start();let f=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(m){let g=m;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ni(){return window}function oD(t){ni().location.href=t}function Vw(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}function aD(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function lD(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cD(){return Vw()?self:null}var Lw="firebaseLocalStorageDb",uD=1,Ru="firebaseLocalStorage",Uw="fbase_key",Hr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Bu(t,e){return t.transaction([Ru],e?"readwrite":"readonly").objectStore(Ru)}function dD(){let t=indexedDB.deleteDatabase(Lw);return new Hr(t).toPromise()}function Dp(){let t=indexedDB.open(Lw,uD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Ru,{keyPath:Uw})}catch(r){n(r)}}),t.addEventListener("success",()=>v(this,null,function*(){let i=t.result;i.objectStoreNames.contains(Ru)?e(i):(i.close(),yield dD(),e(yield Dp()))}))})}function tw(t,e,n){return v(this,null,function*(){let i=Bu(t,!0).put({[Uw]:e,value:n});return new Hr(i).toPromise()})}function hD(t,e){return v(this,null,function*(){let n=Bu(t,!1).get(e),i=yield new Hr(n).toPromise();return i===void 0?null:i.value})}function nw(t,e){let n=Bu(t,!0).delete(e);return new Hr(n).toPromise()}var fD=800,pD=3,mD=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield Dp(),this.db)})}_withRetries(n){return v(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>pD)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return Vw()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=sD._getInstance(cD()),this.receiver._subscribe("keyChanged",(n,i)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,i;if(this.activeServiceWorker=yield aD(),!this.activeServiceWorker)return;this.sender=new Rp(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||lD()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Dp();return yield tw(n,xu,"1"),yield nw(n,xu),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>tw(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let i=yield this._withRetries(r=>hD(r,n));return this.localCache[n]=i,i})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>nw(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(s=>{let o=Bu(s,!1).getAll();return new Hr(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),fD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Bw=mD;var lL=xw("rcb"),cL=new zr(3e4,6e4);function gD(t,e){return e?Ii(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ka=class extends Wa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gp(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function _D(t){return Ow(t.auth,new Ka(t),t.bypassAuthState)}function vD(t){let{auth:e,user:n}=t;return Z(n,e,"internal-error"),JR(n,new Ka(t),t.bypassAuthState)}function yD(t){return v(this,null,function*(){let{auth:e,user:n}=t;return Z(n,e,"internal-error"),ZR(n,new Ka(t),t.bypassAuthState)})}var Mp=class{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(l)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _D;case"linkViaPopup":case"linkViaRedirect":return yD;case"reauthViaPopup":case"reauthViaRedirect":return vD;default:ii(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var uL=new zr(2e3,1e4);var bD="pendingRedirect",_u=new Map,Op=class t extends Mp{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return v(this,null,function*(){let e=_u.get(this.auth._key());if(!e){try{let i=(yield wD(this.resolver,this.auth))?yield ji(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}_u.set(this.auth._key(),e)}return this.bypassAuthState||_u.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return ji(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ji(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function wD(t,e){return v(this,null,function*(){let n=TD(e),i=ID(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function ED(t,e){_u.set(t._key(),e)}function ID(t){return Ii(t._redirectPersistence)}function TD(t){return gu(bD,t.config.apiKey,t.name)}function CD(t,e,n=!1){return v(this,null,function*(){if(En(t.app))return Promise.reject(ti(t));let i=cr(t),r=gD(i,e),o=yield new Op(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var SD=10*60*1e3,Pp=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!jw(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError($r(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SD&&this.cachedEventUids.clear(),this.cachedEventUids.has(iw(e))}saveEventToCache(e){this.cachedEventUids.add(iw(e)),this.lastProcessedEventTime=Date.now()}};function iw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jw({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function xD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jw(t);default:return!1}}function AD(n){return v(this,arguments,function*(t,e={}){return Pn(t,"GET","/v1/projects",e)})}var RD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DD=/^https?/;function MD(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield AD(t);for(let n of e)try{if(OD(n))return}catch{}ii(t,"unauthorized-domain")})}function OD(t){let e=vp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!DD.test(n))return!1;if(RD.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var PD=new zr(3e4,6e4);function rw(){let t=ni().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kD(t){return new Promise((e,n)=>{var i,r,s;function o(){rw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rw(),n($r(t,"network-request-failed"))},timeout:PD.get()})}if(!((r=(i=ni().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=ni().gapi)===null||s===void 0)&&s.load)o();else{let l=xw("iframefcb");return ni()[l]=()=>{gapi.load?o():n($r(t,"network-request-failed"))},Sw(`${NR()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw vu=null,e})}var vu=null;function ND(t){return vu=vu||kD(t),vu}var FD=new zr(5e3,15e3),VD="__/auth/iframe",LD="emulator/auth/iframe",UD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jD(t){let e=t.config;Z(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Vp(e,LD):`https://${t.config.authDomain}/${VD}`,i={apiKey:e.apiKey,appName:t.name,v:ei},r=BD.get(t.config.apiHost);r&&(i.eid=r);let s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Ba(i).slice(1)}`}function $D(t){return v(this,null,function*(){let e=yield ND(t),n=ni().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:jD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UD,dontclear:!0},i=>new Promise((r,s)=>v(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=$r(t,"network-request-failed"),l=ni().setTimeout(()=>{s(o)},FD.get());function c(){ni().clearTimeout(l),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var zD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GD=500,HD=600,WD="_blank",qD="http://localhost",Du=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function KD(t,e,n,i=GD,r=HD){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),l="",c=Object.assign(Object.assign({},zD),{width:i.toString(),height:r.toString(),top:s,left:o}),u=pt().toLowerCase();n&&(l=yw(u)?WD:n),_w(u)&&(e=e||qD,c.scrollbars="yes");let f=Object.entries(c).reduce((g,[w,M])=>`${g}${w}=${M},`,"");if(RR(u)&&l!=="_self")return QD(e||"",l),new Du(null);let m=window.open(e||"",l,f);Z(m,t,"popup-blocked");try{m.focus()}catch{}return new Du(m)}function QD(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var YD="__/auth/handler",ZD="emulator/auth/handler",JD=encodeURIComponent("fac");function sw(t,e,n,i,r,s){return v(this,null,function*(){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ei,eventId:r};if(e instanceof Su){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Mb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,m]of Object.entries(s||{}))o[f]=m}if(e instanceof xp){let f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let l=o;for(let f of Object.keys(l))l[f]===void 0&&delete l[f];let c=yield t._getAppCheckToken(),u=c?`#${JD}=${encodeURIComponent(c)}`:"";return`${XD(t)}?${Ba(l).slice(1)}${u}`})}function XD({config:t}){return t.emulator?Vp(t,ZD):`https://${t.authDomain}/${YD}`}var _p="webStorageSupport",kp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qp,this._completeRedirectFn=CD,this._overrideRedirectResult=ED}_openPopup(e,n,i,r){return v(this,null,function*(){var s;lr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield sw(e,n,i,vp(),r);return KD(e,o,Fw())})}_openRedirect(e,n,i,r){return v(this,null,function*(){yield this._originValidation(e);let s=yield sw(e,n,i,vp(),r);return oD(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(lr(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return v(this,null,function*(){let n=yield $D(e),i=new Pp(e);return n.register("authEvent",r=>(Z(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_p,{type:_p},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[_p];o!==void 0&&n(!!o),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Tw()||vw()||jp()}},$w=kp;var ow="@firebase/auth",aw="1.7.8";var Np=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function eM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tM(t){Xn(new en("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=i.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cw(t)},u=new Cp(i,r,s,c);return LR(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Xn(new en("auth-internal",e=>{let n=cr(e.getProvider("auth").getImmediate());return(i=>new Np(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ze(ow,aw,eM(t)),ze(ow,aw,"esm2017")}var nM=5*60,iM=Jf("authIdTokenMaxAge")||nM,lw=null,rM=t=>e=>v(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>iM)return;let r=n?.token;lw!==r&&(lw=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Kp(t=or()){let e=jr(t,"auth");if(e.isInitialized())return e.getImmediate();let n=$p(t,{popupRedirectResolver:$w,persistence:[Bw,Uu,qp]}),i=Jf("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=rM(s.toString());Wp(n,o,()=>o(n.currentUser)),Hp(n,l=>o(l))}}let r=Yf("auth");return r&&zp(n,`http://${r}`),n}function sM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}PR({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=$r("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",sM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tM("Browser");var zw=(()=>{let e=class e{constructor(i){this.dialogRef=i}close(){this.dialogRef.close()}};e.\u0275fac=function(r){return new(r||e)(P(Qn))},e.\u0275cmp=ce({type:e,selectors:[["app-change-password"]],standalone:!0,features:[ue],decls:8,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(r,s){r&1&&(x(0,"h1",0),N(1,"Passwort ge\xE4ndert"),R(),x(2,"div",1)(3,"span"),N(4,"Das Passwort wurde erfolgreich ge\xE4ndert"),R()(),x(5,"div",2)(6,"button",3),G("click",function(){return s.close()}),N(7,"Schlie\xDFen"),R()())}});let t=e;return t})();var Gw=(()=>{let e=class e{constructor(i,r){this.dialogRef=i,this.router=r}close(){this.dialogRef.close(),this.dialogRef.afterClosed().subscribe(()=>{this.router.navigate(["/registration"])})}};e.\u0275fac=function(r){return new(r||e)(P(Qn),P(Pe))},e.\u0275cmp=ce({type:e,selectors:[["app-email-exists"]],standalone:!0,features:[ue],decls:9,vars:0,consts:[[1,"emailExists"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(r,s){r&1&&(x(0,"div",0)(1,"h1",1),N(2,"Email existiert bereits"),R(),x(3,"div",2)(4,"span"),N(5,"Die eingegeben Email wird bereits verwendet"),R()(),x(6,"div",3)(7,"button",4),G("click",function(){return s.close()}),N(8,"Schlie\xDFen"),R()()())},styles:[".emailExists[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.emailExists[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .emailExists[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .emailExists[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:20px 0 30px}"]});let t=e;return t})();var Hw=(()=>{let e=class e{constructor(i,r){this.dialogRef=i,this.router=r}close(){this.dialogRef.close(),this.dialogRef.afterClosed().subscribe(()=>{this.router.navigate(["/registration"])})}};e.\u0275fac=function(r){return new(r||e)(P(Qn),P(Pe))},e.\u0275cmp=ce({type:e,selectors:[["app-passwordtoshort"]],standalone:!0,features:[ue],decls:9,vars:0,consts:[[1,"passwordToShort"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(r,s){r&1&&(x(0,"div",0)(1,"h1",1),N(2,"Passwort zu kurz"),R(),x(3,"div",2)(4,"span"),N(5,"Das Passwort muss mindestens 6 Zeichen haben"),R()(),x(6,"div",3)(7,"button",4),G("click",function(){return s.close()}),N(8,"Schlie\xDFen"),R()()())}});let t=e;return t})();var $M="firebase",zM="10.13.1";ze($M,zM,"app");var Kr=new hc("ANGULARFIRE2_VERSION");function $u(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Xa=(t,e)=>{let n=e?[e]:fu(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Xs=class{constructor(){return Xa(GM)}},GM="app-check";function Js(){}var ju=class{zone;delegate;constructor(e,n=ov){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},Qp=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Js,{},Js,Js)),n.pipe(Je({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},eo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ju(Zone.current)),this.insideAngular=n.run(()=>new ju(Zone.current,sv)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(Oe(ge))};static \u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function HM(t){return zu().ngZone.runOutsideAngular(()=>t())}function qr(t){return zu().ngZone.run(()=>t())}function WM(t){return qM(zu())(t)}function qM(t){return function(n){return n=n.lift(new Qp(t.ngZone)),n.pipe(Rh(t.outsideAngular),Ah(t.insideAngular))}}var KM=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),qr(()=>t.apply(void 0,i))},Dt=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=qr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Js,{},Js,Js))),i[s]=KM(i[s],n));let r=HM(()=>t.apply(this,i));if(!e)if(r instanceof Ds){let s=zu();return r.pipe(Rh(s.outsideAngular),Ah(s.insideAngular))}else return qr(()=>r);return r instanceof Ds?r.pipe(WM):r instanceof Promise?qr(()=>new Promise((s,o)=>r.then(l=>qr(()=>s(l)),l=>qr(()=>o(l))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:qr(()=>r)};var Ci=class{constructor(e){return e}},Qr=class{constructor(){return fu()}};function QM(t){return t&&t.length===1?t[0]:new Ci(or())}var Yp=new ie("angularfire2._apps"),YM={provide:Ci,useFactory:QM,deps:[[new ln,Yp]]},ZM={provide:Qr,deps:[[new ln,Yp]]};function JM(t){return(e,n)=>{let i=n.get(kh);ze("angularfire",Kr.full,"core"),ze("angularfire",Kr.full,"app"),ze("angular",Sv.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new Ci(r)}}function Ww(t,...e){return Hn([YM,ZM,{provide:Yp,useFactory:JM(t),multi:!0,deps:[ge,cn,eo,...e]}])}var qw=Dt(pp,!0);var Kw="auth",Yr=class{constructor(e){return e}},el=class{constructor(){return Xa(Kw)}};var Zp=new ie("angularfire2.auth-instances");function XM(t,e){let n=$u(Kw,t,e);return n&&new Yr(n)}function eO(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Yr(i)}}var tO={provide:el,deps:[[new ln,Zp]]},nO={provide:Yr,useFactory:XM,deps:[[new ln,Zp],Ci]};function Qw(t,...e){return ze("angularfire",Kr.full,"auth"),Hn([nO,tO,{provide:Zp,useFactory:eO(t),multi:!0,deps:[ge,cn,eo,Qr,[new ln,Xs],...e]}])}var Yw=Dt(Kp,!0);var mt=(()=>{let e=class e{constructor(i,r){this.dialog=i,this.router=r,this.userSubject=new It(null),this.user$=this.userSubject.asObservable(),this.auth=j(Yr);let s=JSON.parse(localStorage.getItem("user")||"null");s&&this.userSubject.next(s),Ja(this.auth,o=>{this.userSubject.next(o)}),this.listenToAuthState()}get authInstance(){return this.auth}getUsername(){this.displayName=this.userSubject.subscribe(i=>{this.displayName=i?.displayName})}isLoggedIn(){return!!this.userSubject.value}getUserProfil(i){if(i!==null){let{displayName:r,email:s,emailVerified:o,uid:l,metadata:c}=i}}createUser(i,r,s){return v(this,null,function*(){try{let o=yield Pu(this.auth,i,r);this.auth.languageCode="de";let l=o.user;return yield Za(l,{displayName:s}),yield Ya(l),this.userSubject.next(l),this.router.navigate(["/wishes"]),l}catch(o){if(console.error("Error during registration:",o),o="auth/email-already-in-use"){this.dialog.open(Gw,{width:"350px",height:"200px",disableClose:!0});return}if(o="auth/weak-password"){this.dialog.open(Hw,{width:"350px",height:"200px",disableClose:!0});return}throw o}})}listenToAuthState(){Ja(this.auth,i=>{i?(this.userSubject.next(i),this.getUserProfil(i)):this.userSubject.next(null)})}signInWithEmail(i,r){return v(this,null,function*(){try{yield Vu(this.auth,Uu);let o=(yield ku(this.auth,i,r)).user;return this.userSubject.next(o),localStorage.setItem("user",JSON.stringify(o)),o}catch(s){throw console.error("Error signing in:",s),s}})}forgotPassword(i){Ou(this.auth,i).then(()=>{this.auth.languageCode="de",console.log("Password reset email sent to:",i)}).catch(r=>{let s=r.code,o=r.message;console.log("Error: ",s,o)})}updateUserName(i){return v(this,null,function*(){let r=this.auth.currentUser;if(r)try{yield Za(r,{displayName:i}),this.userSubject.next(r),console.log("User profile updated:",r)}catch(s){throw console.error("Error updating user profile:",s),s}else throw console.error("No user signed in."),new Error("No user signed in.")})}updateUserEmail(i){return v(this,null,function*(){let r=this.auth.currentUser;if(this.auth.languageCode="de",r)try{yield Nu(r,i),yield Ya(r),this.userSubject.next(r),console.log("User profile updated:",r)}catch(s){throw console.error("Error updating user profile:",s),s}else throw console.error("No user signed in."),new Error("No user signed in.")})}updateUserPassword(i){return v(this,null,function*(){let r=this.auth.currentUser,s=i;if(r)try{yield Fu(r,s),console.log("Password updated successfully"),this.dialog.open(zw)}catch(o){throw console.error("Error updating password:",o),o}})}logOut(){Lu(this.auth).then(()=>{this.userSubject.next(null),console.log("User signed out"),localStorage.removeItem("user")}).catch(()=>{console.error("Error signing out")})}};e.\u0275fac=function(r){return new(r||e)(Oe(yn),Oe(Pe))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Zw=(()=>{let e=class e{constructor(){this.dialogRef=j(Qn),this.auth=j(mt),this.email=""}onNoClick(){this.dialogRef.close()}forgotPassword(i){this.auth.forgotPassword(i),this.dialogRef.close()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ce({type:e,selectors:[["app-forgot-password"]],standalone:!0,features:[ue],decls:14,vars:1,consts:[["mat-dialog-title",""],["matInput","",3,"ngModelChange","ngModel"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"click"]],template:function(r,s){r&1&&(x(0,"h2",0),N(1,"Passwort vergessen"),R(),x(2,"mat-dialog-content")(3,"p"),N(4,"Wie lautet deine Email Adresse?"),R(),x(5,"mat-form-field")(6,"mat-label"),N(7,"Email Adresse"),R(),x(8,"input",1),Ze("ngModelChange",function(l){return Ye(s.email,l)||(s.email=l),l}),R()()(),x(9,"mat-dialog-actions")(10,"button",2),G("click",function(){return s.onNoClick()}),N(11,"Abbrechen"),R(),x(12,"button",3),G("click",function(){return s.forgotPassword(s.email)}),N(13,"Ok"),R()()),r&2&&(V(8),Qe("ngModel",s.email))},dependencies:[yi,su,qs,ou,wb,Xt,Jt,wn,fn,Ic,Ec,Sc,xc,Ac]});let t=e;return t})();var Jw=(()=>{let e=class e{constructor(i,r){this.router=i,this.auth=r,this.dialog=j(yn),this.email="",this.password=""}navigateToRegistration(){this.router.navigate(["/registration"])}onLogin(){this.router.navigate(["/wishes"]),this.auth.signInWithEmail(this.email,this.password),this.auth.listenToAuthState()}openDialog(){this.dialog.open(Zw)}};e.\u0275fac=function(r){return new(r||e)(P(Pe),P(mt))},e.\u0275cmp=ce({type:e,selectors:[["app-login"]],standalone:!0,features:[ue],decls:13,vars:3,consts:[[1,"login"],[1,"headline"],[1,"inputFields"],["type","email","placeholder","Bitte E-Mail angeben",3,"ngModelChange","ngModel"],["type","password","placeholder","Bitte Passwort eingeben",3,"ngModelChange","ngModel"],[1,"buttons"],["type","submit",1,"button",3,"click","disabled"],["type","button",1,"button",3,"click"],[1,"forgot",3,"click"]],template:function(r,s){r&1&&(x(0,"div",0)(1,"h1",1),N(2," Wunschliste "),R(),x(3,"div",2)(4,"input",3),Ze("ngModelChange",function(l){return Ye(s.email,l)||(s.email=l),l}),R(),x(5,"input",4),Ze("ngModelChange",function(l){return Ye(s.password,l)||(s.password=l),l}),R(),x(6,"div",5)(7,"button",6),G("click",function(){return s.onLogin()}),N(8,"Login"),R(),x(9,"button",7),G("click",function(){return s.navigateToRegistration()}),N(10,"Registrieren"),R()(),x(11,"span",8),G("click",function(){return s.openDialog()}),N(12,"Passwort vergessen"),R()()()),r&2&&(V(4),Qe("ngModel",s.email),V(),Qe("ngModel",s.password),V(2),J("disabled",!s.email||s.email.trim()===""))},dependencies:[Xt,Jt,wn,fn],styles:[".login[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:5px;padding:10px;width:200px}.login[_ngcontent-%COMP%]   .inputFields[_ngcontent-%COMP%]{display:flex;flex-direction:column}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px;padding:5px;width:100px}.login[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background:#fff linear-gradient(to bottom,#fff 5%,#f6f6f6);border-radius:6px;border:1px solid #dcdcdc;display:inline-block;cursor:pointer;color:#666;font-size:15px;font-weight:700;padding:6px 16px;text-decoration:none;text-shadow:0 1px 0 #ffffff;outline:0;box-shadow:3px 3px 7px -1px #ffffffbf;margin:10px 5px 10px 0}.login[_ngcontent-%COMP%]   .forgot[_ngcontent-%COMP%]{text-decoration:underline;display:flex;justify-content:center;cursor:pointer}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:5px}.login[_ngcontent-%COMP%]   .custom-dialog-container[_ngcontent-%COMP%]{bottom:400px;position:absolute!important}"],changeDetection:0});let t=e;return t})();var oO=["trigger"],aO=["panel"],lO=[[["mat-select-trigger"]],"*"],cO=["mat-select-trigger","*"];function uO(t,e){if(t&1&&(x(0,"span",4),N(1),R()),t&2){let n=le();V(),xt(n.placeholder)}}function dO(t,e){t&1&&lt(0)}function hO(t,e){if(t&1&&(x(0,"span",11),N(1),R()),t&2){let n=le(2);V(),xt(n.triggerValue)}}function fO(t,e){if(t&1&&(x(0,"span",10),me(1,dO,1,0)(2,hO,2,1),R()),t&2){let n=le();V(),et(1,n.customTrigger?1:2)}}function pO(t,e){if(t&1){let n=tt();x(0,"div",12,1),G("@transformPanel.done",function(r){re(n);let s=le();return se(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){re(n);let s=le();return se(s._handleKeydown(r))}),lt(2,1),R()}if(t&2){let n=le();Cv("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",n._getPanelTheme(),""),J("ngClass",n.panelClass)("@transformPanel","showing"),Xe("id",n.id+"-panel")("aria-multiselectable",n.multiple)("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby())}}var mO={transformPanelWrap:Qi("transformPanelWrap",[Kn("* => void",Zv("@transformPanel",[Yv()],{optional:!0}))]),transformPanel:Qi("transformPanel",[Or("void",un({opacity:0,transform:"scale(1, 0.8)"})),Kn("void => showing",_i("120ms cubic-bezier(0, 0, 0.2, 1)",un({opacity:1,transform:"scale(1, 1)"}))),Kn("* => void",_i("100ms linear",un({opacity:0})))])};var Xw=0,e1=new ie("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let t=j(Ki);return()=>t.scrollStrategies.reposition()}});function gO(t){return()=>t.scrollStrategies.reposition()}var _O=new ie("MAT_SELECT_CONFIG"),vO={provide:e1,deps:[Ki],useFactory:gO},yO=new ie("MatSelectTrigger"),Jp=class{constructor(e,n){this.source=e,this.value=n}},t1=(()=>{let e=class e{_scrollOptionIntoView(i){let r=this.options.toArray()[i];if(r){let s=this.panel.nativeElement,o=Gv(i,this.options,this.optionGroups),l=r._getHostElement();i===0&&o===1?s.scrollTop=0:s.scrollTop=Hv(l.offsetTop,l.offsetHeight,s.scrollTop,s.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(i){return new Jp(this,i)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(i){this._hideSingleSelectionIndicator=i,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ws.required)??!1}set required(i){this._required=i,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(i){this._selectionModel,this._multiple=i}get compareWith(){return this._compareWith}set compareWith(i){this._compareWith=i,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(i){this._assignValue(i)&&this._onChange(i)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}get id(){return this._id}set id(i){this._id=i||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}constructor(i,r,s,o,l,c,u,f,m,g,w,M,O,A){this._viewportRuler=i,this._changeDetectorRef=r,this._elementRef=l,this._dir=c,this._parentFormField=m,this.ngControl=g,this._liveAnnouncer=O,this._defaultOptions=A,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(F,$)=>F===$,this._uid=`mat-select-${Xw++}`,this._triggerAriaLabelledBy=null,this._destroy=new xe,this.stateChanges=new xe,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${Xw++}`,this._panelDoneAnimatingStream=new xe,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new xe,this.optionSelectionChanges=oa(()=>{let F=this.options;return F?F.changes.pipe(Gn(F),Tt(()=>Mn(...F.map($=>$.onSelectionChange)))):this._initialized.pipe(Tt(()=>this.optionSelectionChanges))}),this.openedChange=new qe,this._openedStream=this.openedChange.pipe(at(F=>F),de(()=>{})),this._closedStream=this.openedChange.pipe(at(F=>!F),de(()=>{})),this.selectionChange=new qe,this.valueChange=new qe,this._trackedModal=null,this._skipPredicate=F=>this.panelOpen?!1:F.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),A?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=A.typeaheadDebounceInterval),this._errorStateTracker=new yc(o,g,f,u,this.stateChanges),this._scrollStrategyFactory=M,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(w)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Wv(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Mh(),Ve(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Ve(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Ve(this._destroy)).subscribe(i=>{i.added.forEach(r=>r.select()),i.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(Gn(null),Ve(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let i=this._getTriggerAriaLabelledby(),r=this.ngControl;if(i!==this._triggerAriaLabelledBy){let s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=i,i?s.setAttribute("aria-labelledby",i):s.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(this._previousControl!==void 0&&r.disabled!==null&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(i){(i.disabled||i.userAriaDescribedBy)&&this.stateChanges.next(),i.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let i=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!i)return;let r=`${this.id}-panel`;this._trackedModal&&Hh(this._trackedModal,"aria-owns",r),kv(i,"aria-owns",r),this._trackedModal=i}_clearFromModal(){if(!this._trackedModal)return;let i=`${this.id}-panel`;Hh(this._trackedModal,"aria-owns",i),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(i){this._assignValue(i)}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let i=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&i.reverse(),i.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(i){this.disabled||(this.panelOpen?this._handleOpenKeydown(i):this._handleClosedKeydown(i))}_handleClosedKeydown(i){let r=i.keyCode,s=r===40||r===38||r===37||r===39,o=r===13||r===32,l=this._keyManager;if(!l.isTyping()&&o&&!pa(i)||(this.multiple||i.altKey)&&s)i.preventDefault(),this.open();else if(!this.multiple){let c=this.selected;l.onKeydown(i);let u=this.selected;u&&c!==u&&this._liveAnnouncer.announce(u.viewValue,1e4)}}_handleOpenKeydown(i){let r=this._keyManager,s=i.keyCode,o=s===40||s===38,l=r.isTyping();if(o&&i.altKey)i.preventDefault(),this.close();else if(!l&&(s===13||s===32)&&r.activeItem&&!pa(i))i.preventDefault(),r.activeItem._selectViaInteraction();else if(!l&&this._multiple&&s===65&&i.ctrlKey){i.preventDefault();let c=this.options.some(u=>!u.disabled&&!u.selected);this.options.forEach(u=>{u.disabled||(c?u.select():u.deselect())})}else{let c=r.activeItemIndex;r.onKeydown(i),this._multiple&&o&&i.shiftKey&&r.activeItem&&r.activeItemIndex!==c&&r.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(ht(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(i){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&i)Array.isArray(i),i.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{let r=this._selectOptionByValue(i);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(i){let r=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return s.value!=null&&this._compareWith(s.value,i)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(i){return i!==this._value||this._multiple&&Array.isArray(i)?(this.options&&this._setSelectionByValue(i),this._value=i,!0):!1}_getOverlayWidth(i){return this.panelWidth==="auto"?(i instanceof Kh?i.elementRef:i||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let i of this.options)i._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Nv(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let i=Mn(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ve(i)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Mn(...this.options.map(r=>r._stateChanges)).pipe(Ve(i)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(i,r){let s=this._selectionModel.isSelected(i);i.value==null&&!this._multiple?(i.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(i.value)):(s!==i.selected&&(i.selected?this._selectionModel.select(i):this._selectionModel.deselect(i)),r&&this._keyManager.setActiveItem(i),this.multiple&&(this._sortValues(),r&&this.focus())),s!==this._selectionModel.isSelected(i)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let i=this.options.toArray();this._selectionModel.sort((r,s)=>this.sortComparator?this.sortComparator(r,s,i):i.indexOf(r)-i.indexOf(s)),this.stateChanges.next()}}_propagateChanges(i){let r;this.multiple?r=this.selected.map(s=>s.value):r=this.selected?this.selected.value:i,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let i=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){i=r;break}this._keyManager.setActiveItem(i)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(i){this._elementRef.nativeElement.focus(i)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let i=this._parentFormField?.getLabelId(),r=i?i+" ":"";return this.ariaLabelledby?r+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let i=this._parentFormField?.getLabelId(),r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(i){this.openedChange.emit(i)}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}};e.\u0275fac=function(r){return new(r||e)(P(qv),P(At),P(ge),P(bc),P(Le),P(Fs,8),P(Na,8),P(Fa,8),P(La,8),P(vi,10),da("tabindex"),P(e1),P(Uv),P(_O,8))},e.\u0275cmp=ce({type:e,selectors:[["mat-select"]],contentQueries:function(r,s,o){if(r&1&&(Ke(o,yO,5),Ke(o,wc,5),Ke(o,zv,5)),r&2){let l;be(l=we())&&(s.customTrigger=l.first),be(l=we())&&(s.options=l),be(l=we())&&(s.optionGroups=l)}},viewQuery:function(r,s){if(r&1&&(Wt(oO,5),Wt(aO,5),Wt(Qh,5)),r&2){let o;be(o=we())&&(s.trigger=o.first),be(o=we())&&(s.panel=o.first),be(o=we())&&(s._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,s){r&1&&G("keydown",function(l){return s._handleKeydown(l)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),r&2&&(Xe("id",s.id)("tabindex",s.disabled?-1:s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-activedescendant",s._getAriaActiveDescendant()),Ue("mat-mdc-select-disabled",s.disabled)("mat-mdc-select-invalid",s.errorState)("mat-mdc-select-required",s.required)("mat-mdc-select-empty",s.empty)("mat-mdc-select-multiple",s.multiple))},inputs:{userAriaDescribedBy:[ae.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[ae.HasDecoratorInputTransform,"disabled","disabled",Ut],disableRipple:[ae.HasDecoratorInputTransform,"disableRipple","disableRipple",Ut],tabIndex:[ae.HasDecoratorInputTransform,"tabIndex","tabIndex",i=>i==null?0:Bh(i)],hideSingleSelectionIndicator:[ae.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Ut],placeholder:"placeholder",required:[ae.HasDecoratorInputTransform,"required","required",Ut],multiple:[ae.HasDecoratorInputTransform,"multiple","multiple",Ut],disableOptionCentering:[ae.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",Ut],compareWith:"compareWith",value:"value",ariaLabel:[ae.None,"aria-label","ariaLabel"],ariaLabelledby:[ae.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[ae.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",Bh],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[Lt([{provide:Va,useExisting:e},{provide:$v,useExisting:e}]),Dr,gn,ue],ngContentSelectors:cO,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(r,s){if(r&1){let o=tt();gi(lO),x(0,"div",2,0),G("click",function(){return re(o),se(s.open())}),x(3,"div",3),me(4,uO,2,1,"span",4)(5,fO,3,1),R(),x(6,"div",5)(7,"div",6),sc(),x(8,"svg",7),De(9,"path",8),R()()()(),me(10,pO,3,9,"ng-template",9),G("backdropClick",function(){return re(o),se(s.close())})("attach",function(){return re(o),se(s._onAttached())})("detach",function(){return re(o),se(s.close())})}if(r&2){let o=qn(1);V(3),Xe("id",s._valueId),V(),et(4,s.empty?4:5),V(6),J("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",s._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayWidth",s._overlayWidth)}},dependencies:[Kh,Qh,Ps],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[mO.transformPanel]},changeDetection:0});let t=e;return t})();var n1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=St({type:e}),e.\u0275inj=Ct({providers:[vO],imports:[ft,Cc,qh,vn,Tc,yi,qh,vn]});let t=e;return t})();var i1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r1={};var dr,Xp;(function(){var t;function e(I,_){function y(){}y.prototype=_.prototype,I.D=_.prototype,I.prototype=new y,I.prototype.constructor=I,I.C=function(E,T,S){for(var b=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)b[bt-2]=arguments[bt];return _.prototype[T].apply(E,b)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,_,y){y||(y=0);var E=Array(16);if(typeof _=="string")for(var T=0;16>T;++T)E[T]=_.charCodeAt(y++)|_.charCodeAt(y++)<<8|_.charCodeAt(y++)<<16|_.charCodeAt(y++)<<24;else for(T=0;16>T;++T)E[T]=_[y++]|_[y++]<<8|_[y++]<<16|_[y++]<<24;_=I.g[0],y=I.g[1],T=I.g[2];var S=I.g[3],b=_+(S^y&(T^S))+E[0]+3614090360&4294967295;_=y+(b<<7&4294967295|b>>>25),b=S+(T^_&(y^T))+E[1]+3905402710&4294967295,S=_+(b<<12&4294967295|b>>>20),b=T+(y^S&(_^y))+E[2]+606105819&4294967295,T=S+(b<<17&4294967295|b>>>15),b=y+(_^T&(S^_))+E[3]+3250441966&4294967295,y=T+(b<<22&4294967295|b>>>10),b=_+(S^y&(T^S))+E[4]+4118548399&4294967295,_=y+(b<<7&4294967295|b>>>25),b=S+(T^_&(y^T))+E[5]+1200080426&4294967295,S=_+(b<<12&4294967295|b>>>20),b=T+(y^S&(_^y))+E[6]+2821735955&4294967295,T=S+(b<<17&4294967295|b>>>15),b=y+(_^T&(S^_))+E[7]+4249261313&4294967295,y=T+(b<<22&4294967295|b>>>10),b=_+(S^y&(T^S))+E[8]+1770035416&4294967295,_=y+(b<<7&4294967295|b>>>25),b=S+(T^_&(y^T))+E[9]+2336552879&4294967295,S=_+(b<<12&4294967295|b>>>20),b=T+(y^S&(_^y))+E[10]+4294925233&4294967295,T=S+(b<<17&4294967295|b>>>15),b=y+(_^T&(S^_))+E[11]+2304563134&4294967295,y=T+(b<<22&4294967295|b>>>10),b=_+(S^y&(T^S))+E[12]+1804603682&4294967295,_=y+(b<<7&4294967295|b>>>25),b=S+(T^_&(y^T))+E[13]+4254626195&4294967295,S=_+(b<<12&4294967295|b>>>20),b=T+(y^S&(_^y))+E[14]+2792965006&4294967295,T=S+(b<<17&4294967295|b>>>15),b=y+(_^T&(S^_))+E[15]+1236535329&4294967295,y=T+(b<<22&4294967295|b>>>10),b=_+(T^S&(y^T))+E[1]+4129170786&4294967295,_=y+(b<<5&4294967295|b>>>27),b=S+(y^T&(_^y))+E[6]+3225465664&4294967295,S=_+(b<<9&4294967295|b>>>23),b=T+(_^y&(S^_))+E[11]+643717713&4294967295,T=S+(b<<14&4294967295|b>>>18),b=y+(S^_&(T^S))+E[0]+3921069994&4294967295,y=T+(b<<20&4294967295|b>>>12),b=_+(T^S&(y^T))+E[5]+3593408605&4294967295,_=y+(b<<5&4294967295|b>>>27),b=S+(y^T&(_^y))+E[10]+38016083&4294967295,S=_+(b<<9&4294967295|b>>>23),b=T+(_^y&(S^_))+E[15]+3634488961&4294967295,T=S+(b<<14&4294967295|b>>>18),b=y+(S^_&(T^S))+E[4]+3889429448&4294967295,y=T+(b<<20&4294967295|b>>>12),b=_+(T^S&(y^T))+E[9]+568446438&4294967295,_=y+(b<<5&4294967295|b>>>27),b=S+(y^T&(_^y))+E[14]+3275163606&4294967295,S=_+(b<<9&4294967295|b>>>23),b=T+(_^y&(S^_))+E[3]+4107603335&4294967295,T=S+(b<<14&4294967295|b>>>18),b=y+(S^_&(T^S))+E[8]+1163531501&4294967295,y=T+(b<<20&4294967295|b>>>12),b=_+(T^S&(y^T))+E[13]+2850285829&4294967295,_=y+(b<<5&4294967295|b>>>27),b=S+(y^T&(_^y))+E[2]+4243563512&4294967295,S=_+(b<<9&4294967295|b>>>23),b=T+(_^y&(S^_))+E[7]+1735328473&4294967295,T=S+(b<<14&4294967295|b>>>18),b=y+(S^_&(T^S))+E[12]+2368359562&4294967295,y=T+(b<<20&4294967295|b>>>12),b=_+(y^T^S)+E[5]+4294588738&4294967295,_=y+(b<<4&4294967295|b>>>28),b=S+(_^y^T)+E[8]+2272392833&4294967295,S=_+(b<<11&4294967295|b>>>21),b=T+(S^_^y)+E[11]+1839030562&4294967295,T=S+(b<<16&4294967295|b>>>16),b=y+(T^S^_)+E[14]+4259657740&4294967295,y=T+(b<<23&4294967295|b>>>9),b=_+(y^T^S)+E[1]+2763975236&4294967295,_=y+(b<<4&4294967295|b>>>28),b=S+(_^y^T)+E[4]+1272893353&4294967295,S=_+(b<<11&4294967295|b>>>21),b=T+(S^_^y)+E[7]+4139469664&4294967295,T=S+(b<<16&4294967295|b>>>16),b=y+(T^S^_)+E[10]+3200236656&4294967295,y=T+(b<<23&4294967295|b>>>9),b=_+(y^T^S)+E[13]+681279174&4294967295,_=y+(b<<4&4294967295|b>>>28),b=S+(_^y^T)+E[0]+3936430074&4294967295,S=_+(b<<11&4294967295|b>>>21),b=T+(S^_^y)+E[3]+3572445317&4294967295,T=S+(b<<16&4294967295|b>>>16),b=y+(T^S^_)+E[6]+76029189&4294967295,y=T+(b<<23&4294967295|b>>>9),b=_+(y^T^S)+E[9]+3654602809&4294967295,_=y+(b<<4&4294967295|b>>>28),b=S+(_^y^T)+E[12]+3873151461&4294967295,S=_+(b<<11&4294967295|b>>>21),b=T+(S^_^y)+E[15]+530742520&4294967295,T=S+(b<<16&4294967295|b>>>16),b=y+(T^S^_)+E[2]+3299628645&4294967295,y=T+(b<<23&4294967295|b>>>9),b=_+(T^(y|~S))+E[0]+4096336452&4294967295,_=y+(b<<6&4294967295|b>>>26),b=S+(y^(_|~T))+E[7]+1126891415&4294967295,S=_+(b<<10&4294967295|b>>>22),b=T+(_^(S|~y))+E[14]+2878612391&4294967295,T=S+(b<<15&4294967295|b>>>17),b=y+(S^(T|~_))+E[5]+4237533241&4294967295,y=T+(b<<21&4294967295|b>>>11),b=_+(T^(y|~S))+E[12]+1700485571&4294967295,_=y+(b<<6&4294967295|b>>>26),b=S+(y^(_|~T))+E[3]+2399980690&4294967295,S=_+(b<<10&4294967295|b>>>22),b=T+(_^(S|~y))+E[10]+4293915773&4294967295,T=S+(b<<15&4294967295|b>>>17),b=y+(S^(T|~_))+E[1]+2240044497&4294967295,y=T+(b<<21&4294967295|b>>>11),b=_+(T^(y|~S))+E[8]+1873313359&4294967295,_=y+(b<<6&4294967295|b>>>26),b=S+(y^(_|~T))+E[15]+4264355552&4294967295,S=_+(b<<10&4294967295|b>>>22),b=T+(_^(S|~y))+E[6]+2734768916&4294967295,T=S+(b<<15&4294967295|b>>>17),b=y+(S^(T|~_))+E[13]+1309151649&4294967295,y=T+(b<<21&4294967295|b>>>11),b=_+(T^(y|~S))+E[4]+4149444226&4294967295,_=y+(b<<6&4294967295|b>>>26),b=S+(y^(_|~T))+E[11]+3174756917&4294967295,S=_+(b<<10&4294967295|b>>>22),b=T+(_^(S|~y))+E[2]+718787259&4294967295,T=S+(b<<15&4294967295|b>>>17),b=y+(S^(T|~_))+E[9]+3951481745&4294967295,I.g[0]=I.g[0]+_&4294967295,I.g[1]=I.g[1]+(T+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+T&4294967295,I.g[3]=I.g[3]+S&4294967295}i.prototype.u=function(I,_){_===void 0&&(_=I.length);for(var y=_-this.blockSize,E=this.B,T=this.h,S=0;S<_;){if(T==0)for(;S<=y;)r(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<_;)if(E[T++]=I.charCodeAt(S++),T==this.blockSize){r(this,E),T=0;break}}else for(;S<_;)if(E[T++]=I[S++],T==this.blockSize){r(this,E),T=0;break}}this.h=T,this.o+=_},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var _=1;_<I.length-8;++_)I[_]=0;var y=8*this.o;for(_=I.length-8;_<I.length;++_)I[_]=y&255,y/=256;for(this.u(I),I=Array(16),_=y=0;4>_;++_)for(var E=0;32>E;E+=8)I[y++]=this.g[_]>>>E&255;return I};function s(I,_){var y=l;return Object.prototype.hasOwnProperty.call(y,I)?y[I]:y[I]=_(I)}function o(I,_){this.h=_;for(var y=[],E=!0,T=I.length-1;0<=T;T--){var S=I[T]|0;E&&S==_||(y[T]=S,E=!1)}this.g=y}var l={};function c(I){return-128<=I&&128>I?s(I,function(_){return new o([_|0],0>_?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return A(u(-I));for(var _=[],y=1,E=0;I>=y;E++)_[E]=I/y|0,y*=4294967296;return new o(_,0)}function f(I,_){if(I.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(I.charAt(0)=="-")return A(f(I.substring(1),_));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=u(Math.pow(_,8)),E=m,T=0;T<I.length;T+=8){var S=Math.min(8,I.length-T),b=parseInt(I.substring(T,T+S),_);8>S?(S=u(Math.pow(_,S)),E=E.j(S).add(u(b))):(E=E.j(y),E=E.add(u(b)))}return E}var m=c(0),g=c(1),w=c(16777216);t=o.prototype,t.m=function(){if(O(this))return-A(this).m();for(var I=0,_=1,y=0;y<this.g.length;y++){var E=this.i(y);I+=(0<=E?E:4294967296+E)*_,_*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(O(this))return"-"+A(this).toString(I);for(var _=u(Math.pow(I,6)),y=this,E="";;){var T=B(y,_).g;y=F(y,T.j(_));var S=((0<y.g.length?y.g[0]:y.h)>>>0).toString(I);if(y=T,M(y))return S+E;for(;6>S.length;)S="0"+S;E=S+E}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(var _=0;_<I.g.length;_++)if(I.g[_]!=0)return!1;return!0}function O(I){return I.h==-1}t.l=function(I){return I=F(this,I),O(I)?-1:M(I)?0:1};function A(I){for(var _=I.g.length,y=[],E=0;E<_;E++)y[E]=~I.g[E];return new o(y,~I.h).add(g)}t.abs=function(){return O(this)?A(this):this},t.add=function(I){for(var _=Math.max(this.g.length,I.g.length),y=[],E=0,T=0;T<=_;T++){var S=E+(this.i(T)&65535)+(I.i(T)&65535),b=(S>>>16)+(this.i(T)>>>16)+(I.i(T)>>>16);E=b>>>16,S&=65535,b&=65535,y[T]=b<<16|S}return new o(y,y[y.length-1]&-2147483648?-1:0)};function F(I,_){return I.add(A(_))}t.j=function(I){if(M(this)||M(I))return m;if(O(this))return O(I)?A(this).j(A(I)):A(A(this).j(I));if(O(I))return A(this.j(A(I)));if(0>this.l(w)&&0>I.l(w))return u(this.m()*I.m());for(var _=this.g.length+I.g.length,y=[],E=0;E<2*_;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<I.g.length;T++){var S=this.i(E)>>>16,b=this.i(E)&65535,bt=I.i(T)>>>16,rn=I.i(T)&65535;y[2*E+2*T]+=b*rn,$(y,2*E+2*T),y[2*E+2*T+1]+=S*rn,$(y,2*E+2*T+1),y[2*E+2*T+1]+=b*bt,$(y,2*E+2*T+1),y[2*E+2*T+2]+=S*bt,$(y,2*E+2*T+2)}for(E=0;E<_;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=_;E<2*_;E++)y[E]=0;return new o(y,0)};function $(I,_){for(;(I[_]&65535)!=I[_];)I[_+1]+=I[_]>>>16,I[_]&=65535,_++}function z(I,_){this.g=I,this.h=_}function B(I,_){if(M(_))throw Error("division by zero");if(M(I))return new z(m,m);if(O(I))return _=B(A(I),_),new z(A(_.g),A(_.h));if(O(_))return _=B(I,A(_)),new z(A(_.g),_.h);if(30<I.g.length){if(O(I)||O(_))throw Error("slowDivide_ only works with positive integers.");for(var y=g,E=_;0>=E.l(I);)y=Y(y),E=Y(E);var T=W(y,1),S=W(E,1);for(E=W(E,2),y=W(y,2);!M(E);){var b=S.add(E);0>=b.l(I)&&(T=T.add(y),S=b),E=W(E,1),y=W(y,1)}return _=F(I,T.j(_)),new z(T,_)}for(T=m;0<=I.l(_);){for(y=Math.max(1,Math.floor(I.m()/_.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),S=u(y),b=S.j(_);O(b)||0<b.l(I);)y-=E,S=u(y),b=S.j(_);M(S)&&(S=g),T=T.add(S),I=F(I,b)}return new z(T,I)}t.A=function(I){return B(this,I).h},t.and=function(I){for(var _=Math.max(this.g.length,I.g.length),y=[],E=0;E<_;E++)y[E]=this.i(E)&I.i(E);return new o(y,this.h&I.h)},t.or=function(I){for(var _=Math.max(this.g.length,I.g.length),y=[],E=0;E<_;E++)y[E]=this.i(E)|I.i(E);return new o(y,this.h|I.h)},t.xor=function(I){for(var _=Math.max(this.g.length,I.g.length),y=[],E=0;E<_;E++)y[E]=this.i(E)^I.i(E);return new o(y,this.h^I.h)};function Y(I){for(var _=I.g.length+1,y=[],E=0;E<_;E++)y[E]=I.i(E)<<1|I.i(E-1)>>>31;return new o(y,I.h)}function W(I,_){var y=_>>5;_%=32;for(var E=I.g.length-y,T=[],S=0;S<E;S++)T[S]=0<_?I.i(S+y)>>>_|I.i(S+y+1)<<32-_:I.i(S+y);return new o(T,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Xp=r1.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,dr=r1.Integer=o}).apply(typeof i1<"u"?i1:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Si={};var em,tm,to,nm,tl,Zu,im,rm,sm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var i=n(this);function r(a,d){if(d)e:{var h=i;a=a.split(".");for(var p=0;p<a.length-1;p++){var C=a[p];if(!(C in h))break e;h=h[C]}a=a[a.length-1],p=h[a],d=d(p),d!=p&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,p=!1,C={next:function(){if(!p&&h<a.length){var D=h++;return{value:d(D,a[D]),done:!1}}return p=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}r("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},l=this||self;function c(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function u(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function m(a,d,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,p),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function g(a,d,h){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function w(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function M(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,C,D){for(var U=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)U[Se-2]=arguments[Se];return d.prototype[C].apply(p,U)}}function O(a){let d=a.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=a[p];return h}return[]}function A(a,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(c(p)){let C=a.length||0,D=p.length||0;a.length=C+D;for(let U=0;U<D;U++)a[C+U]=p[U]}else a.push(p)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(a){return/^[\s\xa0]*$/.test(a)}function z(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function B(a){return B[" "](a),a}B[" "]=function(){};var Y=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function W(a,d,h){for(let p in a)d.call(h,a[p],p,a)}function I(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function _(a){let d={};for(let h in a)d[h]=a[h];return d}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,p;for(let C=1;C<arguments.length;C++){p=arguments[C];for(h in p)a[h]=p[h];for(let D=0;D<y.length;D++)h=y[D],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function T(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function S(a){l.setTimeout(()=>{throw a},0)}function b(){var a=An;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class bt{constructor(){this.h=this.g=null}add(d,h){let p=rn.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var rn=new F(()=>new Gt,a=>a.reset());class Gt{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,jn=!1,An=new bt,wr=()=>{let a=l.Promise.resolve(void 0);wt=()=>{a.then(Vo)}};var Vo=()=>{for(var a;a=b();){try{a.h.call(a.g)}catch(h){S(h)}var d=rn;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}jn=!1};function Qt(){this.s=this.s,this.C=this.C}Qt.prototype.s=!1,Qt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Qt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function He(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}He.prototype.h=function(){this.defaultPrevented=!0};var Ni=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};l.addEventListener("test",h,d),l.removeEventListener("test",h,d)}catch{}return a}();function Yt(a,d){if(He.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Y){e:{try{B(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Er[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Yt.aa.h.call(this)}}M(Yt,He);var Er={2:"touch",3:"pen",4:"mouse"};Yt.prototype.h=function(){Yt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var $n="closure_listenable_"+(1e6*Math.random()|0),fi=0;function Lo(a,d,h,p,C){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=C,this.key=++fi,this.da=this.fa=!1}function Es(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Fi(a){this.src=a,this.g={},this.h=0}Fi.prototype.add=function(a,d,h,p,C){var D=a.toString();a=this.g[D],a||(a=this.g[D]=[],this.h++);var U=Is(a,d,p,C);return-1<U?(d=a[U],h||(d.fa=!1)):(d=new Lo(d,this.src,D,!!p,C),d.fa=h,a.push(d)),d};function Uo(a,d){var h=d.type;if(h in a.g){var p=a.g[h],C=Array.prototype.indexOf.call(p,d,void 0),D;(D=0<=C)&&Array.prototype.splice.call(p,C,1),D&&(Es(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Is(a,d,h,p){for(var C=0;C<a.length;++C){var D=a[C];if(!D.da&&D.listener==d&&D.capture==!!h&&D.ha==p)return C}return-1}var Bo="closure_lm_"+(1e6*Math.random()|0),jo={};function $o(a,d,h,p,C){if(p&&p.once)return jl(a,d,h,p,C);if(Array.isArray(d)){for(var D=0;D<d.length;D++)$o(a,d[D],h,p,C);return null}return h=Cs(h),a&&a[$n]?a.K(d,h,u(p)?!!p.capture:!!p,C):zo(a,d,h,!1,p,C)}function zo(a,d,h,p,C,D){if(!d)throw Error("Invalid event type");var U=u(C)?!!C.capture:!!C,Se=Ir(a);if(Se||(a[Bo]=Se=new Fi(a)),h=Se.add(d,h,p,U,D),h.proxy)return h;if(p=ah(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)Ni||(C=U),C===void 0&&(C=!1),a.addEventListener(d.toString(),p,C);else if(a.attachEvent)a.attachEvent(Go(d.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function ah(){function a(h){return d.call(a.src,a.listener,h)}let d=$l;return a}function jl(a,d,h,p,C){if(Array.isArray(d)){for(var D=0;D<d.length;D++)jl(a,d[D],h,p,C);return null}return h=Cs(h),a&&a[$n]?a.L(d,h,u(p)?!!p.capture:!!p,C):zo(a,d,h,!0,p,C)}function zn(a,d,h,p,C){if(Array.isArray(d))for(var D=0;D<d.length;D++)zn(a,d[D],h,p,C);else p=u(p)?!!p.capture:!!p,h=Cs(h),a&&a[$n]?(a=a.i,d=String(d).toString(),d in a.g&&(D=a.g[d],h=Is(D,h,p,C),-1<h&&(Es(D[h]),Array.prototype.splice.call(D,h,1),D.length==0&&(delete a.g[d],a.h--)))):a&&(a=Ir(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Is(d,h,p,C)),(h=-1<a?d[a]:null)&&Vi(h))}function Vi(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[$n])Uo(d.i,a);else{var h=a.type,p=a.proxy;d.removeEventListener?d.removeEventListener(h,p,a.capture):d.detachEvent?d.detachEvent(Go(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=Ir(d))?(Uo(h,a),h.h==0&&(h.src=null,d[Bo]=null)):Es(a)}}}function Go(a){return a in jo?jo[a]:jo[a]="on"+a}function $l(a,d){if(a.da)a=!0;else{d=new Yt(d,this);var h=a.listener,p=a.ha||a.src;a.fa&&Vi(a),a=h.call(p,d)}return a}function Ir(a){return a=a[Bo],a instanceof Fi?a:null}var Ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cs(a){return typeof a=="function"?a:(a[Ts]||(a[Ts]=function(d){return a.handleEvent(d)}),a[Ts])}function ot(){Qt.call(this),this.i=new Fi(this),this.M=this,this.F=null}M(ot,Qt),ot.prototype[$n]=!0,ot.prototype.removeEventListener=function(a,d,h,p){zn(this,a,d,h,p)};function dt(a,d){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=d.type||d,typeof d=="string")d=new He(d,a);else if(d instanceof He)d.target=d.target||a;else{var C=d;d=new He(p,a),E(d,C)}if(C=!0,h)for(var D=h.length-1;0<=D;D--){var U=d.g=h[D];C=zl(U,p,!0,d)&&C}if(U=d.g=a,C=zl(U,p,!0,d)&&C,C=zl(U,p,!1,d)&&C,h)for(D=0;D<h.length;D++)U=d.g=h[D],C=zl(U,p,!1,d)&&C}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],p=0;p<h.length;p++)Es(h[p]);delete a.g[d],a.h--}}this.F=null},ot.prototype.K=function(a,d,h,p){return this.i.add(String(a),d,!1,h,p)},ot.prototype.L=function(a,d,h,p){return this.i.add(String(a),d,!0,h,p)};function zl(a,d,h,p){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,D=0;D<d.length;++D){var U=d[D];if(U&&!U.da&&U.capture==h){var Se=U.listener,Et=U.ha||U.src;U.fa&&Uo(a.i,U),C=Se.call(Et,p)!==!1&&C}}return C&&!p.defaultPrevented}function c0(a,d,h){if(typeof a=="function")h&&(a=g(a,h));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function u0(a){a.g=c0(()=>{a.g=null,a.i&&(a.i=!1,u0(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class ET extends Qt{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:u0(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ho(a){Qt.call(this),this.h=a,this.g={}}M(Ho,Qt);var d0=[];function h0(a){W(a.g,function(d,h){this.g.hasOwnProperty(h)&&Vi(d)},a),a.g={}}Ho.prototype.N=function(){Ho.aa.N.call(this),h0(this)},Ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lh=l.JSON.stringify,IT=l.JSON.parse,TT=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function ch(){}ch.prototype.h=null;function f0(a){return a.h||(a.h=a.i())}function p0(){}var Wo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function uh(){He.call(this,"d")}M(uh,He);function dh(){He.call(this,"c")}M(dh,He);var Tr={},m0=null;function Gl(){return m0=m0||new ot}Tr.La="serverreachability";function g0(a){He.call(this,Tr.La,a)}M(g0,He);function qo(a){let d=Gl();dt(d,new g0(d))}Tr.STAT_EVENT="statevent";function _0(a,d){He.call(this,Tr.STAT_EVENT,a),this.stat=d}M(_0,He);function Ht(a){let d=Gl();dt(d,new _0(d,a))}Tr.Ma="timingevent";function v0(a,d){He.call(this,Tr.Ma,a),this.size=d}M(v0,He);function Ko(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function Qo(){this.g=!0}Qo.prototype.xa=function(){this.g=!1};function CT(a,d,h,p,C,D){a.info(function(){if(a.g)if(D)for(var U="",Se=D.split("&"),Et=0;Et<Se.length;Et++){var ve=Se[Et].split("=");if(1<ve.length){var Ft=ve[0];ve=ve[1];var Vt=Ft.split("_");U=2<=Vt.length&&Vt[1]=="type"?U+(Ft+"="+ve+"&"):U+(Ft+"=redacted&")}}else U=null;else U=D;return"XMLHTTP REQ ("+p+") [attempt "+C+"]: "+d+`
`+h+`
`+U})}function ST(a,d,h,p,C,D,U){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+C+"]: "+d+`
`+h+`
`+D+" "+U})}function Ss(a,d,h,p){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+AT(a,h)+(p?" "+p:"")})}function xT(a,d){a.info(function(){return"TIMEOUT: "+d})}Qo.prototype.info=function(){};function AT(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var C=p[1];if(Array.isArray(C)&&!(1>C.length)){var D=C[0];if(D!="noop"&&D!="stop"&&D!="close")for(var U=1;U<C.length;U++)C[U]=""}}}}return lh(h)}catch{return d}}var Hl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},y0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hh;function Wl(){}M(Wl,ch),Wl.prototype.g=function(){return new XMLHttpRequest},Wl.prototype.i=function(){return{}},hh=new Wl;function Li(a,d,h,p){this.j=a,this.i=d,this.l=h,this.R=p||1,this.U=new Ho(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new b0}function b0(){this.i=null,this.g="",this.h=!1}var w0={},fh={};function ph(a,d,h){a.L=1,a.v=Yl(pi(d)),a.m=h,a.P=!0,E0(a,null)}function E0(a,d){a.F=Date.now(),ql(a),a.A=pi(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),F0(h.i,"t",p),a.C=0,h=a.j.J,a.h=new b0,a.g=ev(a.j,h?d:null,!a.m),0<a.O&&(a.M=new ET(g(a.Y,a,a.g),a.O)),d=a.U,h=a.g,p=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(d0[0]=C.toString()),C=d0);for(var D=0;D<C.length;D++){var U=$o(h,C[D],p||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),qo(),CT(a.i,a.u,a.A,a.l,a.R,a.m)}Li.prototype.ca=function(a){a=a.target;let d=this.M;d&&mi(a)==3?d.j():this.Y(a)},Li.prototype.Y=function(a){try{if(a==this.g)e:{let Vt=mi(this.g);var d=this.g.Ba();let Rs=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||z0(this.g)))){this.J||Vt!=4||d==7||(d==8||0>=Rs?qo(3):qo(2)),mh(this);var h=this.g.Z();this.X=h;t:if(I0(this)){var p=z0(this.g);a="";var C=p.length,D=mi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cr(this),Yo(this);var U="";break t}this.h.i=new l.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(p[d],{stream:!(D&&d==C-1)});p.length=0,this.h.g+=a,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=h==200,ST(this.i,this.u,this.A,this.l,this.R,Vt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,Et=this.g;if((Se=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Se)){var ve=Se;break t}}ve=null}if(h=ve)Ss(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gh(this,h);else{this.o=!1,this.s=3,Ht(12),Cr(this),Yo(this);break e}}if(this.P){h=!0;let Rn;for(;!this.J&&this.C<U.length;)if(Rn=RT(this,U),Rn==fh){Vt==4&&(this.s=4,Ht(14),h=!1),Ss(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==w0){this.s=4,Ht(15),Ss(this.i,this.l,U,"[Invalid Chunk]"),h=!1;break}else Ss(this.i,this.l,Rn,null),gh(this,Rn);if(I0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||U.length!=0||this.h.h||(this.s=1,Ht(16),h=!1),this.o=this.o&&h,!h)Ss(this.i,this.l,U,"[Invalid Chunked Response]"),Cr(this),Yo(this);else if(0<U.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),Eh(Ft),Ft.M=!0,Ht(11))}}else Ss(this.i,this.l,U,null),gh(this,U);Vt==4&&Cr(this),this.o&&!this.J&&(Vt==4?Y0(this.j,this):(this.o=!1,ql(this)))}else WT(this.g),h==400&&0<U.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),Cr(this),Yo(this)}}}catch{}finally{}};function I0(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function RT(a,d){var h=a.C,p=d.indexOf(`
`,h);return p==-1?fh:(h=Number(d.substring(h,p)),isNaN(h)?w0:(p+=1,p+h>d.length?fh:(d=d.slice(p,p+h),a.C=p+h,d)))}Li.prototype.cancel=function(){this.J=!0,Cr(this)};function ql(a){a.S=Date.now()+a.I,T0(a,a.I)}function T0(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ko(g(a.ba,a),d)}function mh(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Li.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(xT(this.i,this.A),this.L!=2&&(qo(),Ht(17)),Cr(this),this.s=2,Yo(this)):T0(this,this.S-a)};function Yo(a){a.j.G==0||a.J||Y0(a.j,a)}function Cr(a){mh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,h0(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function gh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||_h(h.h,a))){if(!a.K&&_h(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var C=p;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)tc(h),Xl(h);else break e;wh(h),Ht(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=Ko(g(h.Za,h),6e3));if(1>=x0(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else xr(h,11)}else if((a.K||h.g==a)&&tc(h),!$(d))for(C=h.Da.g.parse(d),d=0;d<C.length;d++){let ve=C[d];if(h.T=ve[0],ve=ve[1],h.G==2)if(ve[0]=="c"){h.K=ve[1],h.ia=ve[2];let Ft=ve[3];Ft!=null&&(h.la=Ft,h.j.info("VER="+h.la));let Vt=ve[4];Vt!=null&&(h.Aa=Vt,h.j.info("SVER="+h.Aa));let Rs=ve[5];Rs!=null&&typeof Rs=="number"&&0<Rs&&(p=1.5*Rs,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let Rn=a.g;if(Rn){let ic=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ic){var D=p.h;D.g||ic.indexOf("spdy")==-1&&ic.indexOf("quic")==-1&&ic.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(vh(D,D.h),D.h=null))}if(p.D){let Ih=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ih&&(p.ya=Ih,Re(p.I,p.D,Ih))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var U=a;if(p.qa=X0(p,p.J?p.ia:null,p.W),U.K){A0(p.h,U);var Se=U,Et=p.L;Et&&(Se.I=Et),Se.B&&(mh(Se),ql(Se)),p.g=U}else K0(p);0<h.i.length&&ec(h)}else ve[0]!="stop"&&ve[0]!="close"||xr(h,7);else h.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?xr(h,7):bh(h):ve[0]!="noop"&&h.l&&h.l.ta(ve),h.v=0)}}qo(4)}catch{}}var DT=class{constructor(a,d){this.g=a,this.map=d}};function C0(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function S0(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function x0(a){return a.h?1:a.g?a.g.size:0}function _h(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function vh(a,d){a.g?a.g.add(d):a.h=d}function A0(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}C0.prototype.cancel=function(){if(this.i=R0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function R0(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return O(a.i)}function MT(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var d=[],h=a.length,p=0;p<h;p++)d.push(a[p]);return d}d=[],h=0;for(p in a)d[h++]=a[p];return d}function OT(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let p in a)d[h++]=p;return d}}}function D0(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=OT(a),p=MT(a),C=p.length,D=0;D<C;D++)d.call(void 0,p[D],h&&h[D],a)}var M0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PT(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),C=null;if(0<=p){var D=a[h].substring(0,p);C=a[h].substring(p+1)}else D=a[h];d(D,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Sr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Sr){this.h=a.h,Kl(this,a.j),this.o=a.o,this.g=a.g,Ql(this,a.s),this.l=a.l;var d=a.i,h=new Xo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),O0(this,h),this.m=a.m}else a&&(d=String(a).match(M0))?(this.h=!1,Kl(this,d[1]||"",!0),this.o=Zo(d[2]||""),this.g=Zo(d[3]||"",!0),Ql(this,d[4]),this.l=Zo(d[5]||"",!0),O0(this,d[6]||"",!0),this.m=Zo(d[7]||"")):(this.h=!1,this.i=new Xo(null,this.h))}Sr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Jo(d,P0,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Jo(d,P0,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Jo(h,h.charAt(0)=="/"?FT:NT,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Jo(h,LT)),a.join("")};function pi(a){return new Sr(a)}function Kl(a,d,h){a.j=h?Zo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Ql(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function O0(a,d,h){d instanceof Xo?(a.i=d,UT(a.i,a.h)):(h||(d=Jo(d,VT)),a.i=new Xo(d,a.h))}function Re(a,d,h){a.i.set(d,h)}function Yl(a){return Re(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Zo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Jo(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,kT),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function kT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var P0=/[#\/\?@]/g,NT=/[#\?:]/g,FT=/[#\?]/g,VT=/[#\?@]/g,LT=/#/g;function Xo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Ui(a){a.g||(a.g=new Map,a.h=0,a.i&&PT(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Xo.prototype,t.add=function(a,d){Ui(this),this.i=null,a=xs(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function k0(a,d){Ui(a),d=xs(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function N0(a,d){return Ui(a),d=xs(a,d),a.g.has(d)}t.forEach=function(a,d){Ui(this),this.g.forEach(function(h,p){h.forEach(function(C){a.call(d,C,p,this)},this)},this)},t.na=function(){Ui(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let C=a[p];for(let D=0;D<C.length;D++)h.push(d[p])}return h},t.V=function(a){Ui(this);let d=[];if(typeof a=="string")N0(this,a)&&(d=d.concat(this.g.get(xs(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Ui(this),this.i=null,a=xs(this,a),N0(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function F0(a,d,h){k0(a,d),0<h.length&&(a.i=null,a.g.set(xs(a,d),O(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let D=encodeURIComponent(String(p)),U=this.V(p);for(p=0;p<U.length;p++){var C=D;U[p]!==""&&(C+="="+encodeURIComponent(String(U[p]))),a.push(C)}}return this.i=a.join("&")};function xs(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function UT(a,d){d&&!a.j&&(Ui(a),a.i=null,a.g.forEach(function(h,p){var C=p.toLowerCase();p!=C&&(k0(this,p),F0(this,C,h))},a)),a.j=d}function BT(a,d){let h=new Qo;if(l.Image){let p=new Image;p.onload=w(Bi,h,"TestLoadImage: loaded",!0,d,p),p.onerror=w(Bi,h,"TestLoadImage: error",!1,d,p),p.onabort=w(Bi,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=w(Bi,h,"TestLoadImage: timeout",!1,d,p),l.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else d(!1)}function jT(a,d){let h=new Qo,p=new AbortController,C=setTimeout(()=>{p.abort(),Bi(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:p.signal}).then(D=>{clearTimeout(C),D.ok?Bi(h,"TestPingServer: ok",!0,d):Bi(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Bi(h,"TestPingServer: error",!1,d)})}function Bi(a,d,h,p,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),p(h)}catch{}}function $T(){this.g=new TT}function zT(a,d,h){let p=h||"";try{D0(a,function(C,D){let U=C;u(C)&&(U=lh(C)),d.push(p+D+"="+encodeURIComponent(U))})}catch(C){throw d.push(p+"type="+encodeURIComponent("_badmap")),C}}function ea(a){this.l=a.Ub||null,this.j=a.eb||!1}M(ea,ch),ea.prototype.g=function(){return new Zl(this.l,this.j)},ea.prototype.i=function(a){return function(){return a}}({});function Zl(a,d){ot.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Zl,ot),t=Zl.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,na(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,na(this)),this.g&&(this.readyState=3,na(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;V0(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function V0(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ta(this):na(this),this.readyState==3&&V0(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ta(this))},t.Qa=function(a){this.g&&(this.response=a,ta(this))},t.ga=function(){this.g&&ta(this)};function ta(a){a.readyState=4,a.l=null,a.j=null,a.v=null,na(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function na(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Zl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function L0(a){let d="";return W(a,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function yh(a,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=L0(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Re(a,d,h))}function $e(a){ot.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M($e,ot);var GT=/^https?$/i,HT=["POST","PUT"];t=$e.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hh.g(),this.v=this.o?f0(this.o):f0(hh),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(D){U0(this,D);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var C in p)h.set(C,p[C]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let D of p.keys())h.set(D,p.get(D));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(D=>D.toLowerCase()=="content-type"),C=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(HT,d,void 0))||p||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[D,U]of h)this.g.setRequestHeader(D,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$0(this),this.u=!0,this.g.send(a),this.u=!1}catch(D){U0(this,D)}};function U0(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,B0(a),Jl(a)}function B0(a){a.A||(a.A=!0,dt(a,"complete"),dt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,dt(this,"complete"),dt(this,"abort"),Jl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jl(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?j0(this):this.bb())},t.bb=function(){j0(this)};function j0(a){if(a.h&&typeof o<"u"&&(!a.v[1]||mi(a)!=4||a.Z()!=2)){if(a.u&&mi(a)==4)c0(a.Ea,0,a);else if(dt(a,"readystatechange"),mi(a)==4){a.h=!1;try{let U=a.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=U===0){var C=String(a.D).match(M0)[1]||null;!C&&l.self&&l.self.location&&(C=l.self.location.protocol.slice(0,-1)),p=!GT.test(C?C.toLowerCase():"")}h=p}if(h)dt(a,"complete"),dt(a,"success");else{a.m=6;try{var D=2<mi(a)?a.g.statusText:""}catch{D=""}a.l=D+" ["+a.Z()+"]",B0(a)}}finally{Jl(a)}}}}function Jl(a,d){if(a.g){$0(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||dt(a,"ready");try{h.onreadystatechange=p}catch{}}}function $0(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function mi(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<mi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),IT(d)}};function z0(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function WT(a){let d={};a=(a.g&&2<=mi(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if($(a[p]))continue;var h=T(a[p]);let C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let D=d[C]||[];d[C]=D,D.push(h)}I(d,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ia(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function G0(a){this.Aa=0,this.i=[],this.j=new Qo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ia("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ia("baseRetryDelayMs",5e3,a),this.cb=ia("retryDelaySeedMs",1e4,a),this.Wa=ia("forwardChannelMaxRetries",2,a),this.wa=ia("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new C0(a&&a.concurrentRequestLimit),this.Da=new $T,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=G0.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,p){Ht(0),this.W=a,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=X0(this,null,this.W),ec(this)};function bh(a){if(H0(a),a.G==3){var d=a.U++,h=pi(a.I);if(Re(h,"SID",a.K),Re(h,"RID",d),Re(h,"TYPE","terminate"),ra(a,h),d=new Li(a,a.j,d),d.L=2,d.v=Yl(pi(h)),h=!1,l.navigator&&l.navigator.sendBeacon)try{h=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&l.Image&&(new Image().src=d.v,h=!0),h||(d.g=ev(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ql(d)}J0(a)}function Xl(a){a.g&&(Eh(a),a.g.cancel(),a.g=null)}function H0(a){Xl(a),a.u&&(l.clearTimeout(a.u),a.u=null),tc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function ec(a){if(!S0(a.h)&&!a.s){a.s=!0;var d=a.Ga;wt||wr(),jn||(wt(),jn=!0),An.add(d,a),a.B=0}}function qT(a,d){return x0(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ko(g(a.Ga,a,d),Z0(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new Li(this,this.j,a),D=this.o;if(this.S&&(D?(D=_(D),E(D,this.S)):D=this.S),this.m!==null||this.O||(C.H=D,D=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=q0(this,C,d),h=pi(this.I),Re(h,"RID",a),Re(h,"CVER",22),this.D&&Re(h,"X-HTTP-Session-Id",this.D),ra(this,h),D&&(this.O?d="headers="+encodeURIComponent(String(L0(D)))+"&"+d:this.m&&yh(h,this.m,D)),vh(this.h,C),this.Ua&&Re(h,"TYPE","init"),this.P?(Re(h,"$req",d),Re(h,"SID","null"),C.T=!0,ph(C,h,null)):ph(C,h,d),this.G=2}}else this.G==3&&(a?W0(this,a):this.i.length==0||S0(this.h)||W0(this))};function W0(a,d){var h;d?h=d.l:h=a.U++;let p=pi(a.I);Re(p,"SID",a.K),Re(p,"RID",h),Re(p,"AID",a.T),ra(a,p),a.m&&a.o&&yh(p,a.m,a.o),h=new Li(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=q0(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),vh(a.h,h),ph(h,p,d)}function ra(a,d){a.H&&W(a.H,function(h,p){Re(d,p,h)}),a.l&&D0({},function(h,p){Re(d,p,h)})}function q0(a,d,h){h=Math.min(a.i.length,h);var p=a.l?g(a.l.Na,a.l,a):null;e:{var C=a.i;let D=-1;for(;;){let U=["count="+h];D==-1?0<h?(D=C[0].g,U.push("ofs="+D)):D=0:U.push("ofs="+D);let Se=!0;for(let Et=0;Et<h;Et++){let ve=C[Et].g,Ft=C[Et].map;if(ve-=D,0>ve)D=Math.max(0,C[Et].g-100),Se=!1;else try{zT(Ft,U,"req"+ve+"_")}catch{p&&p(Ft)}}if(Se){p=U.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,p}function K0(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;wt||wr(),jn||(wt(),jn=!0),An.add(d,a),a.v=0}}function wh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ko(g(a.Fa,a),Z0(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Q0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ko(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),Xl(this),Q0(this))};function Eh(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Q0(a){a.g=new Li(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=pi(a.qa);Re(d,"RID","rpc"),Re(d,"SID",a.K),Re(d,"AID",a.T),Re(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Re(d,"TO",a.ja),Re(d,"TYPE","xmlhttp"),ra(a,d),a.m&&a.o&&yh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Yl(pi(d)),h.m=null,h.P=!0,E0(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Xl(this),wh(this),Ht(19))};function tc(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Y0(a,d){var h=null;if(a.g==d){tc(a),Eh(a),a.g=null;var p=2}else if(_h(a.h,d))h=d.D,A0(a.h,d),p=1;else return;if(a.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;p=Gl(),dt(p,new v0(p,h)),ec(a)}else K0(a);else if(C=d.s,C==3||C==0&&0<d.X||!(p==1&&qT(a,d)||p==2&&wh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),C){case 1:xr(a,5);break;case 4:xr(a,10);break;case 3:xr(a,6);break;default:xr(a,2)}}}function Z0(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function xr(a,d){if(a.j.info("Error code "+d),d==2){var h=g(a.fb,a),p=a.Xa;let C=!p;p=new Sr(p||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Kl(p,"https"),Yl(p),C?BT(p.toString(),h):jT(p.toString(),h)}else Ht(2);a.G=0,a.l&&a.l.sa(d),J0(a),H0(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function J0(a){if(a.G=0,a.ka=[],a.l){let d=R0(a.h);(d.length!=0||a.i.length!=0)&&(A(a.ka,d),A(a.ka,a.i),a.h.i.length=0,O(a.i),a.i.length=0),a.l.ra()}}function X0(a,d,h){var p=h instanceof Sr?pi(h):new Sr(h);if(p.g!="")d&&(p.g=d+"."+p.g),Ql(p,p.s);else{var C=l.location;p=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var D=new Sr(null);p&&Kl(D,p),d&&(D.g=d),C&&Ql(D,C),h&&(D.l=h),p=D}return h=a.D,d=a.ya,h&&d&&Re(p,h,d),Re(p,"VER",a.la),ra(a,p),p}function ev(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new $e(new ea({eb:h})):new $e(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tv(){}t=tv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nc(){}nc.prototype.g=function(a,d){return new sn(a,d)};function sn(a,d){ot.call(this),this.g=new G0(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!$(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new As(this)}M(sn,ot),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){bh(this.g)},sn.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=lh(a),a=h);d.i.push(new DT(d.Ya++,a)),d.G==3&&ec(d)},sn.prototype.N=function(){this.g.l=null,delete this.j,bh(this.g),delete this.g,sn.aa.N.call(this)};function nv(a){uh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}M(nv,uh);function iv(){dh.call(this),this.status=1}M(iv,dh);function As(a){this.g=a}M(As,tv),As.prototype.ua=function(){dt(this.g,"a")},As.prototype.ta=function(a){dt(this.g,new nv(a))},As.prototype.sa=function(a){dt(this.g,new iv)},As.prototype.ra=function(){dt(this.g,"b")},nc.prototype.createWebChannel=nc.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,sm=Si.createWebChannelTransport=function(){return new nc},rm=Si.getStatEventTarget=function(){return Gl()},im=Si.Event=Tr,Zu=Si.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hl.NO_ERROR=0,Hl.TIMEOUT=8,Hl.HTTP_ERROR=6,tl=Si.ErrorCode=Hl,y0.COMPLETE="complete",nm=Si.EventType=y0,p0.EventType=Wo,Wo.OPEN="a",Wo.CLOSE="b",Wo.ERROR="c",Wo.MESSAGE="d",ot.prototype.listen=ot.prototype.K,to=Si.WebChannel=p0,tm=Si.FetchXmlHttpFactory=ea,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,em=Si.XhrIo=$e}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});var s1="@firebase/firestore";var gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");var Eo="10.13.1";var es=new rr("@firebase/firestore");function nl(){return es.logLevel}function K(t,...e){if(es.logLevel<=fe.DEBUG){let n=e.map(Wg);es.debug(`Firestore (${Eo}): ${t}`,...n)}}function xi(t,...e){if(es.logLevel<=fe.ERROR){let n=e.map(Wg);es.error(`Firestore (${Eo}): ${t}`,...n)}}function lo(t,...e){if(es.logLevel<=fe.WARN){let n=e.map(Wg);es.warn(`Firestore (${Eo}): ${t}`,...n)}}function Wg(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function X(t="Unexpected state"){let e=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: `+t;throw xi(e),new Error(e)}function Ae(t,e){t||X()}function te(t,e){return t}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends qt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var kn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var nd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},um=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}},dm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},hm=class{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),s=new kn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new kn,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>v(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},l=c=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?l(c):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new kn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ae(typeof i.accessToken=="string"),new nd(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new gt(e)}},fm=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},pm=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new fm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},mm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},gm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new mm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function wO(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var id=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=wO(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function Ee(t,e){return t<e?-1:t>e?1:0}function co(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var Mt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Mt(0,0))}static max(){return new t(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var rd=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&X(),i===void 0?i=e.length-n:i>e.length-n&&X(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Be=class t extends rd{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new H(k.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},EO=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mn=class t extends rd{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return EO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new H(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let l=e[r];if(l==="\\"){if(r+1===e.length)throw new H(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new H(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(i+=l,r++):(s(),r++)}if(s(),o)throw new H(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Be.fromString(e))}static fromName(e){return new t(Be.fromString(e).popFirst(5))}static empty(){return new t(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Be(e.slice()))}};var _m=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};_m.UNKNOWN_ID=-1;function IO(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ne.fromTimestamp(i===1e9?new Mt(n+1,0):new Mt(n,i));return new ts(r,Q.empty(),e)}function TO(t){return new ts(t.readTime,t.key,-1)}var ts=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(ne.min(),Q.empty(),-1)}static max(){return new t(ne.max(),Q.empty(),-1)}};function CO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}var SO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Il(t){return v(this,null,function*(){if(t.code!==k.FAILED_PRECONDITION||t.message!==SO)throw t;K("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(l=>{++r,l.next(()=>{++s,o&&s===r&&n()},c=>i(c))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),l=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(f=>{o[u]=f,++l,l===s&&i(o)},f=>r(f))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};function xO(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tl(t){return t.name==="IndexedDbTransactionError"}var U1=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Pd(t){return t==null}function ll(t){return t===0&&1/t==-1/0}function AO(t){return typeof t=="number"&&Number.isInteger(t)&&!ll(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var RO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],AB=[...RO,"documentOverlays"],DO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],MO=DO,OO=[...MO,"indexConfiguration","indexState","indexEntries"];var RB=[...OO,"globals"];function o1(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function B1(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ge=class t{constructor(e,n){this.comparator=e,this.root=n||si.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,si.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,si.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new so(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new so(this.root,e,this.comparator,!1)}getReverseIterator(){return new so(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new so(this.root,e,this.comparator,!0)}},so=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},si=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();let e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}};si.EMPTY=null,si.RED=!0,si.BLACK=!1;si.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,i,r,s){return this}insert(e,n,i){return new si(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var jt=class t{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sd(this.data.getIterator())}getIteratorFrom(e){return new sd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},sd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var In=class t{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new t([])}unionWith(e){let n=new jt(mn.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var od=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var zt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new od("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};zt.EMPTY_BYTE_STRING=new zt("");var PO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(t){if(Ae(!!t),typeof t=="string"){let e=0,n=PO.exec(t);if(Ae(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fr(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}function qg(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Kg(t){let e=t.mapValue.fields.__previous_value__;return qg(e)?Kg(e):e}function cl(t){let e=Ai(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}var ym=class{constructor(e,n,i,r,s,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}},ad=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ju={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qg(t)?4:$1(t)?9007199254740991:j1(t)?10:11:X()}function ci(t,e){if(t===e)return!0;let n=ns(t);if(n!==ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cl(t).isEqual(cl(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Ai(r.timestampValue),l=Ai(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return fr(r.bytesValue).isEqual(fr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return ke(r.geoPointValue.latitude)===ke(s.geoPointValue.latitude)&&ke(r.geoPointValue.longitude)===ke(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ke(r.integerValue)===ke(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=ke(r.doubleValue),l=ke(s.doubleValue);return o===l?ll(o)===ll(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return co(t.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return function(r,s){let o=r.mapValue.fields||{},l=s.mapValue.fields||{};if(o1(o)!==o1(l))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ci(o[c],l[c])))return!1;return!0}(t,e);default:return X()}}function ul(t,e){return(t.values||[]).find(n=>ci(n,e))!==void 0}function uo(t,e){if(t===e)return 0;let n=ns(t),i=ns(e);if(n!==i)return Ee(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){let l=ke(s.integerValue||s.doubleValue),c=ke(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return a1(t.timestampValue,e.timestampValue);case 4:return a1(cl(t),cl(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(s,o){let l=fr(s),c=fr(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){let f=Ee(l[u],c[u]);if(f!==0)return f}return Ee(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let l=Ee(ke(s.latitude),ke(o.latitude));return l!==0?l:Ee(ke(s.longitude),ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return l1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,c,u,f;let m=s.fields||{},g=o.fields||{},w=(l=m.value)===null||l===void 0?void 0:l.arrayValue,M=(c=g.value)===null||c===void 0?void 0:c.arrayValue,O=Ee(((u=w?.values)===null||u===void 0?void 0:u.length)||0,((f=M?.values)===null||f===void 0?void 0:f.length)||0);return O!==0?O:l1(w,M)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ju.mapValue&&o===Ju.mapValue)return 0;if(s===Ju.mapValue)return 1;if(o===Ju.mapValue)return-1;let l=s.fields||{},c=Object.keys(l),u=o.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){let g=Ee(c[m],f[m]);if(g!==0)return g;let w=uo(l[c[m]],u[f[m]]);if(w!==0)return w}return Ee(c.length,f.length)}(t.mapValue,e.mapValue);default:throw X()}}function a1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);let n=Ai(t),i=Ai(e),r=Ee(n.seconds,i.seconds);return r!==0?r:Ee(n.nanos,i.nanos)}function l1(t,e){let n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){let s=uo(n[r],i[r]);if(s)return s}return Ee(n.length,i.length)}function ho(t){return bm(t)}function bm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Ai(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=bm(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${bm(n.fields[o])}`;return r+"}"}(t.mapValue):X()}function c1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wm(t){return!!t&&"integerValue"in t}function Qg(t){return!!t&&"arrayValue"in t}function u1(t){return!!t&&"nullValue"in t}function d1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ed(t){return!!t&&"mapValue"in t}function j1(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function rl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return cs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=rl(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var pn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!ed(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(n)}setAll(e){let n=mn.emptyPath(),i={},r=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=l.popLast()}o?i[l.lastSegment()]=rl(o):r.push(l.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());ed(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];ed(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){cs(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(rl(this.value))}};function z1(t){let e=[];return cs(t.fields,(n,i)=>{let r=new mn([n]);if(ed(i)){let s=z1(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new In(e)}var Nn=class t{constructor(e,n,i,r,s,o,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),pn.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,ne.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fo=class{constructor(e,n){this.position=e,this.inclusive=n}};function h1(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=Q.comparator(Q.fromName(o.referenceValue),n.key):i=uo(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function f1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ci(t.position[n],e.position[n]))return!1;return!0}var po=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function kO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ld=class{},rt=class t extends ld{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Im(e,n,i):n==="array-contains"?new Sm(e,i):n==="in"?new xm(e,i):n==="not-in"?new Am(e,i):n==="array-contains-any"?new Rm(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Tm(e,i):new Cm(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uo(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Fn=class t extends ld{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return G1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function G1(t){return t.op==="and"}function H1(t){return NO(t)&&G1(t)}function NO(t){for(let e of t.filters)if(e instanceof Fn)return!1;return!0}function Em(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+ho(t.value);if(H1(t))return t.filters.map(e=>Em(e)).join(",");{let e=t.filters.map(n=>Em(n)).join(",");return`${t.op}(${e})`}}function W1(t,e){return t instanceof rt?function(i,r){return r instanceof rt&&i.op===r.op&&i.field.isEqual(r.field)&&ci(i.value,r.value)}(t,e):t instanceof Fn?function(i,r){return r instanceof Fn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,l)=>s&&W1(o,r.filters[l]),!0):!1}(t,e):void X()}function q1(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(q1).join(" ,")+"}"}(t):"Filter"}var Im=class extends rt{constructor(e,n,i){super(e,n,i),this.key=Q.fromName(i.referenceValue)}matches(e){let n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}},Tm=class extends rt{constructor(e,n){super(e,"in",n),this.keys=K1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Cm=class extends rt{constructor(e,n){super(e,"not-in",n),this.keys=K1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function K1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Q.fromName(i.referenceValue))}var Sm=class extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Qg(n)&&ul(n.arrayValue,this.value)}},xm=class extends rt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ul(this.value.arrayValue,n)}},Am=class extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ul(this.value.arrayValue,n)}},Rm=class extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Qg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ul(this.value.arrayValue,i))}};var Dm=class{constructor(e,n=null,i=[],r=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}};function p1(t,e=null,n=[],i=[],r=null,s=null,o=null){return new Dm(t,e,n,i,r,s,o)}function Yg(t){let e=te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Em(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ho(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ho(i)).join(",")),e.ue=n}return e.ue}function Zg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!W1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f1(t.startAt,e.startAt)&&f1(t.endAt,e.endAt)}function Mm(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var is=class{constructor(e,n=null,i=[],r=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function FO(t,e,n,i,r,s,o,l){return new is(t,e,n,i,r,s,o,l)}function kd(t){return new is(t)}function m1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Q1(t){return t.collectionGroup!==null}function sl(t){let e=te(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new jt(mn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new po(s,i))}),n.has(mn.keyField().canonicalString())||e.ce.push(new po(mn.keyField(),i))}return e.ce}function oi(t){let e=te(t);return e.le||(e.le=VO(e,sl(t))),e.le}function VO(t,e){if(t.limitType==="F")return p1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new po(r.field,s)});let n=t.endAt?new fo(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new fo(t.startAt.position,t.startAt.inclusive):null;return p1(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Om(t,e){let n=t.filters.concat([e]);return new is(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pm(t,e,n){return new is(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nd(t,e){return Zg(oi(t),oi(e))&&t.limitType===e.limitType}function Y1(t){return`${Yg(oi(t))}|lt:${t.limitType}`}function no(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>q1(r)).join(", ")}]`),Pd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ho(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ho(r)).join(",")),`Target(${i})`}(oi(t))}; limitType=${t.limitType})`}function Fd(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Q.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of sl(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,l,c){let u=h1(o,l,c);return o.inclusive?u<=0:u<0}(i.startAt,sl(i),r)||i.endAt&&!function(o,l,c){let u=h1(o,l,c);return o.inclusive?u>=0:u>0}(i.endAt,sl(i),r))}(t,e)}function LO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Z1(t){return(e,n)=>{let i=!1;for(let r of sl(t)){let s=UO(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function UO(t,e,n){let i=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,l){let c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?uo(c,u):X()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return X()}}var pr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return B1(this.inner)}size(){return this.innerSize}};var BO=new Ge(Q.comparator);function Ri(){return BO}var J1=new Ge(Q.comparator);function il(...t){let e=J1;for(let n of t)e=e.insert(n.key,n);return e}function X1(t){let e=J1;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Zr(){return ol()}function eE(){return ol()}function ol(){return new pr(t=>t.toString(),(t,e)=>t.isEqual(e))}var jO=new Ge(Q.comparator),$O=new jt(Q.comparator);function pe(...t){let e=$O;for(let n of t)e=e.add(n);return e}var zO=new jt(Ee);function GO(){return zO}function Jg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ll(e)?"-0":e}}function tE(t){return{integerValue:""+t}}function HO(t,e){return AO(e)?tE(e):Jg(t,e)}var mo=class{constructor(){this._=void 0}};function WO(t,e,n){return t instanceof rs?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&qg(s)&&(s=Kg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ss?iE(t,e):t instanceof os?rE(t,e):function(r,s){let o=nE(r,s),l=g1(o)+g1(r.Pe);return wm(o)&&wm(r.Pe)?tE(l):Jg(r.serializer,l)}(t,e)}function qO(t,e,n){return t instanceof ss?iE(t,e):t instanceof os?rE(t,e):n}function nE(t,e){return t instanceof go?function(i){return wm(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var rs=class extends mo{},ss=class extends mo{constructor(e){super(),this.elements=e}};function iE(t,e){let n=sE(e);for(let i of t.elements)n.some(r=>ci(r,i))||n.push(i);return{arrayValue:{values:n}}}var os=class extends mo{constructor(e){super(),this.elements=e}};function rE(t,e){let n=sE(e);for(let i of t.elements)n=n.filter(r=>!ci(r,i));return{arrayValue:{values:n}}}var go=class extends mo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function g1(t){return ke(t.integerValue||t.doubleValue)}function sE(t){return Qg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var km=class{constructor(e,n){this.field=e,this.transform=n}};function KO(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof ss&&r instanceof ss||i instanceof os&&r instanceof os?co(i.elements,r.elements,ci):i instanceof go&&r instanceof go?ci(i.Pe,r.Pe):i instanceof rs&&r instanceof rs}(t.transform,e.transform)}var Nm=class{constructor(e,n){this.version=e,this.transformResults=n}},ai=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function td(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var _o=class{};function oE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dl(t.key,ai.none()):new as(t.key,t.data,ai.none());{let n=t.data,i=pn.empty(),r=new jt(mn.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new ui(t.key,i,new In(r.toArray()),ai.none())}}function QO(t,e,n){t instanceof as?function(r,s,o){let l=r.value.clone(),c=v1(r.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ui?function(r,s,o){if(!td(r.precondition,s))return void s.convertToUnknownDocument(o.version);let l=v1(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(aE(r)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function al(t,e,n,i){return t instanceof as?function(s,o,l,c){if(!td(s.precondition,o))return l;let u=s.value.clone(),f=y1(s.fieldTransforms,c,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof ui?function(s,o,l,c){if(!td(s.precondition,o))return l;let u=y1(s.fieldTransforms,c,o),f=o.data;return f.setAll(aE(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,i):function(s,o,l){return td(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function YO(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),s=nE(i.transform,r||null);s!=null&&(n===null&&(n=pn.empty()),n.set(i.field,s))}return n||null}function _1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&co(i,r,(s,o)=>KO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var as=class extends _o{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ui=class extends _o{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function aE(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function v1(t,e,n){let i=new Map;Ae(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,l=e.data.field(s.field);i.set(s.field,qO(o,l,n[r]))}return i}function y1(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,WO(s,o,e))}return i}var dl=class extends _o{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Fm=class extends _o{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Vm=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&QO(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=al(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=al(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=eE();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,l=this.applyToLocalView(o,s.mutatedFields);l=n.has(r.key)?null:l;let c=oE(o,l);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(ne.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,(n,i)=>_1(n,i))&&co(this.baseMutations,e.baseMutations,(n,i)=>_1(n,i))}},Lm=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Ae(e.mutations.length===i.length);let r=function(){return jO}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)}};var Um=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Bm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var nt,_e;function ZO(t){switch(t){default:return X();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function lE(t){if(t===void 0)return xi("GRPC error has no .code"),k.UNKNOWN;switch(t){case nt.OK:return k.OK;case nt.CANCELLED:return k.CANCELLED;case nt.UNKNOWN:return k.UNKNOWN;case nt.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case nt.INTERNAL:return k.INTERNAL;case nt.UNAVAILABLE:return k.UNAVAILABLE;case nt.UNAUTHENTICATED:return k.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case nt.NOT_FOUND:return k.NOT_FOUND;case nt.ALREADY_EXISTS:return k.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return k.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case nt.ABORTED:return k.ABORTED;case nt.OUT_OF_RANGE:return k.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return k.UNIMPLEMENTED;case nt.DATA_LOSS:return k.DATA_LOSS;default:return X()}}(_e=nt||(nt={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var b1=null;function JO(){return new TextEncoder}var XO=new dr([4294967295,4294967295],0);function w1(t){let e=JO().encode(t),n=new Xp;return n.update(e),new Uint8Array(n.digest())}function E1(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new dr([n,i],0),new dr([r,s],0)]}var jm=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Jr(`Invalid padding: ${n}`);if(i<0)throw new Jr(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Jr(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Jr(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=dr.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(dr.fromNumber(i)));return r.compare(XO)===1&&(r=new dr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=w1(e),[i,r]=E1(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,n);return i.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;let n=w1(e),[i,r]=E1(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},Jr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var cd=class t{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,hl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(ne.min(),r,new Ge(Ee),Ri(),pe())}},hl=class t{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,pe(),pe(),pe())}};var oo=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},ud=class{constructor(e,n){this.targetId=e,this.me=n}},dd=class{constructor(e,n,i=zt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},hd=class{constructor(){this.fe=0,this.ge=T1(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),i=pe();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:X()}}),new hl(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=T1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},$m=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ri(),this.qe=I1(),this.Qe=new Ge(Ee)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let s=r.target;if(Mm(s))if(i===0){let o=new Q(s.path);this.Ue(n,o,Nn.newNoDocument(o,ne.min()))}else Ae(i===1);else{let o=this.Ye(n);if(o!==i){let l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}b1?.et(function(f,m,g,w,M){var O,A,F,$,z,B;let Y={localCacheCount:f,existenceFilterCount:m.count,databaseId:g.database,projectId:g.projectId},W=m.unchangedNames;return W&&(Y.bloomFilter={applied:M===0,hashCount:(O=W?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:($=(F=(A=W?.bits)===null||A===void 0?void 0:A.bitmap)===null||F===void 0?void 0:F.length)!==null&&$!==void 0?$:0,padding:(B=(z=W?.bits)===null||z===void 0?void 0:z.padding)!==null&&B!==void 0?B:0,mightContain:I=>{var _;return(_=w?.mightContain(I))!==null&&_!==void 0&&_}}),Y}(o,e.me,this.Le.tt(),l,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n,o,l;try{o=fr(i).toUint8Array()}catch(c){if(c instanceof od)return lo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new jm(o,r,s)}catch(c){return lo(c instanceof Jr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(s=>{let o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let l=this.Je(o);if(l){if(s.current&&Mm(l.target)){let c=new Q(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Nn.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let i=pe();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new cd(e,n,this.Qe,this.ke,i);return this.ke=Ri(),this.qe=I1(),this.Qe=new Ge(Ee),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new hd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new jt(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new hd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function I1(){return new Ge(Q.comparator)}function T1(){return new Ge(Q.comparator)}var eP={asc:"ASCENDING",desc:"DESCENDING"},tP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nP={and:"AND",or:"OR"},zm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Gm(t,e){return t.useProto3Json||Pd(e)?e:{value:e}}function fd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iP(t,e){return fd(t,e.toTimestamp())}function li(t){return Ae(!!t),ne.fromTimestamp(function(n){let i=Ai(n);return new Mt(i.seconds,i.nanos)}(t))}function Xg(t,e){return Hm(t,e).canonicalString()}function Hm(t,e){let n=function(r){return new Be(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uE(t){let e=Be.fromString(t);return Ae(mE(e)),e}function Wm(t,e){return Xg(t.databaseId,e.path)}function om(t,e){let n=uE(e);if(n.get(1)!==t.databaseId.projectId)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(hE(n))}function dE(t,e){return Xg(t.databaseId,e)}function rP(t){let e=uE(t);return e.length===4?Be.emptyPath():hE(e)}function qm(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hE(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function C1(t,e,n){return{name:Wm(t,e),fields:n.value.mapValue.fields}}function sP(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(Ae(f===void 0||typeof f=="string"),zt.fromBase64String(f||"")):(Ae(f===void 0||f instanceof Buffer||f instanceof Uint8Array),zt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){let f=u.code===void 0?k.UNKNOWN:lE(u.code);return new H(f,u.message||"")}(o);n=new dd(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=om(t,i.document.name),s=li(i.document.updateTime),o=i.document.createTime?li(i.document.createTime):ne.min(),l=new pn({mapValue:{fields:i.document.fields}}),c=Nn.newFoundDocument(r,s,o,l),u=i.targetIds||[],f=i.removedTargetIds||[];n=new oo(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=om(t,i.document),s=i.readTime?li(i.readTime):ne.min(),o=Nn.newNoDocument(r,s),l=i.removedTargetIds||[];n=new oo([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=om(t,i.document),s=i.removedTargetIds||[];n=new oo([],s,r,null)}else{if(!("filter"in e))return X();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new Bm(r,s),l=i.targetId;n=new ud(l,o)}}return n}function oP(t,e){let n;if(e instanceof as)n={update:C1(t,e.key,e.value)};else if(e instanceof dl)n={delete:Wm(t,e.key)};else if(e instanceof ui)n={update:C1(t,e.key,e.data),updateMask:mP(e.fieldMask)};else{if(!(e instanceof Fm))return X();n={verify:Wm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let l=o.transform;if(l instanceof rs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ss)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof os)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof go)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw X()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:iP(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X()}(t,e.precondition)),n}function aP(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?li(r.updateTime):li(s);return o.isEqual(ne.min())&&(o=li(s)),new Nm(o,r.transformResults||[])}(n,e))):[]}function lP(t,e){return{documents:[dE(t,e.path)]}}function cP(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=dE(t,r);let s=function(u){if(u.length!==0)return pE(Fn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(f=>function(g){return{field:io(g.field),direction:hP(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let l=Gm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:r}}function uP(t){let e=rP(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Ae(i===1);let f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){let g=fE(m);return g instanceof Fn&&H1(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(M){return new po(ro(M.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,Pd(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(m){let g=!!m.before,w=m.values||[];return new fo(w,g)}(n.startAt));let u=null;return n.endAt&&(u=function(m){let g=!m.before,w=m.values||[];return new fo(w,g)}(n.endAt)),FO(e,r,o,s,l,"F",c,u)}function dP(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=ro(n.unaryFilter.field);return rt.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=ro(n.unaryFilter.field);return rt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ro(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ro(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(ro(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(i=>fE(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function hP(t){return eP[t]}function fP(t){return tP[t]}function pP(t){return nP[t]}function io(t){return{fieldPath:t.canonicalString()}}function ro(t){return mn.fromServerFormat(t.fieldPath)}function pE(t){return t instanceof rt?function(n){if(n.op==="=="){if(d1(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(u1(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d1(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(u1(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:fP(n.op),value:n.value}}}(t):t instanceof Fn?function(n){let i=n.getFilters().map(r=>pE(r));return i.length===1?i[0]:{compositeFilter:{op:pP(n.op),filters:i}}}(t):X()}function mP(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var fl=class t{constructor(e,n,i,r,s=ne.min(),o=ne.min(),l=zt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Km=class{constructor(e){this.ct=e}};function gP(t){let e=uP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pm(e,e.limit,"L"):e}var pd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ke(e.integerValue));else if("doubleValue"in e){let i=ke(e.doubleValue);isNaN(i)?this.dt(n,13):(this.dt(n,15),ll(i)?n.At(0):n.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(n,20),typeof i=="string"&&(i=Ai(i)),n.Rt(`${i.seconds||""}`),n.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(fr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(n,45),n.At(i.latitude||0),n.At(i.longitude||0)}else"mapValue"in e?$1(e)?this.dt(n,Number.MAX_SAFE_INTEGER):j1(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):X()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let i=e.fields||{};this.dt(n,55);for(let r of Object.keys(i))this.Vt(r,n),this.Tt(i[r],n)}wt(e,n){var i,r;let s=e.fields||{};this.dt(n,53);let o="value",l=((r=(i=s[o].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(n,15),n.At(ke(l)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let i=e.values||[];this.dt(n,50);for(let r of i)this.Tt(r,n)}yt(e,n){this.dt(n,37),Q.fromName(e).path.forEach(i=>{this.dt(n,60),this.Dt(i,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};pd.vt=new pd;var Qm=class{constructor(){this.un=new Ym}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(ts.min())}updateCollectionGroup(e,n,i){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},Ym=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new jt(Be.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new jt(Be.comparator)).toArray()}};var MB=new Uint8Array(0);var ri=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ri.DEFAULT_COLLECTION_PERCENTILE=10,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ri.DEFAULT=new ri(41943040,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ri.DISABLED=new ri(-1,0,0);var pl=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Zm=class{constructor(){this.changes=new pr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?L.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Jm=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Xm=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&al(i.mutation,r,In.empty(),Mt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,pe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=pe()){let r=Zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=il();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=Zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,pe()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,i,r){let s=Ri(),o=ol(),l=function(){return ol()}();return n.forEach((c,u)=>{let f=i.get(u.key);r.has(u.key)&&(f===void 0||f.mutation instanceof ui)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),al(f.mutation,u,f.mutation.getFieldMask(),Mt.now())):o.set(u.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var m;return l.set(u,new Jm(f,(m=o.get(u))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){let i=ol(),r=new Ge((o,l)=>o-l),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let l of o)l.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let f=i.get(c)||In.empty();f=l.applyToLocalView(u,f),i.set(c,f);let m=(r.get(l.batchId)||pe()).add(c);r=r.insert(l.batchId,m)})}).next(()=>{let o=[],l=r.getReverseIterator();for(;l.hasNext();){let c=l.getNext(),u=c.key,f=c.value,m=eE();f.forEach(g=>{if(!s.has(g)){let w=oE(n.get(g),i.get(g));w!==null&&m.set(g,w),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return L.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Q1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):L.resolve(Zr()),l=-1,c=s;return o.next(u=>L.forEach(u,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{c=c.insert(f,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,pe())).next(f=>({batchId:l,changes:X1(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(i=>{let r=il();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=il();return this.indexManager.getCollectionParents(e,s).next(l=>L.forEach(l,c=>{let u=function(m,g){return new is(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(f=>{f.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((c,u)=>{let f=u.getKey();o.get(f)===null&&(o=o.insert(f,Nn.newInvalidDocument(f)))});let l=il();return o.forEach((c,u)=>{let f=s.get(c);f!==void 0&&al(f.mutation,u,In.empty(),Mt.now()),Fd(n,u)&&(l=l.insert(c,u))}),l})}};var eg=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:li(r.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:gP(r.bundledQuery),readTime:li(r.readTime)}}(n)),L.resolve()}};var tg=class{constructor(){this.overlays=new Ge(Q.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let i=Zr();return L.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),L.resolve()}getOverlaysForCollection(e,n,i){let r=Zr(),s=n.length+1,o=new Q(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){let c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return L.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ge((u,f)=>u-f),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let f=s.get(u.largestBatchId);f===null&&(f=Zr(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}let l=Zr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>l.set(u,f)),!(l.size()>=r)););return L.resolve(l)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Um(n,i));let s=this.Ir.get(n);s===void 0&&(s=pe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}};var ng=class{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}};var ml=class{constructor(){this.Tr=new jt(it.Er),this.dr=new jt(it.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let i=new it(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new it(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){let n=new Q(new Be([])),i=new it(n,e),r=new it(n,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new Q(new Be([])),i=new it(n,e),r=new it(n,e+1),s=pe();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new it(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},it=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Q.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||Q.comparator(e.key,n.key)}};var ig=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new jt(it.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Vm(s,n,i,r);this.mutationQueue.push(o);for(let l of r)this.br=this.br.add(new it(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.vr(i),s=r<0?0:r;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new it(n,0),r=new it(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{let l=this.Dr(o.wr);s.push(l)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new jt(Ee);return n.forEach(r=>{let s=new it(r,0),o=new it(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{i=i.add(l.wr)})}),L.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;Q.isDocumentKey(s)||(s=s.child(""));let o=new it(new Q(s),0),l=new jt(Ee);return this.br.forEachWhile(c=>{let u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(l=l.add(c.wr)),!0)},o),L.resolve(this.Cr(l))}Cr(e){let n=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ae(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return L.forEach(n.mutations,r=>{let s=new it(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){let i=new it(n,0),r=this.br.firstAfterOrEqual(i);return L.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var rg=class{constructor(e){this.Mr=e,this.docs=function(){return new Ge(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return L.resolve(i?i.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let i=Ri();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Nn.newInvalidDocument(r))}),L.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Ri(),o=n.path,l=new Q(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){let{key:u,value:{document:f}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||CO(TO(f),i)<=0||(r.has(f.key)||Fd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,i,r){X()}Or(e,n){return L.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new sg(this)}getSize(e){return L.resolve(this.size)}},sg=class extends Zm{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var og=class{constructor(e){this.persistence=e,this.Nr=new pr(n=>Yg(n),Zg),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ml,this.targetCount=0,this.kr=pl.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new pl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),L.waitFor(s).next(()=>r)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let i=this.Nr.get(n)||null;return L.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),L.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Br.yr(n);return L.resolve(i)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}};var ag=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new U1(0),this.Kr=!1,this.Kr=!0,this.$r=new ng,this.referenceDelegate=e(this),this.Ur=new og(this),this.indexManager=new Qm,this.remoteDocumentCache=function(r){return new rg(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new Km(n),this.Gr=new eg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tg,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new ig(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){K("MemoryPersistence","Starting transaction:",e);let r=new lg(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,n){return L.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}},lg=class extends vm{constructor(e){super(),this.currentSequenceNumber=e}},cg=class t{constructor(e){this.persistence=e,this.Jr=new ml,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),L.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,i=>{let r=Q.fromPath(i);return this.ei(e,r).next(s=>{s||n.removeEntry(r,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var ug=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=pe(),r=pe();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var dg=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var hg=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Rb()?8:xO(pt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new dg;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(nl()<=fe.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(nl()<=fe.DEBUG&&K("QueryEngine","Query:",no(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(nl()<=fe.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(n))):L.resolve())}Yi(e,n){if(m1(n))return L.resolve(null);let i=oi(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Pm(n,null,"F"),i=oi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=pe(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,i).next(c=>{let u=this.ts(n,l);return this.ns(n,u,o,c.readTime)?this.Yi(e,Pm(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,i,r){return m1(n)||r.isEqual(ne.min())?L.resolve(null):this.Ji.getDocuments(e,i).next(s=>{let o=this.ts(n,s);return this.ns(n,o,i,r)?L.resolve(null):(nl()<=fe.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),no(n)),this.rs(e,o,n,IO(r,-1)).next(l=>l))})}ts(e,n){let i=new jt(Z1(e));return n.forEach((r,s)=>{Fd(e,s)&&(i=i.add(s))}),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,n,i){return nl()<=fe.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",no(n)),this.Ji.getDocumentsMatchingQuery(e,n,ts.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var fg=class{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new Ge(Ee),this._s=new pr(s=>Yg(s),Zg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xm(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function _P(t,e,n,i){return new fg(t,e,n,i)}function gE(t,e){return v(this,null,function*(){let n=te(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],l=[],c=pe();for(let u of r){o.push(u.batchId);for(let f of u.mutations)c=c.add(f.key)}for(let u of s){l.push(u.batchId);for(let f of u.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(i,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:l}))})})})}function vP(t,e){let n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,f){let m=u.batch,g=m.keys(),w=L.resolve();return g.forEach(M=>{w=w.next(()=>f.getEntry(c,M)).next(O=>{let A=u.docVersions.get(M);Ae(A!==null),O.version.compareTo(A)<0&&(m.applyToRemoteDocument(O,u),O.isValidDocument()&&(O.setReadTime(u.commitVersion),f.addEntry(O)))})}),w.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let c=pe();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function _E(t){let e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function yP(t,e){let n=te(t),i=e.snapshotVersion,r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;let l=[];e.targetChanges.forEach((f,m)=>{let g=r.get(m);if(!g)return;l.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,m)));let w=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(zt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,i)),r=r.insert(m,w),function(O,A,F){return O.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(g,w,f)&&l.push(n.Ur.updateTargetData(s,w))});let c=Ri(),u=pe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(bP(s,o,e.documentUpdates).next(f=>{c=f.Ps,u=f.Is})),!i.isEqual(ne.min())){let f=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(f)}return L.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.os=r,s))}function bP(t,e,n){let i=pe(),r=pe();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Ri();return n.forEach((l,c)=>{let u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(ne.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):K("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:r}})}function wP(t,e){let n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function EP(t,e){let n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(s=>s?(r=s,L.resolve(r)):n.Ur.allocateTargetId(i).next(o=>(r=new fl(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}function pg(t,e,n){return v(this,null,function*(){let i=te(t),r=i.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Tl(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function S1(t,e,n){let i=te(t),r=ne.min(),s=pe();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,f){let m=te(c),g=m._s.get(f);return g!==void 0?L.resolve(m.os.get(g)):m.Ur.getTargetData(u,f)}(i,o,oi(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,n?r:ne.min(),n?s:pe())).next(l=>(IP(i,LO(e),l),{documents:l,Ts:s})))}function IP(t,e,n){let i=t.us.get(e)||ne.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.us.set(e,i)}var md=class{constructor(){this.activeTargetIds=GO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var mg=class{constructor(){this.so=new md,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new md,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var gg=class{_o(e){}shutdown(){}};var gd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Xu=null;function am(){return Xu===null?Xu=function(){return 268435456+Math.round(2147483648*Math.random())}():Xu++,"0x"+Xu.toString(16)}var TP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var _g=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Bt="WebChannelConnection",vg=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,o){let l=am(),c=this.xo(n,i.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${l}:`,c,r);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,c,u,r).then(f=>(K("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw lo("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",c,"request:",r),f})}Lo(n,i,r,s,o,l){return this.Mo(n,i,r,s,o)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}xo(n,i){let r=TP[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){let s=am();return new Promise((o,l)=>{let c=new em;c.setWithCredentials(!0),c.listenOnce(nm.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case tl.NO_ERROR:let f=c.getResponseJson();K(Bt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case tl.TIMEOUT:K(Bt,`RPC '${e}' ${s} timed out`),l(new H(k.DEADLINE_EXCEEDED,"Request time out"));break;case tl.HTTP_ERROR:let m=c.getStatus();if(K(Bt,`RPC '${e}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let w=g?.error;if(w&&w.status&&w.message){let M=function(A){let F=A.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(F)>=0?F:k.UNKNOWN}(w.status);l(new H(M,w.message))}else l(new H(k.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new H(k.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{K(Bt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);K(Bt,`RPC '${e}' ${s} sending request:`,r),c.send(n,"POST",u,i,15)})}Bo(e,n,i){let r=am(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sm(),l=rm(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new tm({})),this.Oo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let f=s.join("");K(Bt,`Creating RPC '${e}' stream ${r}: ${f}`,c);let m=o.createWebChannel(f,c),g=!1,w=!1,M=new _g({Io:A=>{w?K(Bt,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(g||(K(Bt,`Opening RPC '${e}' stream ${r} transport.`),m.open(),g=!0),K(Bt,`RPC '${e}' stream ${r} sending:`,A),m.send(A))},To:()=>m.close()}),O=(A,F,$)=>{A.listen(F,z=>{try{$(z)}catch(B){setTimeout(()=>{throw B},0)}})};return O(m,to.EventType.OPEN,()=>{w||(K(Bt,`RPC '${e}' stream ${r} transport opened.`),M.yo())}),O(m,to.EventType.CLOSE,()=>{w||(w=!0,K(Bt,`RPC '${e}' stream ${r} transport closed`),M.So())}),O(m,to.EventType.ERROR,A=>{w||(w=!0,lo(Bt,`RPC '${e}' stream ${r} transport errored:`,A),M.So(new H(k.UNAVAILABLE,"The operation could not be completed")))}),O(m,to.EventType.MESSAGE,A=>{var F;if(!w){let $=A.data[0];Ae(!!$);let z=$,B=z.error||((F=z[0])===null||F===void 0?void 0:F.error);if(B){K(Bt,`RPC '${e}' stream ${r} received error:`,B);let Y=B.status,W=function(y){let E=nt[y];if(E!==void 0)return lE(E)}(Y),I=B.message;W===void 0&&(W=k.INTERNAL,I="Unknown error status: "+Y+" with message "+B.message),w=!0,M.So(new H(W,I)),m.close()}else K(Bt,`RPC '${e}' stream ${r} received:`,$),M.bo($)}}),O(l,im.STAT_EVENT,A=>{A.stat===Zu.PROXY?K(Bt,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===Zu.NOPROXY&&K(Bt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function lm(){return typeof document<"u"?document:null}function Vd(t){return new zm(t,!0)}var _d=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&K("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var vd=class{constructor(e,n,i,r,s,o,l,c){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new _d(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return v(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return v(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return v(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{let r=new H(k.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){let i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>v(this,null,function*(){this.state=0,this.start()}))}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},yg=class extends vd{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=sP(this.serializer,e),i=function(s){if(!("targetChange"in s))return ne.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?li(o.readTime):ne.min()}(e);return this.listener.d_(n,i)}A_(e){let n={};n.database=qm(this.serializer),n.addTarget=function(s,o){let l,c=o.target;if(l=Mm(c)?{documents:lP(s,c)}:{query:cP(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=cE(s,o.resumeToken);let u=Gm(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(ne.min())>0){l.readTime=fd(s,o.snapshotVersion.toTimestamp());let u=Gm(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);let i=dP(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){let n={};n.database=qm(this.serializer),n.removeTarget=e,this.a_(n)}},bg=class extends vd{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=aP(e.writeResults,e.commitTime),i=li(e.commitTime);return this.listener.g_(i,n)}p_(){let e={};e.database=qm(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>oP(this.serializer,i))};this.a_(n)}};var wg=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Hm(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(k.UNKNOWN,s.toString())})}Lo(e,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Hm(n,i),r,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(k.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Eg=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(xi(n),this.D_=!1):K("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Ig=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(()=>v(this,null,function*(){us(this)&&(K("RemoteStore","Restarting streams for network reachability change."),yield function(c){return v(this,null,function*(){let u=te(c);u.L_.add(4),yield Cl(u),u.q_.set("Unknown"),u.L_.delete(4),yield Ld(u)})}(this))}))}),this.q_=new Eg(i,r)}};function Ld(t){return v(this,null,function*(){if(us(t))for(let e of t.B_)yield e(!0)})}function Cl(t){return v(this,null,function*(){for(let e of t.B_)yield e(!1)})}function vE(t,e){let n=te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),i_(n)?n_(n):Io(n).r_()&&t_(n,e))}function e_(t,e){let n=te(t),i=Io(n);n.N_.delete(e),i.r_()&&yE(n,e),n.N_.size===0&&(i.r_()?i.o_():us(n)&&n.q_.set("Unknown"))}function t_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(t).A_(e)}function yE(t,e){t.Q_.xe(e),Io(t).R_(e)}function n_(t){t.Q_=new $m({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Io(t).start(),t.q_.v_()}function i_(t){return us(t)&&!Io(t).n_()&&t.N_.size>0}function us(t){return te(t).L_.size===0}function bE(t){t.Q_=void 0}function CP(t){return v(this,null,function*(){t.q_.set("Online")})}function SP(t){return v(this,null,function*(){t.N_.forEach((e,n)=>{t_(t,e)})})}function xP(t,e){return v(this,null,function*(){bE(t),i_(t)?(t.q_.M_(e),n_(t)):t.q_.set("Unknown")})}function AP(t,e,n){return v(this,null,function*(){if(t.q_.set("Online"),e instanceof dd&&e.state===2&&e.cause)try{yield function(r,s){return v(this,null,function*(){let o=s.cause;for(let l of s.targetIds)r.N_.has(l)&&(yield r.remoteSyncer.rejectListen(l,o),r.N_.delete(l),r.Q_.removeTarget(l))})}(t,e)}catch(i){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield yd(t,i)}else if(e instanceof oo?t.Q_.Ke(e):e instanceof ud?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{let i=yield _E(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){let l=s.Q_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let f=s.N_.get(u);f&&s.N_.set(u,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{let f=s.N_.get(c);if(!f)return;s.N_.set(c,f.withResumeToken(zt.EMPTY_BYTE_STRING,f.snapshotVersion)),yE(s,c);let m=new fl(f.target,c,u,f.sequenceNumber);t_(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n))}catch(i){K("RemoteStore","Failed to raise snapshot:",i),yield yd(t,i)}})}function yd(t,e,n){return v(this,null,function*(){if(!Tl(e))throw e;t.L_.add(1),yield Cl(t),t.q_.set("Offline"),n||(n=()=>_E(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){K("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Ld(t)}))})}function wE(t,e){return e().catch(n=>yd(t,n,e))}function Ud(t){return v(this,null,function*(){let e=te(t),n=mr(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;RP(e);)try{let r=yield wP(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,DP(e,r)}catch(r){yield yd(e,r)}EE(e)&&IE(e)})}function RP(t){return us(t)&&t.O_.length<10}function DP(t,e){t.O_.push(e);let n=mr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function EE(t){return us(t)&&!mr(t).n_()&&t.O_.length>0}function IE(t){mr(t).start()}function MP(t){return v(this,null,function*(){mr(t).p_()})}function OP(t){return v(this,null,function*(){let e=mr(t);for(let n of t.O_)e.m_(n.mutations)})}function PP(t,e,n){return v(this,null,function*(){let i=t.O_.shift(),r=Lm.from(i,e,n);yield wE(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Ud(t)})}function kP(t,e){return v(this,null,function*(){e&&mr(t).V_&&(yield function(i,r){return v(this,null,function*(){if(function(o){return ZO(o)&&o!==k.ABORTED}(r.code)){let s=i.O_.shift();mr(i).s_(),yield wE(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Ud(i)}})}(t,e)),EE(t)&&IE(t)})}function x1(t,e){return v(this,null,function*(){let n=te(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");let i=us(n);n.L_.add(3),yield Cl(n),i&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Ld(n)})}function NP(t,e){return v(this,null,function*(){let n=te(t);e?(n.L_.delete(2),yield Ld(n)):e||(n.L_.add(2),yield Cl(n),n.q_.set("Unknown"))})}function Io(t){return t.K_||(t.K_=function(n,i,r){let s=te(n);return s.w_(),new yg(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:CP.bind(null,t),Ro:SP.bind(null,t),mo:xP.bind(null,t),d_:AP.bind(null,t)}),t.B_.push(e=>v(this,null,function*(){e?(t.K_.s_(),i_(t)?n_(t):t.q_.set("Unknown")):(yield t.K_.stop(),bE(t))}))),t.K_}function mr(t){return t.U_||(t.U_=function(n,i,r){let s=te(n);return s.w_(),new bg(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:MP.bind(null,t),mo:kP.bind(null,t),f_:OP.bind(null,t),g_:PP.bind(null,t)}),t.B_.push(e=>v(this,null,function*(){e?(t.U_.s_(),yield Ud(t)):(yield t.U_.stop(),t.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Tg=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,l=new t(e,n,o,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function r_(t,e){if(xi("AsyncQueue",`${e}: ${t}`),Tl(t))return new H(k.UNAVAILABLE,`${e}: ${t}`);throw t}var bd=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Q.comparator(n.key,i.key):(n,i)=>Q.comparator(n.key,i.key),this.keyedMap=il(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var wd=class{constructor(){this.W_=new Ge(Q.comparator)}track(e){let n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}},vo=class t{constructor(e,n,i,r,s,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,r,s){let o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new t(e,n,bd.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var Cg=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Sg=class{constructor(){this.queries=A1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){let r=te(n),s=r.queries;r.queries=A1(),s.forEach((o,l)=>{for(let c of l.j_)c.onError(i)})})(this,new H(k.ABORTED,"Firestore shutting down"))}};function A1(){return new pr(t=>Y1(t),Nd)}function s_(t,e){return v(this,null,function*(){let n=te(t),i=3,r=e.query,s=n.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new Cg,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield n.onListen(r,!0);break;case 1:s.z_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(o){let l=r_(o,`Initialization of query '${no(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&a_(n)})}function o_(t,e){return v(this,null,function*(){let n=te(t),i=e.query,r=3,s=n.queries.get(i);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function FP(t,e){let n=te(t),i=!1;for(let r of e){let s=r.query,o=n.queries.get(s);if(o){for(let l of o.j_)l.X_(r)&&(i=!0);o.z_=r}}i&&a_(n)}function VP(t,e,n){let i=te(t),r=i.queries.get(e);if(r)for(let s of r.j_)s.onError(n);i.queries.delete(e)}function a_(t){t.Y_.forEach(e=>{e.next()})}var xg,R1;(R1=xg||(xg={})).ea="default",R1.Cache="cache";var gl=class{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new vo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==xg.Cache}};var Ed=class{constructor(e){this.key=e}},Id=class{constructor(e){this.key=e}},Ag=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=Z1(e),this.Ra=new bd(this.Aa)}get Va(){return this.Ta}ma(e,n){let i=n?n.fa:new wd,r=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,m)=>{let g=r.get(f),w=Fd(this.query,m)?m:null,M=!!g&&this.mutatedKeys.has(g.key),O=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations),A=!1;g&&w?g.data.isEqual(w.data)?M!==O&&(i.track({type:3,doc:w}),A=!0):this.ga(g,w)||(i.track({type:2,doc:w}),A=!0,(c&&this.Aa(w,c)>0||u&&this.Aa(w,u)<0)&&(l=!0)):!g&&w?(i.track({type:0,doc:w}),A=!0):g&&!w&&(i.track({type:1,doc:g}),A=!0,(c||u)&&(l=!0)),A&&(w?(o=o.add(w),s=O?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{Ra:o,fa:i,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((f,m)=>function(w,M){let O=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return O(w)-O(M)}(f.type,m.type)||this.Aa(f.doc,m.doc)),this.pa(i),r=r!=null&&r;let l=n&&!r?this.ya():[],c=this.da.size===0&&this.current&&!r?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new vo(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new wd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=pe(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let n=[];return e.forEach(i=>{this.da.has(i)||n.push(new Id(i))}),this.da.forEach(i=>{e.has(i)||n.push(new Ed(i))}),n}ba(e){this.Ta=e.Ts,this.da=pe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return vo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Rg=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},Dg=class{constructor(e){this.key=e,this.va=!1}},Mg=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new pr(l=>Y1(l),Nd),this.Ma=new Map,this.xa=new Set,this.Oa=new Ge(Q.comparator),this.Na=new Map,this.La=new ml,this.Ba={},this.ka=new Map,this.qa=pl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function LP(t,e,n=!0){return v(this,null,function*(){let i=RE(t),r,s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield TE(i,e,n,!0),r})}function UP(t,e){return v(this,null,function*(){let n=RE(t);yield TE(n,e,!0,!1)})}function TE(t,e,n,i){return v(this,null,function*(){let r=yield EP(t.localStore,oi(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",l;return i&&(l=yield BP(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&vE(t.remoteStore,r),l})}function BP(t,e,n,i,r){return v(this,null,function*(){t.Ka=(m,g,w)=>function(O,A,F,$){return v(this,null,function*(){let z=A.view.ma(F);z.ns&&(z=yield S1(O.localStore,A.query,!1).then(({documents:I})=>A.view.ma(I,z)));let B=$&&$.targetChanges.get(A.targetId),Y=$&&$.targetMismatches.get(A.targetId)!=null,W=A.view.applyChanges(z,O.isPrimaryClient,B,Y);return M1(O,A.targetId,W.wa),W.snapshot})}(t,m,g,w);let s=yield S1(t.localStore,e,!0),o=new Ag(e,s.Ts),l=o.ma(s.documents),c=hl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),u=o.applyChanges(l,t.isPrimaryClient,c);M1(t,n,u.wa);let f=new Rg(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot})}function jP(t,e,n){return v(this,null,function*(){let i=te(t),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!Nd(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield pg(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&e_(i.remoteStore,r.targetId),Og(i,r.targetId)}).catch(Il))):(Og(i,r.targetId),yield pg(i.localStore,r.targetId,!0))})}function $P(t,e){return v(this,null,function*(){let n=te(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),e_(n.remoteStore,i.targetId))})}function zP(t,e,n){return v(this,null,function*(){let i=YP(t);try{let r=yield function(o,l){let c=te(o),u=Mt.now(),f=l.reduce((w,M)=>w.add(M.key),pe()),m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let M=Ri(),O=pe();return c.cs.getEntries(w,f).next(A=>{M=A,M.forEach((F,$)=>{$.isValidDocument()||(O=O.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,M)).next(A=>{m=A;let F=[];for(let $ of l){let z=YO($,m.get($.key).overlayedDocument);z!=null&&F.push(new ui($.key,z,z1(z.value.mapValue),ai.exists(!0)))}return c.mutationQueue.addMutationBatch(w,u,F,l)}).next(A=>{g=A;let F=A.applyToLocalDocumentSet(m,O);return c.documentOverlayCache.saveOverlays(w,A.batchId,F)})}).then(()=>({batchId:g.batchId,changes:X1(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,l,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ge(Ee)),u=u.insert(l,c),o.Ba[o.currentUser.toKey()]=u}(i,r.batchId,n),yield Sl(i,r.changes),yield Ud(i.remoteStore)}catch(r){let s=r_(r,"Failed to persist write");n.reject(s)}})}function CE(t,e){return v(this,null,function*(){let n=te(t);try{let i=yield yP(n.localStore,e);e.targetChanges.forEach((r,s)=>{let o=n.Na.get(s);o&&(Ae(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Ae(o.va):r.removedDocuments.size>0&&(Ae(o.va),o.va=!1))}),yield Sl(n,i,e)}catch(i){yield Il(i)}})}function D1(t,e,n){let i=te(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.Fa.forEach((s,o)=>{let l=o.view.Z_(e);l.snapshot&&r.push(l.snapshot)}),function(o,l){let c=te(o);c.onlineState=l;let u=!1;c.queries.forEach((f,m)=>{for(let g of m.j_)g.Z_(l)&&(u=!0)}),u&&a_(c)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function GP(t,e,n){return v(this,null,function*(){let i=te(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Na.get(e),s=r&&r.key;if(s){let o=new Ge(Q.comparator);o=o.insert(s,Nn.newNoDocument(s,ne.min()));let l=pe().add(s),c=new cd(ne.min(),new Map,new Ge(Ee),o,l);yield CE(i,c),i.Oa=i.Oa.remove(s),i.Na.delete(e),l_(i)}else yield pg(i.localStore,e,!1).then(()=>Og(i,e,n)).catch(Il)})}function HP(t,e){return v(this,null,function*(){let n=te(t),i=e.batch.batchId;try{let r=yield vP(n.localStore,e);xE(n,i,null),SE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Sl(n,r)}catch(r){yield Il(r)}})}function WP(t,e,n){return v(this,null,function*(){let i=te(t);try{let r=yield function(o,l){let c=te(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,l).next(m=>(Ae(m!==null),f=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(i.localStore,e);xE(i,e,n),SE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Sl(i,r)}catch(r){yield Il(r)}})}function SE(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function xE(t,e,n){let i=te(t),r=i.Ba[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function Og(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||AE(t,i)})}function AE(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(e_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),l_(t))}function M1(t,e,n){for(let i of n)i instanceof Ed?(t.La.addReference(i.key,e),qP(t,i)):i instanceof Id?(K("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||AE(t,i.key)):X()}function qP(t,e){let n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(K("SyncEngine","New document in limbo: "+n),t.xa.add(i),l_(t))}function l_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new Q(Be.fromString(e)),i=t.qa.next();t.Na.set(i,new Dg(n)),t.Oa=t.Oa.insert(n,i),vE(t.remoteStore,new fl(oi(kd(n.path)),i,"TargetPurposeLimboResolution",U1.oe))}}function Sl(t,e,n){return v(this,null,function*(){let i=te(t),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((l,c)=>{o.push(i.Ka(c,e,n).then(u=>{var f;if((u||n)&&i.isPrimaryClient){let m=u?!u.fromCache:(f=n?.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){r.push(u);let m=ug.Wi(c.targetId,u);s.push(m)}}))}),yield Promise.all(o),i.Ca.d_(r),yield function(c,u){return v(this,null,function*(){let f=te(c);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>L.forEach(u,g=>L.forEach(g.$i,w=>f.persistence.referenceDelegate.addReference(m,g.targetId,w)).next(()=>L.forEach(g.Ui,w=>f.persistence.referenceDelegate.removeReference(m,g.targetId,w)))))}catch(m){if(!Tl(m))throw m;K("LocalStore","Failed to update sequence numbers: "+m)}for(let m of u){let g=m.targetId;if(!m.fromCache){let w=f.os.get(g),M=w.snapshotVersion,O=w.withLastLimboFreeSnapshotVersion(M);f.os=f.os.insert(g,O)}}})}(i.localStore,s))})}function KP(t,e){return v(this,null,function*(){let n=te(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());let i=yield gE(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(c=>{c.reject(new H(k.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Sl(n,i.hs)}})}function QP(t,e){let n=te(t),i=n.Na.get(e);if(i&&i.va)return pe().add(i.key);{let r=pe(),s=n.Ma.get(e);if(!s)return r;for(let o of s){let l=n.Fa.get(o);r=r.unionWith(l.view.Va)}return r}}function RE(t){let e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GP.bind(null,e),e.Ca.d_=FP.bind(null,e.eventManager),e.Ca.$a=VP.bind(null,e.eventManager),e}function YP(t){let e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WP.bind(null,e),e}var Td=class{constructor(){this.synchronizeTabs=!1}initialize(e){return v(this,null,function*(){this.serializer=Vd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return _P(this.persistence,new hg,e.initialUser,this.serializer)}createPersistence(e){return new ag(cg.Zr,this.serializer)}createSharedClientState(e){return new mg}terminate(){return v(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Pg=class{initialize(e,n){return v(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>D1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=KP.bind(null,this.syncEngine),yield NP(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Sg}()}createDatastore(e){let n=Vd(e.databaseInfo.databaseId),i=function(s){return new vg(s)}(e.databaseInfo);return function(s,o,l,c){return new wg(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,l){return new Ig(i,r,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>D1(this.syncEngine,n,0),function(){return gd.D()?new gd:new gg}())}createSyncEngine(e,n){return function(r,s,o,l,c,u,f){let m=new Mg(r,s,o,l,c,u);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return v(this,null,function*(){var e,n;yield function(r){return v(this,null,function*(){let s=te(r);K("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Cl(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var _l=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var kg=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=gt.UNAUTHENTICATED,this.clientId=id.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>v(this,null,function*(){K("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=r_(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function cm(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>v(this,null,function*(){i.isEqual(r)||(yield gE(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function O1(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield JP(t);K("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>x1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>x1(e.remoteStore,r)),t._onlineComponents=e})}function ZP(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function JP(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{yield cm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!ZP(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),yield cm(t,new Td)}}else K("FirestoreClient","Using default OfflineComponentProvider"),yield cm(t,new Td);return t._offlineComponents})}function DE(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),yield O1(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),yield O1(t,new Pg))),t._onlineComponents})}function XP(t){return DE(t).then(e=>e.syncEngine)}function Cd(t){return v(this,null,function*(){let e=yield DE(t),n=e.eventManager;return n.onListen=LP.bind(null,e.syncEngine),n.onUnlisten=jP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$P.bind(null,e.syncEngine),n})}function ek(t,e,n={}){let i=new kn;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(s,o,l,c,u){let f=new _l({next:g=>{o.enqueueAndForget(()=>o_(s,m));let w=g.docs.has(l);!w&&g.fromCache?u.reject(new H(k.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&g.fromCache&&c&&c.source==="server"?u.reject(new H(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new gl(kd(l.path),f,{includeMetadataChanges:!0,_a:!0});return s_(s,m)}(yield Cd(t),t.asyncQueue,e,n,i)})),i.promise}function tk(t,e,n={}){let i=new kn;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(s,o,l,c,u){let f=new _l({next:g=>{o.enqueueAndForget(()=>o_(s,m)),g.fromCache&&c.source==="server"?u.reject(new H(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new gl(l,f,{includeMetadataChanges:!0,_a:!0});return s_(s,m)}(yield Cd(t),t.asyncQueue,e,n,i)})),i.promise}function ME(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var P1=new Map;function OE(t,e,n){if(!n)throw new H(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nk(t,e,n,i){if(e===!0&&i===!0)throw new H(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function k1(t){if(!Q.isDocumentKey(t))throw new H(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function N1(t){if(Q.isDocumentKey(t))throw new H(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function tn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Bd(t);throw new H(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Sd=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new H(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ME((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},yo=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sd(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new um;switch(i.type){case"firstParty":return new pm(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=P1.get(n);i&&(K("ComponentProvider","Removing Datastore"),P1.delete(n),i.terminate())}(this),Promise.resolve()}};function PE(t,e,n,i={}){var r;let s=(t=tn(t,yo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let l,c;if(typeof i.mockUserToken=="string")l=i.mockUserToken,c=gt.MOCK_USER;else{l=uu(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new H(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new gt(u)}t._authCredentials=new dm(new nd(l,c))}}var ls=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},$t=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},hr=class t extends ls{constructor(e,n,i){super(e,n,kd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new Q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function kE(t,e,...n){if(t=Ie(t),OE("collection","path",e),t instanceof yo){let i=Be.fromString(e,...n);return N1(i),new hr(t,null,i)}{if(!(t instanceof $t||t instanceof hr))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Be.fromString(e,...n));return N1(i),new hr(t.firestore,null,i)}}function c_(t,e,...n){if(t=Ie(t),arguments.length===1&&(e=id.newId()),OE("doc","path",e),t instanceof yo){let i=Be.fromString(e,...n);return k1(i),new $t(t,null,new Q(i))}{if(!(t instanceof $t||t instanceof hr))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Be.fromString(e,...n));return k1(i),new $t(t.firestore,t instanceof hr?t.converter:null,new Q(i))}}var Ng=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new _d(this,"async_queue_retry"),this.Eu=()=>{let n=lm();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=lm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new kn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return v(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Tl(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(i=>{this.hu=i,this.Pu=!1;let r=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(i);throw xi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Pu=!1,i))));return this.au=n,n}enqueueAfterDelay(e,n,i){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let r=Tg.createAndSchedule(this,e,n,i,s=>this.Vu(s));return this.lu.push(r),r}du(){this.hu&&X()}verifyOperationInProgress(){}mu(){return v(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function F1(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Vn=class extends yo{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new Ng}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||FE(this),this._firestoreClient.terminate()}};function NE(t,e){let n=typeof t=="object"?t:or(),i=typeof t=="string"?t:e||"(default)",r=jr(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=cu("firestore");s&&PE(r,...s)}return r}function jd(t){return t._firestoreClient||FE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function FE(t){var e,n,i;let r=t._freezeSettings(),s=function(l,c,u,f){return new ym(l,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,ME(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new kg(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var vl=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(zt.fromBase64String(e))}catch(n){throw new H(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var bo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var wo=class{constructor(e){this._methodName=e}};var yl=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var bl=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}};var ik=/^__.*__$/,Fg=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new as(e,this.data,n,this.fieldTransforms)}},xd=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ui(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function VE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}var Vg=class t{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Su({path:i,Du:!1});return r.vu(e),r}Cu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Su({path:i,Du:!1});return r.yu(),r}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Rd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(VE(this.wu)&&ik.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Lg=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Vd(e)}Nu(e,n,i,r=!1){return new Vg({wu:e,methodName:n,Ou:i,path:mn.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function $d(t){let e=t._freezeSettings(),n=Vd(t._databaseId);return new Lg(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LE(t,e,n,i,r,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,r);u_("Data must be an object, but it was:",o,i);let l=UE(i,o),c,u;if(s.merge)c=new In(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let m of s.mergeFields){let g=Bg(e,m,n);if(!o.contains(g))throw new H(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);jE(f,g)||f.push(g)}c=new In(f),u=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=o.fieldTransforms;return new Fg(new pn(l),c,u)}var Ad=class t extends wo{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};var Ug=class t extends wo{_toFieldTransform(e){return new km(e.path,new rs)}isEqual(e){return e instanceof t}};function rk(t,e,n,i){let r=t.Nu(1,e,n);u_("Data must be an object, but it was:",r,i);let s=[],o=pn.empty();cs(i,(c,u)=>{let f=d_(e,c,n);u=Ie(u);let m=r.Cu(f);if(u instanceof Ad)s.push(f);else{let g=xl(u,m);g!=null&&(s.push(f),o.set(f,g))}});let l=new In(s);return new xd(o,l,r.fieldTransforms)}function sk(t,e,n,i,r,s){let o=t.Nu(1,e,n),l=[Bg(e,i,n)],c=[r];if(s.length%2!=0)throw new H(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(Bg(e,s[g])),c.push(s[g+1]);let u=[],f=pn.empty();for(let g=l.length-1;g>=0;--g)if(!jE(u,l[g])){let w=l[g],M=c[g];M=Ie(M);let O=o.Cu(w);if(M instanceof Ad)u.push(w);else{let A=xl(M,O);A!=null&&(u.push(w),f.set(w,A))}}let m=new In(u);return new xd(f,m,o.fieldTransforms)}function ok(t,e,n,i=!1){return xl(n,t.Nu(i?4:3,e))}function xl(t,e){if(BE(t=Ie(t)))return u_("Unsupported field value:",e,t),UE(t,e);if(t instanceof wo)return function(i,r){if(!VE(r.wu))throw r.Mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Mu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let l of i){let c=xl(l,r.Fu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Ie(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return HO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Mt.fromDate(i);return{timestampValue:fd(r.serializer,s)}}if(i instanceof Mt){let s=new Mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:fd(r.serializer,s)}}if(i instanceof yl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof vl)return{bytesValue:cE(r.serializer,i._byteString)};if(i instanceof $t){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Xg(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof bl)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Mu("VectorValues must only contain numeric values.");return Jg(l.serializer,c)})}}}}}}(i,r);throw r.Mu(`Unsupported field value: ${Bd(i)}`)}(t,e)}function UE(t,e){let n={};return B1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(t,(i,r)=>{let s=xl(r,e.bu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function BE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof yl||t instanceof vl||t instanceof $t||t instanceof wo||t instanceof bl)}function u_(t,e,n){if(!BE(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=Bd(n);throw i==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+i)}}function Bg(t,e,n){if((e=Ie(e))instanceof bo)return e._internalPath;if(typeof e=="string")return d_(t,e);throw Rd("Field path arguments must be of type string or ",t,!1,void 0,n)}var ak=new RegExp("[~\\*/\\[\\]]");function d_(t,e,n){if(e.search(ak)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bo(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rd(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new H(k.INVALID_ARGUMENT,l+t+c)}function jE(t,e){return t.some(n=>n.isEqual(e))}var Dd=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new jg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field($E("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},jg=class extends Dd{data(){return super.data()}};function $E(t,e){return typeof e=="string"?d_(t,e):e instanceof bo?e._internalPath:e._delegate._internalPath}function zE(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wl=class{},$g=class extends wl{};function GE(t,e,...n){let i=[];e instanceof wl&&i.push(e),i=i.concat(n),function(s){let o=s.filter(c=>c instanceof Gg).length,l=s.filter(c=>c instanceof zg).length;if(o>1||o>0&&l>0)throw new H(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var zg=class t extends $g{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return HE(e._query,n),new ls(e.firestore,e.converter,Om(e._query,n))}_parse(e){let n=$d(e.firestore);return function(s,o,l,c,u,f,m){let g;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new H(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){L1(m,f);let w=[];for(let M of m)w.push(V1(c,s,M));g={arrayValue:{values:w}}}else g=V1(c,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||L1(m,f),g=ok(l,o,m,f==="in"||f==="not-in");return rt.create(u,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var Gg=class t extends wl{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r,l=s.getFlattenedFilters();for(let c of l)HE(o,c),o=Om(o,c)}(e._query,n),new ls(e.firestore,e.converter,Om(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function V1(t,e,n){if(typeof(n=Ie(n))=="string"){if(n==="")throw new H(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q1(e)&&n.indexOf("/")!==-1)throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(Be.fromString(n));if(!Q.isDocumentKey(i))throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return c1(t,new Q(i))}if(n instanceof $t)return c1(t,n._key);throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bd(n)}.`)}function L1(t,e){if(!Array.isArray(t)||t.length===0)throw new H(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HE(t,e){let n=function(r,s){for(let o of r)for(let l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Hg=class{convertValue(e,n="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return cs(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;let s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>ke(o.doubleValue));return new bl(s)}convertGeoPoint(e){return new yl(ke(e.latitude),ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=Kg(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(cl(e));default:return null}}convertTimestamp(e){let n=Ai(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Be.fromString(e);Ae(mE(i));let r=new ad(i.get(1),i.get(3)),s=new Q(i.popFirst(5));return r.isEqual(n)||xi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function WE(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var Xr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Md=class extends Dd{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ao(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field($E("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},ao=class extends Md{data(e={}){return super.data(e)}},Od=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Xr(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ao(this._firestore,this._userDataWriter,i.key,i,new Xr(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>{let c=new ao(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Xr(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{let c=new ao(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Xr(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,f=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:lk(l.type),doc:c,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function lk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}function qE(t){t=tn(t,$t);let e=tn(t.firestore,Vn);return ek(jd(e),t._key).then(n=>eI(e,t,n))}var El=class extends Hg{constructor(e){super(),this.firestore=e}convertBytes(e){return new vl(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}};function KE(t){t=tn(t,ls);let e=tn(t.firestore,Vn),n=jd(e),i=new El(e);return zE(t._query),tk(n,t._query).then(r=>new Od(e,i,t,r))}function QE(t,e,n){t=tn(t,$t);let i=tn(t.firestore,Vn),r=WE(t.converter,e,n);return zd(i,[LE($d(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,ai.none())])}function YE(t,e,n,...i){t=tn(t,$t);let r=tn(t.firestore,Vn),s=$d(r),o;return o=typeof(e=Ie(e))=="string"||e instanceof bo?sk(s,"updateDoc",t._key,e,n,i):rk(s,"updateDoc",t._key,e),zd(r,[o.toMutation(t._key,ai.exists(!0))])}function ZE(t){return zd(tn(t.firestore,Vn),[new dl(t._key,ai.none())])}function JE(t,e){let n=tn(t.firestore,Vn),i=c_(t),r=WE(t.converter,e);return zd(n,[LE($d(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,ai.exists(!1))]).then(()=>i)}function XE(t,...e){var n,i,r;t=Ie(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||F1(e[o])||(s=e[o],o++);let l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(F1(e[o])){let m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(i=m.error)===null||i===void 0?void 0:i.bind(m),e[o+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}let c,u,f;if(t instanceof $t)u=tn(t.firestore,Vn),f=kd(t._key.path),c={next:m=>{e[o]&&e[o](eI(u,t,m))},error:e[o+1],complete:e[o+2]};else{let m=tn(t,ls);u=tn(m.firestore,Vn),f=m._query;let g=new El(u);c={next:w=>{e[o]&&e[o](new Od(u,g,m,w))},error:e[o+1],complete:e[o+2]},zE(t._query)}return function(g,w,M,O){let A=new _l(O),F=new gl(w,A,M);return g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return s_(yield Cd(g),F)})),()=>{A.za(),g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return o_(yield Cd(g),F)}))}}(jd(u),f,l,c)}function zd(t,e){return function(i,r){let s=new kn;return i.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return zP(yield XP(i),r,s)})),s.promise}(jd(t),e)}function eI(t,e,n){let i=n.docs.get(e._key),r=new El(t);return new Md(t,r,e._key,i,new Xr(n.hasPendingWrites,n.fromCache),e.converter)}function tI(){return new Ug("serverTimestamp")}(function(e,n=!0){(function(r){Eo=r})(ei),Xn(new en("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),l=new Vn(new hm(i.getProvider("auth-internal")),new gm(i.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ad(u.options.projectId,f)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ze(s1,"4.7.1",e),ze(s1,"4.7.1","esm2017")})();var ds=class{constructor(e){return e}},nI="firestore",h_=class{constructor(){return Xa(nI)}};var f_=new ie("angularfire2.firestore-instances");function ck(t,e){let n=$u(nI,t,e);return n&&new ds(n)}function uk(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new ds(i)}}var dk={provide:h_,deps:[[new ln,f_]]},hk={provide:ds,useFactory:ck,deps:[[new ln,f_],Ci]};function iI(t,...e){return ze("angularfire",Kr.full,"fst"),Hn([hk,dk,{provide:f_,useFactory:uk(t),multi:!0,deps:[ge,cn,eo,Qr,[new ln,el],[new ln,Xs],...e]}])}var p_=Dt(JE,!0);var di=Dt(kE,!0);var m_=Dt(ZE,!0);var hs=Dt(c_,!0);var rI=Dt(qE,!0);var fs=Dt(KE,!0);var sI=Dt(NE,!0);var g_=Dt(XE,!0);var __=Dt(GE,!0);var v_=Dt(tI,!0),y_=Dt(QE,!0);var b_=Dt(YE,!0);var fI="firebasestorage.googleapis.com",pI="storageBucket",fk=2*60*1e3,pk=10*60*1e3,mk=1e3;var je=class t extends qt{constructor(e,n,i=0){super(w_(e),`Firebase Storage: ${n} (${w_(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return w_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ne=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Ne||{});function w_(t){return"storage/"+t}function D_(){let t="An unknown error occurred, please check the error payload for server response.";return new je(Ne.UNKNOWN,t)}function gk(t){return new je(Ne.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function _k(t){return new je(Ne.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vk(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new je(Ne.UNAUTHENTICATED,t)}function yk(){return new je(Ne.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bk(t){return new je(Ne.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function mI(){return new je(Ne.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gI(){return new je(Ne.CANCELED,"User canceled the upload/download.")}function wk(t){return new je(Ne.INVALID_URL,"Invalid URL '"+t+"'.")}function Ek(t){return new je(Ne.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ik(){return new je(Ne.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pI+"' property when initializing the app?")}function _I(){return new je(Ne.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Tk(){return new je(Ne.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Ck(){return new je(Ne.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Sk(t){return new je(Ne.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function I_(t){return new je(Ne.INVALID_ARGUMENT,t)}function vI(){return new je(Ne.APP_DELETED,"The Firebase app was deleted.")}function xk(t){return new je(Ne.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rl(t,e){return new je(Ne.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Al(t){throw new je(Ne.INTERNAL_ERROR,"Internal error: "+t)}var Ln=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(i.path==="")return i;throw Ek(e)}static makeFromUrl(e,n){let i=null,r="([A-Za-z0-9.\\-_]+)";function s(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}let o="(/(.*))?$",l=new RegExp("^gs://"+r+o,"i"),c={bucket:1,path:3};function u(B){B.path_=decodeURIComponent(B.path)}let f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",w=new RegExp(`^https?://${m}/${f}/b/${r}/o${g}`,"i"),M={bucket:1,path:3},O=n===fI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",F=new RegExp(`^https?://${O}/${r}/${A}`,"i"),z=[{regex:l,indices:c,postModify:s},{regex:w,indices:M,postModify:u},{regex:F,indices:{bucket:1,path:2},postModify:u}];for(let B=0;B<z.length;B++){let Y=z[B],W=Y.regex.exec(e);if(W){let I=W[Y.indices.bucket],_=W[Y.indices.path];_||(_=""),i=new t(I,_),Y.postModify(i);break}}if(i==null)throw wk(e);return i}},T_=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Ak(t,e,n){let i=1,r=null,s=null,o=!1,l=0;function c(){return l===2}let u=!1;function f(...A){u||(u=!0,e.apply(null,A))}function m(A){r=setTimeout(()=>{r=null,t(w,c())},A)}function g(){s&&clearTimeout(s)}function w(A,...F){if(u){g();return}if(A){g(),f.call(null,A,...F);return}if(c()||o){g(),f.call(null,A,...F);return}i<64&&(i*=2);let z;l===1?(l=2,z=0):z=(i+Math.random())*1e3,m(z)}let M=!1;function O(A){M||(M=!0,g(),!u&&(r!==null?(A||(l=2),clearTimeout(r),m(0)):A||(l=1)))}return m(0),s=setTimeout(()=>{o=!0,O(!0)},n),O}function Rk(t){t(!1)}function Dk(t){return t!==void 0}function Mk(t){return typeof t=="function"}function Ok(t){return typeof t=="object"&&!Array.isArray(t)}function qd(t){return typeof t=="string"||t instanceof String}function oI(t){return M_()&&t instanceof Blob}function M_(){return typeof Blob<"u"}function aI(t,e,n,i){if(i<e)throw I_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw I_(`Invalid value for '${t}'. Expected ${n} or less.`)}function Ol(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function yI(t){let e=encodeURIComponent,n="?";for(let i in t)if(t.hasOwnProperty(i)){let r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var xo=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(xo||{});function bI(t,e){let n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}var C_=class{constructor(e,n,i,r,s,o,l,c,u,f,m,g=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,M)=>{this.resolve_=w,this.reject_=M,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new So(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=l=>{let c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let l=s.getErrorCode()===xo.NO_ERROR,c=s.getStatus();if(!l||bI(c,this.additionalRetryCodes_)&&this.retry){let f=s.getErrorCode()===xo.ABORT;i(!1,new So(!1,null,f));return}let u=this.successCodes_.indexOf(c)!==-1;i(!0,new So(u,s))})},n=(i,r)=>{let s=this.resolve_,o=this.reject_,l=r.connection;if(r.wasSuccessCode)try{let c=this.callback_(l,l.getResponse());Dk(c)?s(c):s()}catch(c){o(c)}else if(l!==null){let c=D_();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(r.canceled){let c=this.appDelete_?vI():gI();o(c)}else{let c=mI();o(c)}};this.canceled_?n(!1,new So(!1,null,!0)):this.backoffId_=Ak(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Rk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},So=class{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}};function Pk(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kk(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Nk(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Fk(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Vk(t,e,n,i,r,s,o=!0){let l=yI(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return Nk(u,e),Pk(u,n),kk(u,s),Fk(u,i),new C_(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}function Lk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Uk(...t){let e=Lk();if(e!==void 0){let n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(M_())return new Blob(t);throw new je(Ne.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Bk(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function jk(t){if(typeof atob>"u")throw Sk("base-64");return atob(t)}var hi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Dl=class{constructor(e,n){this.data=e,this.contentType=n||null}};function $k(t,e){switch(t){case hi.RAW:return new Dl(wI(e));case hi.BASE64:case hi.BASE64URL:return new Dl(EI(t,e));case hi.DATA_URL:return new Dl(Gk(e),Hk(e))}throw D_()}function wI(t){let e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=i,o=t.charCodeAt(++n);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function zk(t){let e;try{e=decodeURIComponent(t)}catch{throw Rl(hi.DATA_URL,"Malformed data URL.")}return wI(e)}function EI(t,e){switch(t){case hi.BASE64:{let r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw Rl(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case hi.BASE64URL:{let r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw Rl(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=jk(e)}catch(r){throw r.message.includes("polyfill")?r:Rl(t,"Invalid character found")}let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}var Hd=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rl(hi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=n[1]||null;i!=null&&(this.base64=Wk(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function Gk(t){let e=new Hd(t);return e.base64?EI(hi.BASE64,e.rest):zk(e.rest)}function Hk(t){return new Hd(t).contentType}function Wk(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Wd=class t{constructor(e,n){let i=0,r="";oI(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(oI(this.data_)){let i=this.data_,r=Bk(i,e,n);return r===null?null:new t(r)}else{let i=new Uint8Array(this.data_.buffer,e,n-e);return new t(i,!0)}}static getBlob(...e){if(M_()){let n=e.map(i=>i instanceof t?i.data_:i);return new t(Uk.apply(null,n))}else{let n=e.map(o=>qd(o)?$k(hi.RAW,o).data:o.data_),i=0;n.forEach(o=>{i+=o.byteLength});let r=new Uint8Array(i),s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)r[s++]=o[l]}),new t(r,!0)}}uploadData(){return this.data_}};function II(t){let e;try{e=JSON.parse(t)}catch{return null}return Ok(e)?e:null}function qk(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Kk(t,e){let n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function TI(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function Qk(t,e){return e}var Ot=class{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||Qk}},Gd=null;function Yk(t){return!qd(t)||t.length<2?t:TI(t)}function CI(){if(Gd)return Gd;let t=[];t.push(new Ot("bucket")),t.push(new Ot("generation")),t.push(new Ot("metageneration")),t.push(new Ot("name","fullPath",!0));function e(s,o){return Yk(o)}let n=new Ot("name");n.xform=e,t.push(n);function i(s,o){return o!==void 0?Number(o):o}let r=new Ot("size");return r.xform=i,t.push(r),t.push(new Ot("timeCreated")),t.push(new Ot("updated")),t.push(new Ot("md5Hash",null,!0)),t.push(new Ot("cacheControl",null,!0)),t.push(new Ot("contentDisposition",null,!0)),t.push(new Ot("contentEncoding",null,!0)),t.push(new Ot("contentLanguage",null,!0)),t.push(new Ot("contentType",null,!0)),t.push(new Ot("metadata","customMetadata",!0)),Gd=t,Gd}function Zk(t,e){function n(){let i=t.bucket,r=t.fullPath,s=new Ln(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Jk(t,e,n){let i={};i.type="file";let r=n.length;for(let s=0;s<r;s++){let o=n[s];i[o.local]=o.xform(i,e[o.server])}return Zk(i,t),i}function SI(t,e,n){let i=II(e);return i===null?null:Jk(t,i,n)}function Xk(t,e,n,i){let r=II(e);if(r===null||!qd(r.downloadTokens))return null;let s=r.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(u=>{let f=t.bucket,m=t.fullPath,g="/b/"+o(f)+"/o/"+o(m),w=Ol(g,n,i),M=yI({alt:"media",token:u});return w+M})[0]}function xI(t,e){let n={},i=e.length;for(let r=0;r<i;r++){let s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var gr=class{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Di(t){if(!t)throw D_()}function O_(t,e){function n(i,r){let s=SI(t,r,e);return Di(s!==null),s}return n}function eN(t,e){function n(i,r){let s=SI(t,r,e);return Di(s!==null),Xk(s,r,t.host,t._protocol)}return n}function Pl(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=yk():r=vk():n.getStatus()===402?r=_k(t.bucket):n.getStatus()===403?r=bk(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function AI(t){let e=Pl(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=gk(t.path)),s.serverResponse=r.serverResponse,s}return n}function tN(t,e,n){let i=e.fullServerUrl(),r=Ol(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new gr(r,s,O_(t,n),o);return l.errorHandler=AI(e),l}function nN(t,e,n){let i=e.fullServerUrl(),r=Ol(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new gr(r,s,eN(t,n),o);return l.errorHandler=AI(e),l}function iN(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function RI(t,e,n){let i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=iN(null,e)),i}function rN(t,e,n,i,r){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let z="";for(let B=0;B<2;B++)z=z+Math.random().toString().slice(2);return z}let c=l();o["Content-Type"]="multipart/related; boundary="+c;let u=RI(e,i,r),f=xI(u,n),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,g=`\r
--`+c+"--",w=Wd.getBlob(m,i,g);if(w===null)throw _I();let M={name:u.fullPath},O=Ol(s,t.host,t._protocol),A="POST",F=t.maxUploadRetryTime,$=new gr(O,A,O_(t,n),F);return $.urlParams=M,$.headers=o,$.body=w.uploadData(),$.errorHandler=Pl(e),$}var Ao=class{constructor(e,n,i,r){this.current=e,this.total=n,this.finalized=!!i,this.metadata=r||null}};function P_(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Di(!1)}return Di(!!n&&(e||["active"]).indexOf(n)!==-1),n}function sN(t,e,n,i,r){let s=e.bucketOnlyServerUrl(),o=RI(e,i,r),l={name:o.fullPath},c=Ol(s,t.host,t._protocol),u="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},m=xI(o,n),g=t.maxUploadRetryTime;function w(O){P_(O);let A;try{A=O.getResponseHeader("X-Goog-Upload-URL")}catch{Di(!1)}return Di(qd(A)),A}let M=new gr(c,u,w,g);return M.urlParams=l,M.headers=f,M.body=m,M.errorHandler=Pl(e),M}function oN(t,e,n,i){let r={"X-Goog-Upload-Command":"query"};function s(u){let f=P_(u,["active","final"]),m=null;try{m=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Di(!1)}m||Di(!1);let g=Number(m);return Di(!isNaN(g)),new Ao(g,i.size(),f==="final")}let o="POST",l=t.maxUploadRetryTime,c=new gr(n,o,s,l);return c.headers=r,c.errorHandler=Pl(e),c}var lI=256*1024;function aN(t,e,n,i,r,s,o,l){let c=new Ao(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw Tk();let u=c.total-c.current,f=u;r>0&&(f=Math.min(f,r));let m=c.current,g=m+f,w="";f===0?w="finalize":u===f?w="upload, finalize":w="upload";let M={"X-Goog-Upload-Command":w,"X-Goog-Upload-Offset":`${c.current}`},O=i.slice(m,g);if(O===null)throw _I();function A(B,Y){let W=P_(B,["active","final"]),I=c.current+f,_=i.size(),y;return W==="final"?y=O_(e,s)(B,Y):y=null,new Ao(I,_,W==="final",y)}let F="POST",$=e.maxUploadRetryTime,z=new gr(n,F,A,$);return z.headers=M,z.body=O.uploadData(),z.progressCallback=l||null,z.errorHandler=Pl(t),z}var nn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function E_(t){switch(t){case"running":case"pausing":case"canceling":return nn.RUNNING;case"paused":return nn.PAUSED;case"success":return nn.SUCCESS;case"canceled":return nn.CANCELED;case"error":return nn.ERROR;default:return nn.ERROR}}var S_=class{constructor(e,n,i){if(Mk(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function To(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var cI=null,x_=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw Al("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(let s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Al("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Al("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Al("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Al("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},A_=class extends x_{initXhr(){this.xhr_.responseType="text"}};function Co(){return cI?cI():new A_}var R_=class{constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=CI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Ne.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(bI(r.status,[]))if(s)r=mI();else{this.sleepTime=Math.max(this.sleepTime*2,mk),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Ne.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let i=sN(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Co,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,i)=>{let r=oN(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Co,n,i);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=lI*this._chunkMultiplier,n=new Ao(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=aN(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}let l=this._ref.storage._makeRequest(o,Co,r,s,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){lI*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let i=tN(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Co,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let i=rN(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Co,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=gI(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=E_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,r){let s=new S_(n||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(E_(this._state)){case nn.SUCCESS:To(this._resolve.bind(null,this.snapshot))();break;case nn.CANCELED:case nn.ERROR:let n=this._reject;To(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(E_(this._state)){case nn.RUNNING:case nn.PAUSED:e.next&&To(e.next.bind(e,this.snapshot))();break;case nn.SUCCESS:e.complete&&To(e.complete.bind(e))();break;case nn.CANCELED:case nn.ERROR:e.error&&To(e.error.bind(e,this._error))();break;default:e.error&&To(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var Ro=class t{constructor(e,n){this._service=e,n instanceof Ln?this._location=n:this._location=Ln.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TI(this._location.path)}get storage(){return this._service}get parent(){let e=qk(this._location.path);if(e===null)return null;let n=new Ln(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xk(e)}};function lN(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new R_(t,new Wd(e),n)}function cN(t){t._throwIfRoot("getDownloadURL");let e=nN(t.storage,t._location,CI());return t.storage.makeRequestWithTokens(e,Co).then(n=>{if(n===null)throw Ck();return n})}function uN(t,e){let n=Kk(t._location.path,e),i=new Ln(t._location.bucket,n);return new Ro(t.storage,i)}function dN(t){return/^[A-Za-z]+:\/\//.test(t)}function hN(t,e){return new Ro(t,e)}function DI(t,e){if(t instanceof Ml){let n=t;if(n._bucket==null)throw Ik();let i=new Ro(n,n._bucket);return e!=null?DI(i,e):i}else return e!==void 0?uN(t,e):t}function fN(t,e){if(e&&dN(e)){if(t instanceof Ml)return hN(t,e);throw I_("To use ref(service, url), the first argument must be a Storage instance.")}else return DI(t,e)}function uI(t,e){let n=e?.[pI];return n==null?null:Ln.makeFromBucketSpec(n,t)}function pN(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:uu(r,t.app.options.projectId))}var Ml=class{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=fI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fk,this._maxUploadRetryTime=pk,this._requests=new Set,r!=null?this._bucket=Ln.makeFromBucketSpec(r,this._host):this._bucket=uI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=uI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return v(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return v(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ro(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new T_(vI());{let o=Vk(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return v(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()})}},dI="@firebase/storage",hI="0.13.1";var MI="storage";function OI(t,e,n){return t=Ie(t),lN(t,e,n)}function PI(t){return t=Ie(t),cN(t)}function kI(t,e){return t=Ie(t),fN(t,e)}function NI(t=or(),e){t=Ie(t);let i=jr(t,MI).getImmediate({identifier:e}),r=cu("storage");return r&&mN(i,...r),i}function mN(t,e,n,i={}){pN(t,e,n,i)}function gN(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Ml(n,i,r,e,ei)}function _N(){Xn(new en(MI,gN,"PUBLIC").setMultipleInstances(!0)),ze(dI,hI,""),ze(dI,hI,"esm2017")}_N();var Pt=[];for(let t=0;t<256;++t)Pt.push((t+256).toString(16).slice(1));function FI(t,e=0){return(Pt[t[e+0]]+Pt[t[e+1]]+Pt[t[e+2]]+Pt[t[e+3]]+"-"+Pt[t[e+4]]+Pt[t[e+5]]+"-"+Pt[t[e+6]]+Pt[t[e+7]]+"-"+Pt[t[e+8]]+Pt[t[e+9]]+"-"+Pt[t[e+10]]+Pt[t[e+11]]+Pt[t[e+12]]+Pt[t[e+13]]+Pt[t[e+14]]+Pt[t[e+15]]).toLowerCase()}var k_,vN=new Uint8Array(16);function N_(){if(!k_){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");k_=crypto.getRandomValues.bind(crypto)}return k_(vN)}var yN=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),F_={randomUUID:yN};function bN(t,e,n){if(F_.randomUUID&&!e&&!t)return F_.randomUUID();t=t||{};let i=t.random||(t.rng||N_)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=i[r];return e}return FI(i)}var V_=bN;var Tn=(()=>{let e=class e{constructor(i){this.auth=i,this.wishes=[],this.feedbacks=[],this.wishlistsSubject=new It([]),this.wishlists$=this.wishlistsSubject.asObservable(),this.emails=[],this.photoUrl="",this.selectedPriority="",this.userName="",this.firestore=j(ds),this.currentUser=null,this.dialog=j(yn),this.unsubFeedback=this.subFeedbackList(),this.auth.user$.subscribe(r=>{this.currentUser=r,r&&(this.subscribeToUserWishes(r.uid),this.userName=r.displayName)})}changePicture(i){this.file=i.target.files[0]}addWish(i){return v(this,null,function*(){let r=this.auth.authInstance.currentUser;if(this.file){let s=NI(),o=kI(s,`images/${this.file.name}`),l=yield OI(o,this.file);this.photoUrl=yield PI(l.ref),i.image=this.photoUrl}r&&(yield p_(this.getWishesRef(r.uid),i))})}addFeedback(i){return v(this,null,function*(){yield p_(this.getFeedbackRef(),i).catch(r=>{console.error(r)}).then(r=>{console.log("Document written: ",r)})})}ngOnDestroy(){this.unsubFeedback&&this.unsubFeedback()}generateOrGetShareCode(){return v(this,null,function*(){let i=this.auth.authInstance.currentUser;if(!i)return console.error("Kein angemeldeter Benutzer."),null;try{let r=this.getSharedRef(i.uid),s=yield fs(r),o;if(!s.empty)o=s.docs[0].data().shareCode;else{o=V_();let c=di(this.firestore,"shareCodes");yield y_(hs(c,o),{userId:i.uid,owner:i.displayName,createdAt:v_()}),yield y_(hs(r),{shareCode:o,createdAt:v_(),owner:i.displayName})}let l=`http://localhost:4200/wishes/share?shareCode=${o}`;return o}catch(r){return console.error("Error in generateOrGetShareCode:",r),null}})}getWishesByShareCode(i){return v(this,null,function*(){let r=hs(this.firestore,"shareCodes",i),s=yield rI(r);if(!s.exists()){console.error("Kein Share-Code gefunden.");try{(yield fs(di(this.firestore,"shareCodes"))).forEach(w=>{})}catch(g){console.error("Error listing all shareCodes:",g)}try{let g=di(this.firestore,"users"),w=__(g),M=yield fs(w);for(let O of M.docs){let A=__(di(this.firestore,`users/${O.id}/sharedCode`));(yield fs(A)).forEach($=>{$.data().shareCode===i&&console.log("MATCH FOUND in user collection!")})}}catch(g){console.error("Error with fallback method:",g)}return{owner:void 0,wishes:[]}}let o=s.data(),l=o.userId,c=o.owner||null;if(!l)return console.error("Share-Code enth\xE4lt keine UserId."),{owner:void 0,wishes:[]};let u=di(this.firestore,`users/${l}/wishes`),m=(yield fs(u)).docs.map(g=>q({id:g.id},g.data()));return{owner:c,wishes:m}})}subscribeToUserWishes(i){let r=this.getWishesRef(i);return g_(r,s=>{this.wishes=[],s.forEach(o=>{this.wishes.push(q({id:o.id},o.data()))}),this.wishlistsSubject.next(this.wishes)})}subFeedbackList(){return g_(this.getFeedbackRef(),i=>{this.feedbacks=[],i.forEach(r=>{this.feedbacks.push(this.setFeedbackObject(r.data(),r.id))})})}setPriority(i){this.selectedPriority=i}updateWish(i){return v(this,null,function*(){let r=this.auth.authInstance.currentUser;if(r&&i.id){let s=hs(this.getWishesRef(r.uid),i.id);yield b_(s,this.getCleanJson(i))}})}updateLikes(i){return v(this,null,function*(){if(i.id){let r=this.getSingleDocRef(this.getColIdFromFeedback(i),i.id);yield b_(r,{likes:i.likes+1})}})}deleteOldWishes(i){return v(this,null,function*(){let r=i,s=this.auth.authInstance.currentUser;if(s){let o=this.getWishesRef(s.uid),l=yield fs(o);for(let c of l.docs){let u=c.data();u.completed===!0&&u.completedAt<r&&(yield m_(c.ref))}}})}deleteWish(i){return v(this,null,function*(){let r=this.auth.authInstance.currentUser;if(r&&i.id){let s=hs(this.getWishesRef(r.uid),i.id);yield m_(s)}})}getCleanJson(i){return{type:i.type,wish:i.wish,link:i.link,priority:i.priority,image:i.image,completedAt:i.completedAt,completed:i.completed,owener:i.owener}}getCleanFeedbackJson(i){return{type:i.type,feedback:i.feedback,likes:i.likes}}getColIdFromWish(i){return i.type==="wish"?"wishes":i.type}getColIdFromFeedback(i){return i.type==="feedback"?"feedback":i.type}getWishesRef(i){return di(this.firestore,`users/${i}/wishes`)}getFeedbackRef(){return di(this.firestore,"feedback")}getSharedRef(i){return di(this.firestore,`users/${i}/sharedCode`)}setFeedbackObject(i,r){return{id:r,feedback:i.feedback||"",type:i.type||"feedback",likes:i.likes||0}}getSingleDocRef(i,r){return hs(di(this.firestore,i),r)}};e.\u0275fac=function(r){return new(r||e)(Oe(mt))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wN(t,e){if(t&1&&(x(0,"mat-option",6),N(1),R()),t&2){let n=e.$implicit;J("value",n),V(),Zt(" ",n," ")}}var VI=(()=>{let e=class e{constructor(i,r){this.dialogRef=i,this.firebase=r,this.priorityOptions=["Niedrig","Mittel","Hoch"],this.selectedPriority=""}onCancel(){this.dialogRef.close()}onSave(){this.dialogRef.close({priority:this.selectedPriority})}};e.\u0275fac=function(r){return new(r||e)(P(Qn),P(Tn))},e.\u0275cmp=ce({type:e,selectors:[["app-change-prio"]],standalone:!0,features:[ue],decls:13,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"valueChange","value"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","",3,"click"],[3,"value"]],template:function(r,s){r&1&&(x(0,"h1",0),N(1,"Priorit\xE4t \xE4ndern"),R(),x(2,"div",1)(3,"mat-form-field")(4,"mat-label"),N(5,"Priorit\xE4t"),R(),x(6,"mat-select",2),Ze("valueChange",function(l){return Ye(s.selectedPriority,l)||(s.selectedPriority=l),l}),me(7,wN,2,2,"mat-option",3),R()()(),x(8,"div",4)(9,"button",5),G("click",function(){return s.onCancel()}),N(10,"Abbrechen"),R(),x(11,"button",5),G("click",function(){return s.onSave()}),N(12,"Speichern"),R()()),r&2&&(V(6),Qe("value",s.selectedPriority),V(),J("ngForOf",s.priorityOptions))},dependencies:[ft,qi,Ic,Ec,Rc,Sc,Ac,xc,yi,su,qs,ou,n1,t1,wc]});let t=e;return t})();var L_=class{constructor(e,n){this._document=n;let i=this._textarea=this._document.createElement("textarea"),r=i.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",i.setAttribute("aria-hidden","true"),i.value=e,i.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(i)}copy(){let e=this._textarea,n=!1;try{if(e){let i=this._document.activeElement;e.select(),e.setSelectionRange(0,e.value.length),n=this._document.execCommand("copy"),i&&i.focus()}}catch{}return n}destroy(){let e=this._textarea;e&&(e.remove(),this._textarea=void 0)}},LI=(()=>{let e=class e{constructor(i){this._document=i}copy(i){let r=this.beginCopy(i),s=r.copy();return r.destroy(),s}beginCopy(i){return new L_(i,this._document)}};e.\u0275fac=function(r){return new(r||e)(Oe(_n))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _r=(()=>{let e=class e{constructor(i,r,s,o,l){this.firebase=i,this.auth=r,this.router=s,this.dialog=o,this.clipboard=l,this.savedDate=null,this.currentDate=new Date,this.showBigImg=!1,this.previewImage=!1,this.wishLength=0,this.displayLink="",this.isRestrictedRoute=!1,this.userLoggedIn=!1,this.savedDate=localStorage.getItem("formattedDate")}waitForUser(){let i=setInterval(()=>{this.auth.authInstance.currentUser?(this.userLoggedIn=!0,console.log("User is authenticated"),clearInterval(i),this.deleteOlderWishes()):console.log("Waiting for user to authenticate...")},1e3)}copyToClipboard(i){this.clipboard.copy(i)}shareWishList(){return v(this,null,function*(){let i=yield this.firebase.generateOrGetShareCode();if(i){let r=`http://localhost:4200/wishes/share?shareCode=${i}`;this.copyToClipboard(r);let{ShareLinkComponent:s}=yield import("./chunk-WMMCVXAX.js");this.dialog.open(s,{width:"500px",data:{shareLink:r}})}})}deleteOlderWishes(){let i=this.formatDate(this.currentDate),r=this.savedDate?this.savedDate:null;if(r){let s=this.parseDate(r),o=this.parseDate(i);console.log(o),s<o?(this.firebase.deleteOldWishes(r),localStorage.clear()):console.log("Saved date is newer or same.")}else console.log("No saved date in localStorage.")}formatDate(i){let r=i.getDate().toString().padStart(2,"0"),s=(i.getMonth()+1).toString().padStart(2,"0"),o=i.getFullYear();return`${r}.${s}.${o}`}parseDate(i){let[r,s,o]=i.split(".").map(Number);return new Date(o,s-1,r)}openImage(i){this.showBigImg=!0,this.previewImage=!0,this.currentBigImage=i,this.presentedImage=i}closeImage(){this.showBigImg=!1,this.previewImage=!1}};e.\u0275fac=function(r){return new(r||e)(Oe(Tn),Oe(mt),Oe(Pe),Oe(yn),Oe(LI))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IN(t,e){if(t&1){let n=tt();x(0,"tr")(1,"td",10),G("click",function(){let r=re(n).$implicit,s=le();return se(s.changePriority(r))}),N(2),R(),x(3,"td")(4,"img",11),G("click",function(){let r=re(n).$implicit,s=le();return se(s.help.openImage(r.image))}),R()(),x(5,"td")(6,"a",12),N(7),R()(),x(8,"td")(9,"button",13),G("click",function(){let r=re(n).$implicit,s=le();return se(s.deleteWish(r))}),N(10,"L\xF6schen"),R()()()}if(t&2){let n=e.$implicit,i=le();V(),J("ngStyle",i.getPriorityStyle(n.priority)),V(),Zt("",n.wish," "),V(2),J("src",n.image,Wi),V(2),Os("href","`$",n.link,"`",Wi),V(),xt(n.link)}}function TN(t,e){t&1&&(x(0,"td",14),N(1,"Keine W\xFCnsche vorhanden"),R())}function CN(t,e){if(t&1&&(x(0,"div"),De(1,"img",18),R()),t&2){let n=le(2);V(),cc("src",n.help.currentBigImage,Wi)}}function SN(t,e){if(t&1){let n=tt();x(0,"div",15)(1,"mat-icon",16),G("click",function(){re(n);let r=le();return se(r.help.closeImage())}),N(2," close "),R(),me(3,CN,2,1,"div",17),R()}if(t&2){let n=le();V(3),J("ngIf",n.help.previewImage)}}var UI=(()=>{let e=class e{constructor(i,r,s,o){this.firebase=i,this.router=r,this.dialog=s,this.help=o,this.test=!0,this.wishes$=this.firebase.wishlists$}ngOnInit(){this.help.waitForUser()}trackByWishId(i,r){return r.id}deleteWish(i){this.firebase.deleteWish(i)}navigateToAddWish(){this.router.navigate(["/addWishes"])}getPriorityStyle(i){switch(i){case"Hoch":return{color:"red"};case"Mittel":return{color:"yellow"};case"Niedrig":return{color:"#32CD32"};default:return{}}}changePriority(i){this.dialog.open(VI,{width:"250px",data:{wish:i}}).afterClosed().subscribe(s=>{s&&(i.priority=s.priority,this.firebase.updateWish(i))})}};e.\u0275fac=function(r){return new(r||e)(P(Tn),P(Pe),P(yn),P(_r))},e.\u0275cmp=ce({type:e,selectors:[["app-wishes"]],standalone:!0,features:[ue],decls:23,vars:11,consts:[[1,"wishes-container"],[1,"headline"],[1,"wishes"],[1,"table"],[1,"first_tr"],[4,"ngFor","ngForOf","ngForTrackBy"],["colspan","4",4,"ngIf"],[1,"addWishBtn"],[3,"click","disabled"],["class","bigImagebox",4,"ngIf"],[3,"click","ngStyle"],[3,"click","src"],[3,"href"],[3,"click"],["colspan","4"],[1,"bigImagebox"],["aria-hidden","false",3,"click"],[4,"ngIf"],["alt","",1,"bigImage",3,"src"]],template:function(r,s){if(r&1&&(x(0,"section",0)(1,"h1",1),N(2,"W\xFCnsche"),R(),x(3,"div",2)(4,"table",3)(5,"tr",4)(6,"th"),N(7,"Wunsch"),R(),x(8,"th"),N(9,"Bild"),R(),x(10,"th"),N(11,"Link"),R(),x(12,"th"),N(13,"Aktionen"),R()(),me(14,IN,11,6,"tr",5),uc(15,"async"),x(16,"tr"),me(17,TN,2,0,"td",6),uc(18,"async"),R(),x(19,"div",7)(20,"button",8),G("click",function(){return s.navigateToAddWish()}),N(21,"Wunsch hinzuf\xFCgen"),R()()(),me(22,SN,4,1,"div",9),R()()),r&2){let o;V(14),J("ngForOf",dc(15,7,s.wishes$))("ngForTrackBy",s.trackByWishId),V(3),J("ngIf",((o=dc(18,9,s.wishes$))==null?null:o.length)===0),V(3),Ue("opacity",!s.test),J("disabled",!s.test),V(2),J("ngIf",s.help.showBigImg)}},dependencies:[ft,qi,gc,_c,Rv,Zi,Yi],styles:[".headline[_ngcontent-%COMP%]{position:fixed;top:60px;left:10px}.table[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100vw;position:fixed;top:170px;left:0;padding:0 5px}.table[_ngcontent-%COMP%]   .first_tr[_ngcontent-%COMP%]{justify-content:space-between!important;margin-bottom:20px}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:baseline}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{margin-bottom:20px}.table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff!important;background-color:unset!important}.table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:4px!important;background-color:#fff!important}.table[_ngcontent-%COMP%]   .addWishBtn[_ngcontent-%COMP%]{display:flex;justify-content:center}.table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:0!important;width:100px;height:50px;object-fit:cover}.table[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]{opacity:.5}.table[_ngcontent-%COMP%]   button.opacity[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bigImagebox[_ngcontent-%COMP%]{z-index:99;position:absolute;top:110px;left:28px}.bigImage[_ngcontent-%COMP%]{width:360px}"]});let t=e;return t})();var BI=(()=>{let e=class e{constructor(i,r){this.auth=i,this.router=r,this.name="",this.email="",this.password=""}register(){this.auth.createUser(this.email,this.password,this.name)}};e.\u0275fac=function(r){return new(r||e)(P(mt),P(Pe))},e.\u0275cmp=ce({type:e,selectors:[["app-registration"]],standalone:!0,features:[ue],decls:17,vars:3,consts:[[1,"registration-form"],[1,"form-group"],["for","name"],["type","text","id","name","placeholder","Bitte Name angeben","required","",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","placeholder","Bitte E-Mail angeben","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","placeholder","Bitte Passwort eingeben","required","",3,"ngModelChange","ngModel"],["type","submit",3,"click"]],template:function(r,s){r&1&&(x(0,"div",0)(1,"h2"),N(2,"Registrieren"),R(),x(3,"div",1)(4,"label",2),N(5,"Name"),R(),x(6,"input",3),Ze("ngModelChange",function(l){return Ye(s.name,l)||(s.name=l),l}),R()(),x(7,"div",1)(8,"label",4),N(9,"E-Mail"),R(),x(10,"input",5),Ze("ngModelChange",function(l){return Ye(s.email,l)||(s.email=l),l}),R()(),x(11,"div",1)(12,"label",6),N(13,"Passwort"),R(),x(14,"input",7),Ze("ngModelChange",function(l){return Ye(s.password,l)||(s.password=l),l}),R()(),x(15,"button",8),G("click",function(){return s.register()}),N(16,"Registrieren"),R()()),r&2&&(V(6),Qe("ngModel",s.name),V(4),Qe("ngModel",s.email),V(4),Qe("ngModel",s.password))},dependencies:[ft,Xt,Jt,wn,Lr,fn],styles:[".form-group[_ngcontent-%COMP%]{margin-top:15px}label[_ngcontent-%COMP%]{margin-right:5px}button[_ngcontent-%COMP%]{margin-top:15px}"]});let t=e;return t})();var st="top",kt="bottom",_t="right",ct="left",Yd="auto",vr=[st,kt,_t,ct],Mi="start",ps="end",jI="clippingParents",Zd="viewport",Mo="popper",$I="reference",B_=vr.reduce(function(t,e){return t.concat([e+"-"+Mi,e+"-"+ps])},[]),Jd=[].concat(vr,[Yd]).reduce(function(t,e){return t.concat([e,e+"-"+Mi,e+"-"+ps])},[]),xN="beforeRead",AN="read",RN="afterRead",DN="beforeMain",MN="main",ON="afterMain",PN="beforeWrite",kN="write",NN="afterWrite",zI=[xN,AN,RN,DN,MN,ON,PN,kN,NN];function vt(t){return t?(t.nodeName||"").toLowerCase():null}function Fe(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Cn(t){var e=Fe(t).Element;return t instanceof e||t instanceof Element}function ut(t){var e=Fe(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Oo(t){if(typeof ShadowRoot>"u")return!1;var e=Fe(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function FN(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!ut(s)||!vt(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var l=r[o];l===!1?s.removeAttribute(o):s.setAttribute(o,l===!0?"":l)}))})}function VN(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),l=o.reduce(function(c,u){return c[u]="",c},{});!ut(r)||!vt(r)||(Object.assign(r.style,l),Object.keys(s).forEach(function(c){r.removeAttribute(c)}))})}}var GI={name:"applyStyles",enabled:!0,phase:"write",fn:FN,effect:VN,requires:["computeStyles"]};function yt(t){return t.split("-")[0]}var Un=Math.max,ms=Math.min,Oi=Math.round;function Po(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function kl(){return!/^((?!chrome|android).)*safari/i.test(Po())}function Sn(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,s=1;e&&ut(t)&&(r=t.offsetWidth>0&&Oi(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Oi(i.height)/t.offsetHeight||1);var o=Cn(t)?Fe(t):window,l=o.visualViewport,c=!kl()&&n,u=(i.left+(c&&l?l.offsetLeft:0))/r,f=(i.top+(c&&l?l.offsetTop:0))/s,m=i.width/r,g=i.height/s;return{width:m,height:g,top:f,right:u+m,bottom:f+g,left:u,x:u,y:f}}function gs(t){var e=Sn(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function Nl(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Oo(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Kt(t){return Fe(t).getComputedStyle(t)}function j_(t){return["table","td","th"].indexOf(vt(t))>=0}function Nt(t){return((Cn(t)?t.ownerDocument:t.document)||window.document).documentElement}function Pi(t){return vt(t)==="html"?t:t.assignedSlot||t.parentNode||(Oo(t)?t.host:null)||Nt(t)}function HI(t){return!ut(t)||Kt(t).position==="fixed"?null:t.offsetParent}function LN(t){var e=/firefox/i.test(Po()),n=/Trident/i.test(Po());if(n&&ut(t)){var i=Kt(t);if(i.position==="fixed")return null}var r=Pi(t);for(Oo(r)&&(r=r.host);ut(r)&&["html","body"].indexOf(vt(r))<0;){var s=Kt(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Bn(t){for(var e=Fe(t),n=HI(t);n&&j_(n)&&Kt(n).position==="static";)n=HI(n);return n&&(vt(n)==="html"||vt(n)==="body"&&Kt(n).position==="static")?e:n||LN(t)||e}function _s(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function vs(t,e,n){return Un(t,ms(e,n))}function WI(t,e,n){var i=vs(t,e,n);return i>n?n:i}function Fl(){return{top:0,right:0,bottom:0,left:0}}function Vl(t){return Object.assign({},Fl(),t)}function Ll(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var UN=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Vl(typeof e!="number"?e:Ll(e,vr))};function BN(t){var e,n=t.state,i=t.name,r=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,l=yt(n.placement),c=_s(l),u=[ct,_t].indexOf(l)>=0,f=u?"height":"width";if(!(!s||!o)){var m=UN(r.padding,n),g=gs(s),w=c==="y"?st:ct,M=c==="y"?kt:_t,O=n.rects.reference[f]+n.rects.reference[c]-o[c]-n.rects.popper[f],A=o[c]-n.rects.reference[c],F=Bn(s),$=F?c==="y"?F.clientHeight||0:F.clientWidth||0:0,z=O/2-A/2,B=m[w],Y=$-g[f]-m[M],W=$/2-g[f]/2+z,I=vs(B,W,Y),_=c;n.modifiersData[i]=(e={},e[_]=I,e.centerOffset=I-W,e)}}function jN(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Nl(e.elements.popper,r)&&(e.elements.arrow=r))}var $_={name:"arrow",enabled:!0,phase:"main",fn:BN,effect:jN,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xn(t){return t.split("-")[1]}var $N={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zN(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:Oi(n*r)/r||0,y:Oi(i*r)/r||0}}function qI(t){var e,n=t.popper,i=t.popperRect,r=t.placement,s=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,u=t.adaptive,f=t.roundOffsets,m=t.isFixed,g=o.x,w=g===void 0?0:g,M=o.y,O=M===void 0?0:M,A=typeof f=="function"?f({x:w,y:O}):{x:w,y:O};w=A.x,O=A.y;var F=o.hasOwnProperty("x"),$=o.hasOwnProperty("y"),z=ct,B=st,Y=window;if(u){var W=Bn(n),I="clientHeight",_="clientWidth";if(W===Fe(n)&&(W=Nt(n),Kt(W).position!=="static"&&l==="absolute"&&(I="scrollHeight",_="scrollWidth")),W=W,r===st||(r===ct||r===_t)&&s===ps){B=kt;var y=m&&W===Y&&Y.visualViewport?Y.visualViewport.height:W[I];O-=y-i.height,O*=c?1:-1}if(r===ct||(r===st||r===kt)&&s===ps){z=_t;var E=m&&W===Y&&Y.visualViewport?Y.visualViewport.width:W[_];w-=E-i.width,w*=c?1:-1}}var T=Object.assign({position:l},u&&$N),S=f===!0?zN({x:w,y:O},Fe(n)):{x:w,y:O};if(w=S.x,O=S.y,c){var b;return Object.assign({},T,(b={},b[B]=$?"0":"",b[z]=F?"0":"",b.transform=(Y.devicePixelRatio||1)<=1?"translate("+w+"px, "+O+"px)":"translate3d("+w+"px, "+O+"px, 0)",b))}return Object.assign({},T,(e={},e[B]=$?O+"px":"",e[z]=F?w+"px":"",e.transform="",e))}function GN(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,l=n.roundOffsets,c=l===void 0?!0:l,u={placement:yt(e.placement),variation:xn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,qI(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,qI(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var KI={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:GN,data:{}};var Xd={passive:!0};function HN(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,l=o===void 0?!0:o,c=Fe(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(f){f.addEventListener("scroll",n.update,Xd)}),l&&c.addEventListener("resize",n.update,Xd),function(){s&&u.forEach(function(f){f.removeEventListener("scroll",n.update,Xd)}),l&&c.removeEventListener("resize",n.update,Xd)}}var QI={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:HN,data:{}};var WN={left:"right",right:"left",bottom:"top",top:"bottom"};function ko(t){return t.replace(/left|right|bottom|top/g,function(e){return WN[e]})}var qN={start:"end",end:"start"};function eh(t){return t.replace(/start|end/g,function(e){return qN[e]})}function ys(t){var e=Fe(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function bs(t){return Sn(Nt(t)).left+ys(t).scrollLeft}function z_(t,e){var n=Fe(t),i=Nt(t),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,l=0,c=0;if(r){s=r.width,o=r.height;var u=kl();(u||!u&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:s,height:o,x:l+bs(t),y:c}}function G_(t){var e,n=Nt(t),i=ys(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=Un(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Un(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-i.scrollLeft+bs(t),c=-i.scrollTop;return Kt(r||n).direction==="rtl"&&(l+=Un(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:l,y:c}}function ws(t){var e=Kt(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function th(t){return["html","body","#document"].indexOf(vt(t))>=0?t.ownerDocument.body:ut(t)&&ws(t)?t:th(Pi(t))}function yr(t,e){var n;e===void 0&&(e=[]);var i=th(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=Fe(i),o=r?[s].concat(s.visualViewport||[],ws(i)?i:[]):i,l=e.concat(o);return r?l:l.concat(yr(Pi(o)))}function No(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function KN(t,e){var n=Sn(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function YI(t,e,n){return e===Zd?No(z_(t,n)):Cn(e)?KN(e,n):No(G_(Nt(t)))}function QN(t){var e=yr(Pi(t)),n=["absolute","fixed"].indexOf(Kt(t).position)>=0,i=n&&ut(t)?Bn(t):t;return Cn(i)?e.filter(function(r){return Cn(r)&&Nl(r,i)&&vt(r)!=="body"}):[]}function H_(t,e,n,i){var r=e==="clippingParents"?QN(t):[].concat(e),s=[].concat(r,[n]),o=s[0],l=s.reduce(function(c,u){var f=YI(t,u,i);return c.top=Un(f.top,c.top),c.right=ms(f.right,c.right),c.bottom=ms(f.bottom,c.bottom),c.left=Un(f.left,c.left),c},YI(t,o,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Ul(t){var e=t.reference,n=t.element,i=t.placement,r=i?yt(i):null,s=i?xn(i):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(r){case st:c={x:o,y:e.y-n.height};break;case kt:c={x:o,y:e.y+e.height};break;case _t:c={x:e.x+e.width,y:l};break;case ct:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var u=r?_s(r):null;if(u!=null){var f=u==="y"?"height":"width";switch(s){case Mi:c[u]=c[u]-(e[f]/2-n[f]/2);break;case ps:c[u]=c[u]+(e[f]/2-n[f]/2);break;default:}}return c}function br(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,s=n.strategy,o=s===void 0?t.strategy:s,l=n.boundary,c=l===void 0?jI:l,u=n.rootBoundary,f=u===void 0?Zd:u,m=n.elementContext,g=m===void 0?Mo:m,w=n.altBoundary,M=w===void 0?!1:w,O=n.padding,A=O===void 0?0:O,F=Vl(typeof A!="number"?A:Ll(A,vr)),$=g===Mo?$I:Mo,z=t.rects.popper,B=t.elements[M?$:g],Y=H_(Cn(B)?B:B.contextElement||Nt(t.elements.popper),c,f,o),W=Sn(t.elements.reference),I=Ul({reference:W,element:z,strategy:"absolute",placement:r}),_=No(Object.assign({},z,I)),y=g===Mo?_:W,E={top:Y.top-y.top+F.top,bottom:y.bottom-Y.bottom+F.bottom,left:Y.left-y.left+F.left,right:y.right-Y.right+F.right},T=t.modifiersData.offset;if(g===Mo&&T){var S=T[r];Object.keys(E).forEach(function(b){var bt=[_t,kt].indexOf(b)>=0?1:-1,rn=[st,kt].indexOf(b)>=0?"y":"x";E[b]+=S[rn]*bt})}return E}function W_(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?Jd:c,f=xn(i),m=f?l?B_:B_.filter(function(M){return xn(M)===f}):vr,g=m.filter(function(M){return u.indexOf(M)>=0});g.length===0&&(g=m);var w=g.reduce(function(M,O){return M[O]=br(t,{placement:O,boundary:r,rootBoundary:s,padding:o})[yt(O)],M},{});return Object.keys(w).sort(function(M,O){return w[M]-w[O]})}function YN(t){if(yt(t)===Yd)return[];var e=ko(t);return[eh(t),e,eh(e)]}function ZN(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,u=n.padding,f=n.boundary,m=n.rootBoundary,g=n.altBoundary,w=n.flipVariations,M=w===void 0?!0:w,O=n.allowedAutoPlacements,A=e.options.placement,F=yt(A),$=F===A,z=c||($||!M?[ko(A)]:YN(A)),B=[A].concat(z).reduce(function(Ni,Yt){return Ni.concat(yt(Yt)===Yd?W_(e,{placement:Yt,boundary:f,rootBoundary:m,padding:u,flipVariations:M,allowedAutoPlacements:O}):Yt)},[]),Y=e.rects.reference,W=e.rects.popper,I=new Map,_=!0,y=B[0],E=0;E<B.length;E++){var T=B[E],S=yt(T),b=xn(T)===Mi,bt=[st,kt].indexOf(S)>=0,rn=bt?"width":"height",Gt=br(e,{placement:T,boundary:f,rootBoundary:m,altBoundary:g,padding:u}),wt=bt?b?_t:ct:b?kt:st;Y[rn]>W[rn]&&(wt=ko(wt));var jn=ko(wt),An=[];if(s&&An.push(Gt[S]<=0),l&&An.push(Gt[wt]<=0,Gt[jn]<=0),An.every(function(Ni){return Ni})){y=T,_=!1;break}I.set(T,An)}if(_)for(var wr=M?3:1,Vo=function(Yt){var Er=B.find(function($n){var fi=I.get($n);if(fi)return fi.slice(0,Yt).every(function(Lo){return Lo})});if(Er)return y=Er,"break"},Qt=wr;Qt>0;Qt--){var He=Vo(Qt);if(He==="break")break}e.placement!==y&&(e.modifiersData[i]._skip=!0,e.placement=y,e.reset=!0)}}var q_={name:"flip",enabled:!0,phase:"main",fn:ZN,requiresIfExists:["offset"],data:{_skip:!1}};function JN(t,e,n){var i=yt(t),r=[ct,st].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],l=s[1];return o=o||0,l=(l||0)*r,[ct,_t].indexOf(i)>=0?{x:l,y:o}:{x:o,y:l}}function XN(t){var e=t.state,n=t.options,i=t.name,r=n.offset,s=r===void 0?[0,0]:r,o=Jd.reduce(function(f,m){return f[m]=JN(m,e.rects,s),f},{}),l=o[e.placement],c=l.x,u=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=o}var K_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:XN};function eF(t){var e=t.state,n=t.name;e.modifiersData[n]=Ul({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var ZI={name:"popperOffsets",enabled:!0,phase:"read",fn:eF,data:{}};function Q_(t){return t==="x"?"y":"x"}function tF(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,u=n.rootBoundary,f=n.altBoundary,m=n.padding,g=n.tether,w=g===void 0?!0:g,M=n.tetherOffset,O=M===void 0?0:M,A=br(e,{boundary:c,rootBoundary:u,padding:m,altBoundary:f}),F=yt(e.placement),$=xn(e.placement),z=!$,B=_s(F),Y=Q_(B),W=e.modifiersData.popperOffsets,I=e.rects.reference,_=e.rects.popper,y=typeof O=="function"?O(Object.assign({},e.rects,{placement:e.placement})):O,E=typeof y=="number"?{mainAxis:y,altAxis:y}:Object.assign({mainAxis:0,altAxis:0},y),T=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,S={x:0,y:0};if(W){if(s){var b,bt=B==="y"?st:ct,rn=B==="y"?kt:_t,Gt=B==="y"?"height":"width",wt=W[B],jn=wt+A[bt],An=wt-A[rn],wr=w?-_[Gt]/2:0,Vo=$===Mi?I[Gt]:_[Gt],Qt=$===Mi?-_[Gt]:-I[Gt],He=e.elements.arrow,Ni=w&&He?gs(He):{width:0,height:0},Yt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Fl(),Er=Yt[bt],$n=Yt[rn],fi=vs(0,I[Gt],Ni[Gt]),Lo=z?I[Gt]/2-wr-fi-Er-E.mainAxis:Vo-fi-Er-E.mainAxis,Es=z?-I[Gt]/2+wr+fi+$n+E.mainAxis:Qt+fi+$n+E.mainAxis,Fi=e.elements.arrow&&Bn(e.elements.arrow),Uo=Fi?B==="y"?Fi.clientTop||0:Fi.clientLeft||0:0,Is=(b=T?.[B])!=null?b:0,Bo=wt+Lo-Is-Uo,jo=wt+Es-Is,$o=vs(w?ms(jn,Bo):jn,wt,w?Un(An,jo):An);W[B]=$o,S[B]=$o-wt}if(l){var zo,ah=B==="x"?st:ct,jl=B==="x"?kt:_t,zn=W[Y],Vi=Y==="y"?"height":"width",Go=zn+A[ah],$l=zn-A[jl],Ir=[st,ct].indexOf(F)!==-1,Ts=(zo=T?.[Y])!=null?zo:0,Cs=Ir?Go:zn-I[Vi]-_[Vi]-Ts+E.altAxis,ot=Ir?zn+I[Vi]+_[Vi]-Ts-E.altAxis:$l,dt=w&&Ir?WI(Cs,zn,ot):vs(w?Cs:Go,zn,w?ot:$l);W[Y]=dt,S[Y]=dt-zn}e.modifiersData[i]=S}}var Y_={name:"preventOverflow",enabled:!0,phase:"main",fn:tF,requiresIfExists:["offset"]};function Z_(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function J_(t){return t===Fe(t)||!ut(t)?ys(t):Z_(t)}function nF(t){var e=t.getBoundingClientRect(),n=Oi(e.width)/t.offsetWidth||1,i=Oi(e.height)/t.offsetHeight||1;return n!==1||i!==1}function X_(t,e,n){n===void 0&&(n=!1);var i=ut(e),r=ut(e)&&nF(e),s=Nt(e),o=Sn(t,r,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!n)&&((vt(e)!=="body"||ws(s))&&(l=J_(e)),ut(e)?(c=Sn(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=bs(s))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function iF(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&r(c)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),i}function e0(t){var e=iF(t);return zI.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function t0(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function n0(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var JI={placement:"bottom",modifiers:[],strategy:"absolute"};function XI(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function eT(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?JI:r;return function(l,c,u){u===void 0&&(u=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},JI,s),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},m=[],g=!1,w={state:f,setOptions:function(F){var $=typeof F=="function"?F(f.options):F;O(),f.options=Object.assign({},s,f.options,$),f.scrollParents={reference:Cn(l)?yr(l):l.contextElement?yr(l.contextElement):[],popper:yr(c)};var z=e0(n0([].concat(i,f.options.modifiers)));return f.orderedModifiers=z.filter(function(B){return B.enabled}),M(),w.update()},forceUpdate:function(){if(!g){var F=f.elements,$=F.reference,z=F.popper;if(XI($,z)){f.rects={reference:X_($,Bn(z),f.options.strategy==="fixed"),popper:gs(z)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(E){return f.modifiersData[E.name]=Object.assign({},E.data)});for(var B=0;B<f.orderedModifiers.length;B++){if(f.reset===!0){f.reset=!1,B=-1;continue}var Y=f.orderedModifiers[B],W=Y.fn,I=Y.options,_=I===void 0?{}:I,y=Y.name;typeof W=="function"&&(f=W({state:f,options:_,name:y,instance:w})||f)}}}},update:t0(function(){return new Promise(function(A){w.forceUpdate(),A(f)})}),destroy:function(){O(),g=!0}};if(!XI(l,c))return w;w.setOptions(u).then(function(A){!g&&u.onFirstUpdate&&u.onFirstUpdate(A)});function M(){f.orderedModifiers.forEach(function(A){var F=A.name,$=A.options,z=$===void 0?{}:$,B=A.effect;if(typeof B=="function"){var Y=B({state:f,name:F,instance:w,options:z}),W=function(){};m.push(Y||W)}})}function O(){m.forEach(function(A){return A()}),m=[]}return w}}var rF=[QI,ZI,KI,GI],i0=eT({defaultModifiers:rF});var sF={animation:!0,transitionTimerDelayMs:5};function oF(t,e){return!e||typeof t.closest>"u"?null:t.closest(e)}function rT(t=document){let e=t?.activeElement;return e?e.shadowRoot?rT(e.shadowRoot):e:null}var{transitionTimerDelayMs:gH}=sF;var ki=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(ki||{});var nh=(t,e)=>e?e.some(n=>n.contains(t)):!1,tT=(t,e)=>!e||oF(t,e)!=null,aF=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})(),lF=t=>aF?()=>setTimeout(()=>t(),100):t;function cF(t,e,n,i,r,s,o,l){n&&t.runOutsideAngular(lF(()=>{let c=g=>{let w=g.target;return g.button===2||nh(w,o)?!1:n==="inside"?nh(w,s)&&tT(w,l):n==="outside"?!nh(w,s):tT(w,l)||!nh(w,s)},u=Ar(e,"keydown").pipe(Ve(r),at(g=>g.which===ki.Escape),Je(g=>g.preventDefault())),f=Ar(e,"mousedown").pipe(de(c),Ve(r)),m=Ar(e,"mouseup").pipe(gv(f),at(([g,w])=>w),la(0),Ve(r));dv([u.pipe(de(g=>0)),m.pipe(de(g=>1))]).subscribe(g=>t.run(()=>i(g)))}))}var uF=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var dF=(()=>{let e=class e{constructor(){this._element=j(_n).documentElement}isRTL(){return(this._element.getAttribute("dir")||"").toLowerCase()==="rtl"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hF=/\s+/,fF=/  +/gi,pF={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]};function mF(t,e){let[n,i]=pF[t];return e&&i||n}var gF=/^left/,_F=/^right/,vF=/^start/,yF=/^end/;function bF(t,e){let[n,i]=e.split("-"),r=n.replace(gF,"start").replace(_F,"end"),s=[r];if(i){let o=i;(n==="left"||n==="right")&&(o=o.replace(vF,"top").replace(yF,"bottom")),s.push(`${r}-${o}`)}return t&&(s=s.map(o=>`${t}-${o}`)),s.join(" ")}function nT({placement:t,baseClass:e},n){let i=Array.isArray(t)?t:t.split(hF),r=["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"],s=i.findIndex(u=>u==="auto");s>=0&&r.forEach(function(u){i.find(f=>f.search("^"+u)!==-1)==null&&i.splice(s++,1,u)});let o=i.map(u=>mF(u,n.isRTL()));return{placement:o.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:u}){let f=new RegExp(e+"(-[a-z]+)*","gi"),m=u.elements.popper,g=u.placement,w=m.className;w=w.replace(f,""),w+=` ${bF(e,g)}`,w=w.trim().replace(fF," "),m.className=w}},q_,Y_,$_,{enabled:!0,name:"flip",options:{fallbackPlacements:o}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function iT(t){return t}function wF(){let t=j(dF),e=null;return{createPopper(n){if(!e){let r=(n.updatePopperOptions||iT)(nT(n,t));e=i0(n.hostElement,n.targetElement,r)}},update(){e&&e.update()},setOptions(n){if(e){let r=(n.updatePopperOptions||iT)(nT(n,t));e.setOptions(r)}},destroy(){e&&(e.destroy(),e=null)}}}function EF(t){return e=>(e.modifiers.push(K_,{name:"offset",options:{offset:()=>t}}),e)}var _H=new Date(1882,10,12),vH=new Date(2174,10,25);var yH=1e3*60*60*24;var s0=1080,IF=24*s0,TF=12*s0+793,bH=29*IF+TF,wH=11*s0+204;var CF=(()=>{let e=class e{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=i=>i,this.container=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ih=(()=>{let e=class e{constructor(){this._disabled=!1,this.nativeElement=j(Le).nativeElement,this.tabindex=0}set disabled(i){this._disabled=i===""||i===!0}get disabled(){return this._disabled}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(r,s){r&2&&(Mr("tabIndex",s.disabled?-1:s.tabindex),Ue("disabled",s.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0});let t=e;return t})(),sT=(()=>{let e=class e{constructor(){this.item=j(ih)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,selectors:[["button","ngbDropdownItem",""]],hostVars:1,hostBindings:function(r,s){r&2&&Mr("disabled",s.item.disabled)},standalone:!0});let t=e;return t})(),o0=(()=>{let e=class e{constructor(){this.dropdown=j(rh),this.nativeElement=j(Le).nativeElement}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(r,s,o){if(r&1&&Ke(o,ih,4),r&2){let l;be(l=we())&&(s.menuItems=l)}},hostVars:4,hostBindings:function(r,s){r&1&&G("keydown.ArrowUp",function(l){return s.dropdown.onKeyDown(l)})("keydown.ArrowDown",function(l){return s.dropdown.onKeyDown(l)})("keydown.Home",function(l){return s.dropdown.onKeyDown(l)})("keydown.End",function(l){return s.dropdown.onKeyDown(l)})("keydown.Enter",function(l){return s.dropdown.onKeyDown(l)})("keydown.Space",function(l){return s.dropdown.onKeyDown(l)})("keydown.Tab",function(l){return s.dropdown.onKeyDown(l)})("keydown.Shift.Tab",function(l){return s.dropdown.onKeyDown(l)}),r&2&&Ue("dropdown-menu",!0)("show",s.dropdown.isOpen())},standalone:!0});let t=e;return t})(),r0=(()=>{let e=class e{constructor(){this.dropdown=j(rh),this.nativeElement=j(Le).nativeElement}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(r,s){r&2&&(Xe("aria-expanded",s.dropdown.isOpen()),Ue("show",s.dropdown.isOpen()))},standalone:!0});let t=e;return t})(),oT=(()=>{let e=class e extends r0{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Hi(e)))(s||e)}})(),e.\u0275dir=ye({type:e,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(r,s){r&1&&G("click",function(){return s.dropdown.toggle()})("keydown.ArrowUp",function(l){return s.dropdown.onKeyDown(l)})("keydown.ArrowDown",function(l){return s.dropdown.onKeyDown(l)})("keydown.Home",function(l){return s.dropdown.onKeyDown(l)})("keydown.End",function(l){return s.dropdown.onKeyDown(l)})("keydown.Tab",function(l){return s.dropdown.onKeyDown(l)})("keydown.Shift.Tab",function(l){return s.dropdown.onKeyDown(l)}),r&2&&(Xe("aria-expanded",s.dropdown.isOpen()),Ue("show",s.dropdown.isOpen()))},standalone:!0,features:[Lt([{provide:r0,useExisting:Gi(()=>e)}]),Wn]});let t=e;return t})(),rh=(()=>{let e=class e{constructor(){this._changeDetector=j(At),this._config=j(CF),this._document=j(_n),this._ngZone=j(ge),this._nativeElement=j(Le).nativeElement,this._destroyCloseHandlers$=new xe,this._bodyContainer=null,this._positioning=wF(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new qe}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe(ht(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(i){if(i.container&&this._open&&this._applyContainer(this.container),i.placement&&!i.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:this.container==="body"}),this._applyPlacementClasses()),i.dropdownClass){let{currentValue:r,previousValue:s}=i.dropdownClass;this._applyCustomDropdownClass(r,s)}i.autoClose&&this._open&&(this.autoClose=i.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),this.display==="dynamic"&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:this.container==="body",updatePopperOptions:i=>this.popperOptions(EF([0,2])(i))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),cF(this._ngZone,this._document,this.autoClose,i=>{this.close(),i===0&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(i){let r=i.which,s=this._getMenuElements(),o=-1,l=null,c=this._isEventFromToggle(i);if(!c&&s.length&&s.forEach((u,f)=>{u.contains(i.target)&&(l=u),u===rT(this._document)&&(o=f)}),r===ki.Space||r===ki.Enter){l&&(this.autoClose===!0||this.autoClose==="inside")&&Ar(l,"click").pipe(ht(1)).subscribe(()=>this.close());return}if(r===ki.Tab){if(i.target&&this.isOpen()&&this.autoClose)if(this._anchor.nativeElement===i.target){this.container==="body"&&!i.shiftKey?(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")):i.shiftKey&&this.close();return}else if(this.container==="body"){let u=this._menu.nativeElement.querySelectorAll(uF);i.shiftKey&&i.target===u[0]?(this._anchor.nativeElement.focus(),i.preventDefault()):!i.shiftKey&&i.target===u[u.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Ar(i.target,"focusout").pipe(ht(1)).subscribe(({relatedTarget:u})=>{this._nativeElement.contains(u)||this.close()});return}if(c||l){if(this.open(),s.length){switch(r){case ki.ArrowDown:o=Math.min(o+1,s.length-1);break;case ki.ArrowUp:if(this._isDropup()&&o===-1){o=s.length-1;break}o=Math.max(o-1,0);break;case ki.Home:o=0;break;case ki.End:o=s.length-1;break}s[o].focus()}i.preventDefault()}}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(i){return this._anchor.nativeElement.contains(i.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:i})=>!i).map(({nativeElement:i})=>i):[]}_positionMenu(){let i=this._menu;this.isOpen()&&i&&(this.display==="dynamic"?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(i){return Array.isArray(i)?i[0]:i.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(i=null){if(this._resetContainer(),i==="body"){let r=this._menu.nativeElement,s=this._bodyContainer=this._bodyContainer||this._document.createElement("div");s.style.position="absolute",r.style.position="static",s.style.zIndex="1055",s.appendChild(r),this._document.body.appendChild(s)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(i,r){let s=this.container==="body"?this._bodyContainer:this._nativeElement;s&&(r&&s.classList.remove(r),i&&s.classList.add(i))}_applyPlacementClasses(i){if(this._menu){i||(i=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),this.display==="static"?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");let r=i.search("^top")!==-1?"dropup":"dropdown";this._nativeElement.classList.add(r),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(r))}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,selectors:[["","ngbDropdown",""]],contentQueries:function(r,s,o){if(r&1&&(Ke(o,o0,5),Ke(o,r0,5)),r&2){let l;be(l=we())&&(s._menu=l.first),be(l=we())&&(s._anchor=l.first)}},hostVars:2,hostBindings:function(r,s){r&2&&Ue("show",s.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[ae.None,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[gn]});let t=e;return t})();var aT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=St({type:e}),e.\u0275inj=Ct({});let t=e;return t})();var EH=new ie("live announcer delay",{providedIn:"root",factory:()=>100});var lT=(()=>{let e=class e{constructor(i,r,s){this.firebase=i,this.router=r,this.authService=s,this.image="",this.url="",this.wish="",this.wishlists="",this.displayName="",this.currentDate=null,this.completed=!1}setPriority(i){this.firebase.selectedPriority=i}addWish(){this.firebase.photoUrl=this.image,console.log("Add wish");let i={type:"wish",wish:this.wish,link:this.url,priority:this.firebase.selectedPriority,image:this.image,completedAt:this.currentDate,completed:this.completed,owener:this.authService.displayName};this.firebase.addWish(i),this.router.navigate(["/wishes"])}};e.\u0275fac=function(r){return new(r||e)(P(Tn),P(Pe),P(mt))},e.\u0275cmp=ce({type:e,selectors:[["app-add-wish"]],standalone:!0,features:[ue],decls:29,vars:4,consts:[[1,"addWish"],[1,"headline"],[1,"form"],["for","image"],["type","file","id","image","required","",3,"ngModelChange","change","ngModel"],["for","url"],["type","url","name","url","id","url","placeholder","Link zum Wunsch","required","",3,"ngModelChange","ngModel"],["for","prio"],[1,"row"],[1,"col"],["ngbDropdown","",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary","prio"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],["for","wish"],["type","text","id","wish","placeholder","Name des Wunsches",3,"ngModelChange","ngModel"],[3,"click"]],template:function(r,s){r&1&&(x(0,"section",0)(1,"h1",1),N(2,"Wunsch hinzuf\xFCgen"),R(),x(3,"div",2)(4,"label",3),N(5,"Bild ausw\xE4hlen"),R(),x(6,"input",4),Ze("ngModelChange",function(l){return Ye(s.image,l)||(s.image=l),l}),G("change",function(l){return s.firebase.changePicture(l)}),R(),x(7,"label",5),N(8,"Link einf\xFCgen"),R(),x(9,"input",6),Ze("ngModelChange",function(l){return Ye(s.url,l)||(s.url=l),l}),R(),x(10,"label",7),N(11,"Priorit\xE4t ausw\xE4hlen"),R(),x(12,"div",8)(13,"div",9)(14,"div",10)(15,"button",11),N(16),R(),x(17,"div",12)(18,"button",13),G("click",function(){return s.setPriority("Niedrig")}),N(19,"Niedrig"),R(),x(20,"button",13),G("click",function(){return s.setPriority("Mittel")}),N(21,"Mittel"),R(),x(22,"button",13),G("click",function(){return s.setPriority("Hoch")}),N(23,"Hoch"),R()()()()(),x(24,"label",14),N(25,"Wunsch eingeben"),R(),x(26,"input",15),Ze("ngModelChange",function(l){return Ye(s.wish,l)||(s.wish=l),l}),R(),x(27,"button",16),G("click",function(){return s.addWish()}),N(28,"Wunsch hinzuf\xFCgen"),R()()()),r&2&&(V(6),Qe("ngModel",s.image),V(3),Qe("ngModel",s.url),V(7),Zt(" Priorit\xE4t: ",s.firebase.selectedPriority," "),V(10),Qe("ngModel",s.wish))},dependencies:[aT,rh,oT,o0,ih,sT,Xt,Jt,wn,Lr,fn],styles:[".headline[_ngcontent-%COMP%]{position:fixed;top:60px;left:10px}.form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:column;align-items:flex-start;width:100vw;margin-left:20px}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:10px}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:20px}.form[_ngcontent-%COMP%]   .prio[_ngcontent-%COMP%]{color:#000!important;background-color:#fff!important;border-color:#fff!important}"]});let t=e;return t})();function xF(t,e){if(t&1){let n=tt();x(0,"div",7)(1,"span"),N(2),R(),x(3,"div",8)(4,"mat-icon",3),G("click",function(){let r=re(n).$implicit,s=le();return se(s.count(r))}),N(5,"thumb_up"),R(),x(6,"span",9),N(7),R()()()}if(t&2){let n=e.$implicit;V(2),xt(n.feedback),V(4),Os("id","counter-",n.id,""),V(),xt(n.likes)}}var cT=(()=>{let e=class e{constructor(i){this.firebase=i,this.likes=0,this.text=""}ngOnInit(){this.getFeedback()}addFeedback(){let i={feedback:this.text,type:"feedback",likes:0};this.firebase.addFeedback(i),this.text=""}getFeedback(){return this.firebase.feedbacks}count(i){this.firebase.updateLikes(i).then(()=>{let r=document.getElementById(`conter-${i.id}`);r&&(r.innerHTML=i.likes.toString())}).catch(r=>{console.error("Error updating likes in Firestore:",r)})}};e.\u0275fac=function(r){return new(r||e)(P(Tn))},e.\u0275cmp=ce({type:e,selectors:[["app-feedback"]],inputs:{feedback:"feedback"},standalone:!0,features:[ue],decls:12,vars:2,consts:[[1,"feedback_container"],[1,"feedback"],["id","text","placeholder","Bitte Feedback eingeben...",3,"ngModelChange","ngModel"],[3,"click"],[1,"placeholder"],[1,"overflow"],["class","feedback_text",4,"ngFor","ngForOf"],[1,"feedback_text"],[1,"likes"],[3,"id"]],template:function(r,s){r&1&&(x(0,"div",0)(1,"h1"),N(2,"Feedback"),R(),x(3,"h5"),N(4,"Ich bitte euch mir ein kurzes Feedback zu geben, was ich noch verbessern sollte"),R(),x(5,"div",1)(6,"textarea",2),Ze("ngModelChange",function(l){return Ye(s.text,l)||(s.text=l),l}),R(),x(7,"button",3),G("click",function(){return s.addFeedback()}),N(8,"Abschicken"),R()(),De(9,"div",4),x(10,"div",5),me(11,xF,8,4,"div",6),R()()),r&2&&(V(6),Qe("ngModel",s.text),V(5),J("ngForOf",s.getFeedback()))},dependencies:[ft,qi,Zi,Yi,Xt,Jt,wn,fn],styles:[".feedback_container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 0 0 20px}.feedback_container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:50px}.feedback_container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:20px}.feedback[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:300px;height:200px}.feedback[_ngcontent-%COMP%]{width:250px}.placeholder[_ngcontent-%COMP%]{margin-top:50px;color:transparent}.overflow[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.6) rgba(0,0,0,.1)}.feedback_text[_ngcontent-%COMP%]{margin:10px 5px 0 0;display:flex;justify-content:space-between;align-items:baseline}.feedback_text[_ngcontent-%COMP%]   .likes[_ngcontent-%COMP%]{display:flex;width:50px}.feedback_text[_ngcontent-%COMP%]   .likes[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px}"]});let t=e;return t})();var uT=(()=>{let e=class e{constructor(i,r){this.auth=i,this.help=r,this.name="",this.email="",this.password=""}ngOnInit(){this.help.waitForUser(),this.getUserInfo(),this.auth.listenToAuthState()}getUserInfo(){let i;this.auth.user$.subscribe(r=>{this.userName=r?.displayName,this.userEmail=r?.email,i=r?.metadata.lastSignInTime,this.lastLogin=new Date(i).toLocaleString()})}updateName(){this.auth.updateUserName(this.name)}updateEmail(){this.auth.updateUserEmail(this.email)}changePassword(){this.auth.updateUserPassword(this.password)}saveDate(i){let r=this.formatDate(i);localStorage.setItem("formattedDate",r),console.log("Selected date:",r),location.reload()}formatDate(i){if(!i)return"";let r=new Date(i),s=("0"+r.getDate()).slice(-2),o=("0"+(r.getMonth()+1)).slice(-2),l=r.getFullYear();return`${s}.${o}.${l}`}getFormattedDate(){return this.help.savedDate}};e.\u0275fac=function(r){return new(r||e)(P(mt),P(_r))},e.\u0275cmp=ce({type:e,selectors:[["app-user-profil"]],standalone:!0,features:[ue],decls:45,vars:10,consts:[["dateInput",""],[1,"profilInfo"],[1,"info"],[1,"saveDate"],["type","date","name","date","id","actionDate"],[1,"saveBtn",3,"click"],[1,"changeProfil"],[1,"inputFields"],[1,"form-group"],["for","name"],["type","text","placeholder","Neuen Namen angeben","required","",3,"ngModelChange","ngModel"],[3,"click","disabled"],["type","text","placeholder","Neue E-Mail angeben","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","placeholder","Neues Passwort eingeben","required","",3,"ngModelChange","ngModel"],[1,"shareableLink"],[3,"click"]],template:function(r,s){if(r&1){let o=tt();x(0,"section",1)(1,"h1"),N(2,"Benutzerinformationen"),R(),x(3,"div",2)(4,"p"),N(5),R(),x(6,"p"),N(7),R(),x(8,"p"),N(9),R()(),x(10,"div")(11,"h4"),N(12,"Datum des Ereignisses"),R(),x(13,"span"),N(14),R()(),x(15,"div",3),De(16,"input",4,0),x(18,"button",5),G("click",function(){re(o);let c=qn(17);return se(s.saveDate(c.value))}),N(19,"Speichern"),R()()(),x(20,"section",6)(21,"h1"),N(22,"Daten \xE4ndern"),R(),x(23,"div",7)(24,"div",8)(25,"label",9),N(26,"Name \xE4ndern"),R(),x(27,"input",10),Ze("ngModelChange",function(c){return re(o),Ye(s.name,c)||(s.name=c),se(c)}),R(),x(28,"button",11),G("click",function(){return re(o),se(s.updateName())}),N(29,"\xC4ndern"),R()(),x(30,"div",8)(31,"label",9),N(32,"E-Mail \xE4ndern"),R(),x(33,"input",12),Ze("ngModelChange",function(c){return re(o),Ye(s.email,c)||(s.email=c),se(c)}),R(),x(34,"button",11),G("click",function(){return re(o),se(s.updateEmail())}),N(35,"\xC4ndern"),R()(),x(36,"div",8)(37,"label",13),N(38,"Passwort \xE4ndern"),R(),x(39,"input",14),Ze("ngModelChange",function(c){return re(o),Ye(s.password,c)||(s.password=c),se(c)}),R(),x(40,"button",11),G("click",function(){return re(o),se(s.changePassword())}),N(41,"\xC4ndern"),R()()()(),x(42,"section",15)(43,"button",16),G("click",function(){return re(o),se(s.help.shareWishList())}),N(44,"Wunschliste teilen"),R()()}r&2&&(V(5),Zt("Name: ",s.userName,""),V(2),Zt("E-Mail: ",s.userEmail,""),V(2),Zt("Letzter Login: ",s.lastLogin,""),V(5),xt(s.getFormattedDate()||"Kein Datum gespeichert"),V(13),Qe("ngModel",s.name),V(),J("disabled",!s.name||s.name.trim()===""),V(5),Qe("ngModel",s.email),V(),J("disabled",!s.email||s.email.trim()===""),V(5),Qe("ngModel",s.password),V(),J("disabled",!s.password||s.password.trim()===""))},dependencies:[Xt,Jt,wn,Lr,fn],styles:[".inputFields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.form-group[_ngcontent-%COMP%]{display:flex;align-items:center}button[_ngcontent-%COMP%]{margin:5px 0 0 5px;display:block;background:#6b042f;text-align:center;border-radius:5px;color:#fff;font-weight:700;line-height:25px;box-shadow:0 8px 16px #fff3,0 6px 20px #00000030}input[_ngcontent-%COMP%]{margin:5px 0 0 5px}.saveDate[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:baseline}.saveDate[_ngcontent-%COMP%]   #actionDate[_ngcontent-%COMP%]{margin-bottom:5px}.saveDate[_ngcontent-%COMP%]   .saveBtn[_ngcontent-%COMP%]{margin-bottom:20px}.shareableLink[_ngcontent-%COMP%]{margin-top:50px;display:flex;justify-content:center}"]});let t=e;return t})();var AF=t=>({completed:t});function RF(t,e){if(t&1){let n=tt();x(0,"tr",7)(1,"td",8),N(2),R(),x(3,"td")(4,"img",9),G("click",function(){let r=re(n).$implicit,s=le();return se(s.help.openImage(r.image))}),R()(),x(5,"td")(6,"a",10),N(7),R()(),x(8,"td")(9,"button",11),G("click",function(){let r=re(n).$implicit,s=le();return se(s.wishDone(r))}),N(10,"Erledigt"),R()()()}if(t&2){let n=e.$implicit,i=le();Fh("pointer-events",n.completed?"none":"auto"),J("ngClass",fa(9,AF,n.completed)),V(),J("ngStyle",i.getPriorityStyle(n.priority)),V(),Zt("",n.wish," "),V(2),J("src",n.image,Wi),V(2),Os("href","`$",n.link,"`",Wi),V(),xt(n.link)}}function DF(t,e){if(t&1&&(x(0,"div"),De(1,"img",15),R()),t&2){let n=le(2);V(),cc("src",n.help.currentBigImage,Wi)}}function MF(t,e){if(t&1){let n=tt();x(0,"div",12)(1,"mat-icon",13),G("click",function(){re(n);let r=le();return se(r.help.closeImage())}),N(2," close "),R(),me(3,DF,2,1,"div",14),R()}if(t&2){let n=le();V(3),J("ngIf",n.help.previewImage)}}var dT=(()=>{let e=class e{constructor(i,r,s,o){this.firebase=i,this.dialog=r,this.help=s,this.route=o,this.noWishes=!1,this.wishId="",this.userName="",this.wishes=[],this.errorMessage=null}ngOnInit(){this.route.queryParams.subscribe(i=>v(this,null,function*(){let r=i.shareCode;if(r)try{let s=yield this.firebase.getWishesByShareCode(r);if(!s){this.errorMessage="Keine W\xFCnsche oder Besitzer gefunden.",this.noWishes=!0;return}if(this.wishes=s.wishes,this.userName=s.owner||"Unbekannter Benutzer",!this.wishes||this.wishes.length===0){this.errorMessage="Keine W\xFCnsche gefunden.",this.noWishes=!0;return}}catch(s){console.error("Fehler beim Laden der Wunschliste:",s),this.errorMessage="Fehler beim Laden der Wunschliste."}else this.errorMessage="Kein Teilen-Code gefunden."}))}trackByWishId(i){return i.id}wishDone(i){i.completed=!0,i.completedAt=new Date,this.firebase.updateWish(i)}getPriorityStyle(i){switch(i){case"Hoch":return{color:"red"};case"Mittel":return{color:"yellow"};case"Niedrig":return{color:"#32CD32"};default:return{}}}};e.\u0275fac=function(r){return new(r||e)(P(Tn),P(yn),P(_r),P(er))},e.\u0275cmp=ce({type:e,selectors:[["app-view-wishes"]],inputs:{wish:"wish"},standalone:!0,features:[ue],decls:16,vars:4,consts:[[1,"wishes-container"],[1,"headline"],[1,"wishes"],[1,"table"],[1,"first_tr"],[3,"ngClass","pointer-events",4,"ngFor","ngForOf","ngForTrackBy"],["class","bigImagebox",4,"ngIf"],[3,"ngClass"],[3,"ngStyle"],[3,"click","src"],[3,"href"],[3,"click"],[1,"bigImagebox"],["aria-hidden","false",3,"click"],[4,"ngIf"],["alt","",1,"bigImage",3,"src"]],template:function(r,s){r&1&&(x(0,"section",0)(1,"h1",1),N(2),R(),x(3,"div",2)(4,"table",3)(5,"tr",4)(6,"th"),N(7,"Wunsch"),R(),x(8,"th"),N(9,"Bild"),R(),x(10,"th"),N(11,"Link"),R(),x(12,"th"),N(13,"Aktionen"),R()(),me(14,RF,11,11,"tr",5),R(),me(15,MF,4,1,"div",6),R()()),r&2&&(V(2),Zt("W\xFCnsche von ",s.userName,""),V(12),J("ngForOf",s.wishes)("ngForTrackBy",s.trackByWishId),V(),J("ngIf",s.help.showBigImg))},dependencies:[ft,Ps,qi,gc,_c,Zi,Yi],styles:[".headline[_ngcontent-%COMP%]{position:fixed;top:60px;left:10px}.table[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100vw;position:fixed;top:170px;left:0;padding:0 5px}.table[_ngcontent-%COMP%]   .first_tr[_ngcontent-%COMP%]{justify-content:space-between!important;margin-bottom:20px}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:baseline}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{margin-bottom:20px}.table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff!important;background-color:unset!important}.table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:4px!important;background-color:#fff!important}.table[_ngcontent-%COMP%]   .addWishBtn[_ngcontent-%COMP%]{display:flex;justify-content:center}.table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:0!important;width:100px;height:50px;object-fit:cover}.table[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]{opacity:.5}.table[_ngcontent-%COMP%]   button.opacity[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bigImagebox[_ngcontent-%COMP%]{z-index:99;position:absolute;top:110px;left:28px}.bigImage[_ngcontent-%COMP%]{width:360px}"]});let t=e;return t})();var hT=(()=>{let e=class e{constructor(i,r,s){this.authService=i,this.router=r,this.injector=s}checkAuth(){let i=this.injector.get(Pe);return this.authService.user$.pipe(ht(1),de(r=>r?!0:(this.router.navigate(["/login"]),!1)))}};e.\u0275fac=function(r){return new(r||e)(Oe(mt),Oe(Pe),Oe(cn))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var OF=()=>j(hT).checkAuth(),fT=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Jw},{path:"wishes",component:UI,canActivate:[OF]},{path:"registration",component:BI},{path:"addWishes",component:lT},{path:"feedback",component:cT},{path:"userProfil",component:uT},{path:"wishes/share",component:dT},{path:"**",redirectTo:"wishes",pathMatch:"full"}];var PF="@",kF=(()=>{let e=class e{constructor(i,r,s,o,l){this.doc=i,this.delegate=r,this.zone=s,this.animationType=o,this.moduleImpl=l,this._rendererFactoryPromise=null,this.scheduler=j(yv,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-XGIAS52L.js")).catch(r=>{throw new We(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(i,r){let s=this.delegate.createRenderer(i,r);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let o=new a0(s);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let c=l.createRenderer(i,r);o.use(c)}).catch(l=>{o.use(s)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){Nh()},e.\u0275prov=he({token:e,factory:e.\u0275fac});let t=e;return t})(),a0=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,i,r){this.delegate.insertBefore(e,n,i,r)}removeChild(e,n,i){this.delegate.removeChild(e,n,i)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(e,n,i)),this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(e,n,i)),this.delegate.listen(e,n,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(PF)}};function pT(t="animations"){return wv("NgAsyncAnimations"),Hn([{provide:bv,useFactory:(e,n,i)=>new kF(e,n,i,t),deps:[_n,Dv,ge]},{provide:oc,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var mT={apiKey:"AIzaSyB0dchvrYP7JDjCX3BrlUWSG5Rsv40-U5M",authDomain:"wishlist-676f9.firebaseapp.com",projectId:"wishlist-676f9",storageBucket:"wishlist-676f9.appspot.com",messagingSenderId:"900522206512",appId:"1:900522206512:web:cfe591a23d1823922a54f5"};var gT={providers:[My(fT),pT(),Ww(()=>qw(mT)),Qw(()=>Yw()),iI(()=>sI())]};var FF=["mat-menu-item",""],VF=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],LF=["mat-icon, [matMenuItemIcon]","*"];function UF(t,e){t&1&&(sc(),x(0,"svg",2),De(1,"polygon",3),R())}var BF=["*"];function jF(t,e){if(t&1){let n=tt();x(0,"div",0),G("keydown",function(r){re(n);let s=le();return se(s._handleKeydown(r))})("click",function(){re(n);let r=le();return se(r.closed.emit("click"))})("@transformMenu.start",function(r){re(n);let s=le();return se(s._onAnimationStart(r))})("@transformMenu.done",function(r){re(n);let s=le();return se(s._onAnimationDone(r))}),x(1,"div",1),lt(2),R()()}if(t&2){let n=le();Vh(n._classList),J("id",n.panelId)("@transformMenu",n._panelAnimationState),Xe("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby||null)("aria-describedby",n.ariaDescribedby||null)}}var l0=new ie("MAT_MENU_PANEL"),Bl=(()=>{let e=class e{constructor(i,r,s,o,l){this._elementRef=i,this._document=r,this._focusMonitor=s,this._parentMenu=o,this._changeDetectorRef=l,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new xe,this._focused=new xe,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(i,r){this._focusMonitor&&i?this._focusMonitor.focusVia(this._getHostElement(),i,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(i){this.disabled&&(i.preventDefault(),i.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let i=this._elementRef.nativeElement.cloneNode(!0),r=i.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<r.length;s++)r[s].remove();return i.textContent?.trim()||""}_setHighlighted(i){this._highlighted=i,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(i){this._triggersSubmenu=i,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}};e.\u0275fac=function(r){return new(r||e)(P(Le),P(_n),P(Wh),P(l0,8),P(At))},e.\u0275cmp=ce({type:e,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(r,s){r&1&&G("click",function(l){return s._checkDisabled(l)})("mouseenter",function(){return s._handleMouseEnter()}),r&2&&(Xe("role",s.role)("tabindex",s._getTabIndex())("aria-disabled",s.disabled)("disabled",s.disabled||null),Ue("mat-mdc-menu-item-highlighted",s._highlighted)("mat-mdc-menu-item-submenu-trigger",s._triggersSubmenu))},inputs:{role:"role",disabled:[ae.HasDecoratorInputTransform,"disabled","disabled",Ut],disableRipple:[ae.HasDecoratorInputTransform,"disableRipple","disableRipple",Ut]},exportAs:["matMenuItem"],standalone:!0,features:[Dr,ue],attrs:FF,ngContentSelectors:LF,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(r,s){r&1&&(gi(VF),lt(0),x(1,"span",0),lt(2,1),R(),De(3,"div",1),me(4,UF,2,0,":svg:svg",2)),r&2&&(V(3),J("matRippleDisabled",s.disableRipple||s.disabled)("matRippleTrigger",s._getHostElement()),V(),et(4,s._triggersSubmenu?4:-1))},dependencies:[Bv],encapsulation:2,changeDetection:0});let t=e;return t})();var $F=new ie("MatMenuContent");var sh={transformMenu:Qi("transformMenu",[Or("void",un({opacity:0,transform:"scale(0.8)"})),Kn("void => enter",_i("120ms cubic-bezier(0, 0, 0.2, 1)",un({opacity:1,transform:"scale(1)"}))),Kn("* => void",_i("100ms 25ms linear",un({opacity:0})))]),fadeInItems:Qi("fadeInItems",[Or("showing",un({opacity:1})),Kn("void => *",[un({opacity:0}),_i("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},L5=sh.fadeInItems,U5=sh.transformMenu,zF=0,GF=new ie("mat-menu-default-options",{providedIn:"root",factory:HF});function HF(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var Fo=(()=>{let e=class e{get xPosition(){return this._xPosition}set xPosition(i){this._xPosition=i,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(i){this._yPosition=i,this.setPositionClasses()}set panelClass(i){let r=this._previousPanelClass,s=q({},this._classList);r&&r.length&&r.split(" ").forEach(o=>{s[o]=!1}),this._previousPanelClass=i,i&&i.length&&(i.split(" ").forEach(o=>{s[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=s}get classList(){return this.panelClass}set classList(i){this.panelClass=i}constructor(i,r,s,o){this._elementRef=i,this._ngZone=r,this._changeDetectorRef=o,this._elevationPrefix="mat-elevation-z",this._baseElevation=8,this._directDescendantItems=new vv,this._classList={},this._panelAnimationState="void",this._animationDone=new xe,this.closed=new qe,this.close=this.closed,this.panelId=`mat-menu-panel-${zF++}`,this.overlayPanelClass=s.overlayPanelClass||"",this._xPosition=s.xPosition,this._yPosition=s.yPosition,this.backdropClass=s.backdropClass,this.overlapTrigger=s.overlapTrigger,this.hasBackdrop=s.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Fv(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Gn(this._directDescendantItems),Tt(i=>Mn(...i.map(r=>r._focused)))).subscribe(i=>this._keyManager.updateActiveItem(i)),this._directDescendantItems.changes.subscribe(i=>{let r=this._keyManager;if(this._panelAnimationState==="enter"&&r.activeItem?._hasFocus()){let s=i.toArray(),o=Math.max(0,Math.min(s.length-1,r.activeItemIndex||0));s[o]&&!s[o].disabled?r.setActiveItem(o):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Gn(this._directDescendantItems),Tt(r=>Mn(...r.map(s=>s._hovered))))}addItem(i){}removeItem(i){}_handleKeydown(i){let r=i.keyCode,s=this._keyManager;switch(r){case 27:pa(i)||(i.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(r===38||r===40)&&s.setFocusOrigin("keyboard"),s.onKeydown(i);return}i.stopPropagation()}focusFirstItem(i="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(ht(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){let s=this._keyManager;s.setFocusOrigin(i).setFirstItemActive(),!s.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(i){let r=Math.min(this._baseElevation+i,24),s=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));if(!o||o===this._previousElevation){let l=q({},this._classList);this._previousElevation&&(l[this._previousElevation]=!1),l[s]=!0,this._previousElevation=s,this._classList=l}}setPositionClasses(i=this.xPosition,r=this.yPosition){this._classList=Me(q({},this._classList),{"mat-menu-before":i==="before","mat-menu-after":i==="after","mat-menu-above":r==="above","mat-menu-below":r==="below"}),this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(i){this._animationDone.next(i),this._isAnimating=!1}_onAnimationStart(i){this._isAnimating=!0,i.toState==="enter"&&this._keyManager.activeItemIndex===0&&(i.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Gn(this._allItems)).subscribe(i=>{this._directDescendantItems.reset(i.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}};e.\u0275fac=function(r){return new(r||e)(P(Le),P(ge),P(GF),P(At))},e.\u0275cmp=ce({type:e,selectors:[["mat-menu"]],contentQueries:function(r,s,o){if(r&1&&(Ke(o,$F,5),Ke(o,Bl,5),Ke(o,Bl,4)),r&2){let l;be(l=we())&&(s.lazyContent=l.first),be(l=we())&&(s._allItems=l),be(l=we())&&(s.items=l)}},viewQuery:function(r,s){if(r&1&&Wt(ac,5),r&2){let o;be(o=we())&&(s.templateRef=o.first)}},hostVars:3,hostBindings:function(r,s){r&2&&Xe("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[ae.None,"aria-label","ariaLabel"],ariaLabelledby:[ae.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[ae.None,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[ae.HasDecoratorInputTransform,"overlapTrigger","overlapTrigger",Ut],hasBackdrop:[ae.HasDecoratorInputTransform,"hasBackdrop","hasBackdrop",i=>i==null?null:Ut(i)],panelClass:[ae.None,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[Lt([{provide:l0,useExisting:e}]),Dr,ue],ngContentSelectors:BF,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(r,s){r&1&&(gi(),me(0,jF,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:var(--mat-menu-item-trailing-spacing);padding-right:var(--mat-menu-item-leading-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]),.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon])[dir=rtl]{padding-left:var(--mat-menu-item-with-icon-trailing-spacing);padding-right:var(--mat-menu-item-with-icon-leading-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[sh.transformMenu,sh.fadeInItems]},changeDetection:0});let t=e;return t})(),vT=new ie("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let t=j(Ki);return()=>t.scrollStrategies.reposition()}});function WF(t){return()=>t.scrollStrategies.reposition()}var qF={provide:vT,deps:[Ki],useFactory:WF},_T=vc({passive:!0});var yT=(()=>{let e=class e{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(i){this.menu=i}get menu(){return this._menu}set menu(i){i!==this._menu&&(this._menu=i,this._menuCloseSubscription.unsubscribe(),i&&(this._parentMaterialMenu,this._menuCloseSubscription=i.close.subscribe(r=>{this._destroyMenu(r),(r==="click"||r==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(i,r,s,o,l,c,u,f,m){this._overlay=i,this._element=r,this._viewContainerRef=s,this._menuItemInstance=c,this._dir=u,this._focusMonitor=f,this._ngZone=m,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=$i.EMPTY,this._hoverSubscription=$i.EMPTY,this._menuCloseSubscription=$i.EMPTY,this._changeDetectorRef=j(At),this._handleTouchStart=g=>{Lv(g)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new qe,this.onMenuOpen=this.menuOpened,this.menuClosed=new qe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=l instanceof Fo?l:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,_T)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,_T),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let i=this.menu;if(this._menuOpen||!i)return;let r=this._createOverlay(i),s=r.getConfig(),o=s.positionStrategy;this._setPosition(i,o),s.hasBackdrop=i.hasBackdrop==null?!this.triggersSubmenu():i.hasBackdrop,r.attach(this._getPortal(i)),i.lazyContent&&i.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(i),i instanceof Fo&&(i._startAnimation(),i._directDescendantItems.changes.pipe(Ve(i.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(i,r){this._focusMonitor&&i?this._focusMonitor.focusVia(this._element,i,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(i){if(!this._overlayRef||!this.menuOpen)return;let r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(i==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof Fo?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(at(s=>s.toState==="void"),ht(1),Ve(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(i){i.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,i.direction=this.dir,this._setMenuElevation(i),i.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(i){if(i.setElevation){let r=0,s=i.parentMenu;for(;s;)r++,s=s.parentMenu;i.setElevation(r)}}_setIsMenuOpen(i){i!==this._menuOpen&&(this._menuOpen=i,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(i),this._changeDetectorRef.markForCheck())}_createOverlay(i){if(!this._overlayRef){let r=this._getOverlayConfig(i);this._subscribeToPositions(i,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(i){return new Qv({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:i.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:i.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(i,r){i.setPositionClasses&&r.positionChanges.subscribe(s=>{let o=s.connectionPair.overlayX==="start"?"after":"before",l=s.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>i.setPositionClasses(o,l)):i.setPositionClasses(o,l)})}_setPosition(i,r){let[s,o]=i.xPosition==="before"?["end","start"]:["start","end"],[l,c]=i.yPosition==="above"?["bottom","top"]:["top","bottom"],[u,f]=[l,c],[m,g]=[s,o],w=0;if(this.triggersSubmenu()){if(g=s=i.xPosition==="before"?"start":"end",o=m=s==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let M=this._parentMaterialMenu.items.first;this._parentInnerPadding=M?M._getHostElement().offsetTop:0}w=l==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else i.overlapTrigger||(u=l==="top"?"bottom":"top",f=c==="top"?"bottom":"top");r.withPositions([{originX:s,originY:u,overlayX:m,overlayY:l,offsetY:w},{originX:o,originY:u,overlayX:g,overlayY:l,offsetY:w},{originX:s,originY:f,overlayX:m,overlayY:c,offsetY:-w},{originX:o,originY:f,overlayX:g,overlayY:c,offsetY:-w}])}_menuClosingActions(){let i=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),s=this._parentMaterialMenu?this._parentMaterialMenu.closed:ee(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(at(l=>l!==this._menuItemInstance),at(()=>this._menuOpen)):ee();return Mn(i,s,o,r)}_handleMousedown(i){Vv(i)||(this._openedBy=i.button===0?"mouse":void 0,this.triggersSubmenu()&&i.preventDefault())}_handleKeydown(i){let r=i.keyCode;(r===13||r===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(r===39&&this.dir==="ltr"||r===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(i){this.triggersSubmenu()?(i.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(at(i=>i===this._menuItemInstance&&!i.disabled),la(0,Sh)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Fo&&this.menu._isAnimating?this.menu._animationDone.pipe(ht(1),la(0,Sh),Ve(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(i){return(!this._portal||this._portal.templateRef!==i.templateRef)&&(this._portal=new Kv(i.templateRef,this._viewContainerRef)),this._portal}};e.\u0275fac=function(r){return new(r||e)(P(Ki),P(Le),P(ha),P(vT),P(l0,8),P(Bl,10),P(Fs,8),P(Wh),P(ge))},e.\u0275dir=ye({type:e,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(r,s){r&1&&G("click",function(l){return s._handleClick(l)})("mousedown",function(l){return s._handleMousedown(l)})("keydown",function(l){return s._handleKeydown(l)}),r&2&&Xe("aria-haspopup",s.menu?"menu":null)("aria-expanded",s.menuOpen)("aria-controls",s.menuOpen?s.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[ae.None,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[ae.None,"matMenuTriggerFor","menu"],menuData:[ae.None,"matMenuTriggerData","menuData"],restoreFocus:[ae.None,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0});let t=e;return t})(),oh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=St({type:e}),e.\u0275inj=Ct({providers:[qF],imports:[ft,jv,vn,Cc,Tc,vn]});let t=e;return t})();var QF=t=>({"disabled-span":t}),bT=(()=>{let e=class e{constructor(i,r,s){this.router=i,this.auth=r,this.help=s,this.noUser=!0,this.disable=!1}ngOnInit(){this.auth.user$.subscribe(i=>{i!=null&&(this.noUser=!1)}),this.auth.getUsername()}navigateToFeedback(){this.router.navigate(["/feedback"])}navigateToLogin(){this.router.navigate(["/login"])}navigateToWish(){this.router.navigate(["/wishes"])}openUserMenu(){this.router.navigate(["/userProfil"])}getUserName(){let i;return this.auth.user$.subscribe(r=>{i=r?.displayName}),i}logOut(){this.auth.logOut()}};e.\u0275fac=function(r){return new(r||e)(P(Pe),P(mt),P(_r))},e.\u0275cmp=ce({type:e,selectors:[["app-overlay"]],standalone:!0,features:[ue],decls:19,vars:8,consts:[["menu","matMenu"],["mat-icon-button","",1,"menu",3,"matMenuTriggerFor"],[1,"user",3,"click","ngClass"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click","disabled"]],template:function(r,s){if(r&1){let o=tt();x(0,"button",1)(1,"mat-icon"),N(2,"menu"),R()(),x(3,"mat-menu",null,0)(5,"span",2),G("click",function(){return re(o),se(s.openUserMenu())}),N(6),R(),x(7,"button",3),G("click",function(){return re(o),se(s.navigateToFeedback())}),x(8,"span"),N(9,"Feedback"),R()(),x(10,"button",4),G("click",function(){return re(o),se(s.navigateToWish())}),x(11,"span"),N(12,"W\xFCnsche"),R()(),x(13,"button",4),G("click",function(){return re(o),se(s.navigateToLogin())}),x(14,"span"),N(15,"Login"),R()(),x(16,"button",4),G("click",function(){return re(o),s.navigateToLogin(),se(s.logOut())}),x(17,"span"),N(18,"Abmelden"),R()()()}if(r&2){let o=qn(4);J("matMenuTriggerFor",o),V(5),J("ngClass",fa(6,QF,s.noUser||!s.help.userLoggedIn)),V(),xt(s.getUserName()),V(4),J("disabled",s.noUser||!s.help.userLoggedIn),V(3),J("disabled",!s.noUser||!s.help.userLoggedIn),V(3),J("disabled",s.noUser||!s.help.userLoggedIn)}},dependencies:[ft,Ps,oh,Fo,Bl,yT,Zi,Yi],styles:[".menu[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:unset}.user[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:10px}.disabled-span[_ngcontent-%COMP%]{display:none}"]});let t=e;return t})();var wT=(()=>{let e=class e{constructor(){this.title="wishlist"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ce({type:e,selectors:[["app-root"]],standalone:!0,features:[ue],decls:2,vars:0,consts:[[1,"overlay"]],template:function(r,s){r&1&&De(0,"app-overlay",0)(1,"router-outlet")},dependencies:[Mf,bT,Xt,oh,Rc],styles:[".overlay[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px}"]});let t=e;return t})();Mv(wT,gT).catch(t=>console.error(t));
